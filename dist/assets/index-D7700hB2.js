var Qm = e => { throw TypeError(e) }; var od = (e, t, r) => t.has(e) || Qm("Cannot " + r); var D = (e, t, r) => (od(e, t, "read from private field"), r ? r.call(e) : t.get(e)), xe = (e, t, r) => t.has(e) ? Qm("Cannot add the same private member more than once") : t instanceof WeakSet ? t.add(e) : t.set(e, r), le = (e, t, r, n) => (od(e, t, "write to private field"), n ? n.call(e, r) : t.set(e, r), r), dt = (e, t, r) => (od(e, t, "access private method"), r); var sl = (e, t, r, n) => ({ set _(s) { le(e, t, s, r) }, get _() { return D(e, t, n) } }); function Wy(e, t) { for (var r = 0; r < t.length; r++) { const n = t[r]; if (typeof n != "string" && !Array.isArray(n)) { for (const s in n) if (s !== "default" && !(s in e)) { const o = Object.getOwnPropertyDescriptor(n, s); o && Object.defineProperty(e, s, o.get ? o : { enumerable: !0, get: () => n[s] }) } } } return Object.freeze(Object.defineProperty(e, Symbol.toStringTag, { value: "Module" })) } (function () { const t = document.createElement("link").relList; if (t && t.supports && t.supports("modulepreload")) return; for (const s of document.querySelectorAll('link[rel="modulepreload"]')) n(s); new MutationObserver(s => { for (const o of s) if (o.type === "childList") for (const a of o.addedNodes) a.tagName === "LINK" && a.rel === "modulepreload" && n(a) }).observe(document, { childList: !0, subtree: !0 }); function r(s) { const o = {}; return s.integrity && (o.integrity = s.integrity), s.referrerPolicy && (o.referrerPolicy = s.referrerPolicy), s.crossOrigin === "use-credentials" ? o.credentials = "include" : s.crossOrigin === "anonymous" ? o.credentials = "omit" : o.credentials = "same-origin", o } function n(s) { if (s.ep) return; s.ep = !0; const o = r(s); fetch(s.href, o) } })(); var go = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {}; function Bf(e) { return e && e.__esModule && Object.prototype.hasOwnProperty.call(e, "default") ? e.default : e } function Ua(e) { if (e.__esModule) return e; var t = e.default; if (typeof t == "function") { var r = function n() { return this instanceof n ? Reflect.construct(t, arguments, this.constructor) : t.apply(this, arguments) }; r.prototype = t.prototype } else r = {}; return Object.defineProperty(r, "__esModule", { value: !0 }), Object.keys(e).forEach(function (n) { var s = Object.getOwnPropertyDescriptor(e, n); Object.defineProperty(r, n, s.get ? s : { enumerable: !0, get: function () { return e[n] } }) }), r } var qy = { exports: {} }, su = {}, Ky = { exports: {} }, ye = {};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var za = Symbol.for("react.element"), J_ = Symbol.for("react.portal"), X_ = Symbol.for("react.fragment"), Z_ = Symbol.for("react.strict_mode"), eN = Symbol.for("react.profiler"), tN = Symbol.for("react.provider"), rN = Symbol.for("react.context"), nN = Symbol.for("react.forward_ref"), sN = Symbol.for("react.suspense"), oN = Symbol.for("react.memo"), iN = Symbol.for("react.lazy"), Jm = Symbol.iterator; function aN(e) { return e === null || typeof e != "object" ? null : (e = Jm && e[Jm] || e["@@iterator"], typeof e == "function" ? e : null) } var Gy = { isMounted: function () { return !1 }, enqueueForceUpdate: function () { }, enqueueReplaceState: function () { }, enqueueSetState: function () { } }, Yy = Object.assign, Qy = {}; function bi(e, t, r) { this.props = e, this.context = t, this.refs = Qy, this.updater = r || Gy } bi.prototype.isReactComponent = {}; bi.prototype.setState = function (e, t) { if (typeof e != "object" && typeof e != "function" && e != null) throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables."); this.updater.enqueueSetState(this, e, t, "setState") }; bi.prototype.forceUpdate = function (e) { this.updater.enqueueForceUpdate(this, e, "forceUpdate") }; function Jy() { } Jy.prototype = bi.prototype; function Vf(e, t, r) { this.props = e, this.context = t, this.refs = Qy, this.updater = r || Gy } var Hf = Vf.prototype = new Jy; Hf.constructor = Vf; Yy(Hf, bi.prototype); Hf.isPureReactComponent = !0; var Xm = Array.isArray, Xy = Object.prototype.hasOwnProperty, Wf = { current: null }, Zy = { key: !0, ref: !0, __self: !0, __source: !0 }; function ex(e, t, r) { var n, s = {}, o = null, a = null; if (t != null) for (n in t.ref !== void 0 && (a = t.ref), t.key !== void 0 && (o = "" + t.key), t) Xy.call(t, n) && !Zy.hasOwnProperty(n) && (s[n] = t[n]); var l = arguments.length - 2; if (l === 1) s.children = r; else if (1 < l) { for (var c = Array(l), u = 0; u < l; u++)c[u] = arguments[u + 2]; s.children = c } if (e && e.defaultProps) for (n in l = e.defaultProps, l) s[n] === void 0 && (s[n] = l[n]); return { $$typeof: za, type: e, key: o, ref: a, props: s, _owner: Wf.current } } function lN(e, t) { return { $$typeof: za, type: e.type, key: t, ref: e.ref, props: e.props, _owner: e._owner } } function qf(e) { return typeof e == "object" && e !== null && e.$$typeof === za } function cN(e) { var t = { "=": "=0", ":": "=2" }; return "$" + e.replace(/[=:]/g, function (r) { return t[r] }) } var Zm = /\/+/g; function id(e, t) { return typeof e == "object" && e !== null && e.key != null ? cN("" + e.key) : t.toString(36) } function zl(e, t, r, n, s) { var o = typeof e; (o === "undefined" || o === "boolean") && (e = null); var a = !1; if (e === null) a = !0; else switch (o) { case "string": case "number": a = !0; break; case "object": switch (e.$$typeof) { case za: case J_: a = !0 } }if (a) return a = e, s = s(a), e = n === "" ? "." + id(a, 0) : n, Xm(s) ? (r = "", e != null && (r = e.replace(Zm, "$&/") + "/"), zl(s, t, r, "", function (u) { return u })) : s != null && (qf(s) && (s = lN(s, r + (!s.key || a && a.key === s.key ? "" : ("" + s.key).replace(Zm, "$&/") + "/") + e)), t.push(s)), 1; if (a = 0, n = n === "" ? "." : n + ":", Xm(e)) for (var l = 0; l < e.length; l++) { o = e[l]; var c = n + id(o, l); a += zl(o, t, r, c, s) } else if (c = aN(e), typeof c == "function") for (e = c.call(e), l = 0; !(o = e.next()).done;)o = o.value, c = n + id(o, l++), a += zl(o, t, r, c, s); else if (o === "object") throw t = String(e), Error("Objects are not valid as a React child (found: " + (t === "[object Object]" ? "object with keys {" + Object.keys(e).join(", ") + "}" : t) + "). If you meant to render a collection of children, use an array instead."); return a } function ol(e, t, r) { if (e == null) return e; var n = [], s = 0; return zl(e, n, "", "", function (o) { return t.call(r, o, s++) }), n } function uN(e) { if (e._status === -1) { var t = e._result; t = t(), t.then(function (r) { (e._status === 0 || e._status === -1) && (e._status = 1, e._result = r) }, function (r) { (e._status === 0 || e._status === -1) && (e._status = 2, e._result = r) }), e._status === -1 && (e._status = 0, e._result = t) } if (e._status === 1) return e._result.default; throw e._result } var Nt = { current: null }, Bl = { transition: null }, dN = { ReactCurrentDispatcher: Nt, ReactCurrentBatchConfig: Bl, ReactCurrentOwner: Wf }; function tx() { throw Error("act(...) is not supported in production builds of React.") } ye.Children = { map: ol, forEach: function (e, t, r) { ol(e, function () { t.apply(this, arguments) }, r) }, count: function (e) { var t = 0; return ol(e, function () { t++ }), t }, toArray: function (e) { return ol(e, function (t) { return t }) || [] }, only: function (e) { if (!qf(e)) throw Error("React.Children.only expected to receive a single React element child."); return e } }; ye.Component = bi; ye.Fragment = X_; ye.Profiler = eN; ye.PureComponent = Vf; ye.StrictMode = Z_; ye.Suspense = sN; ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = dN; ye.act = tx; ye.cloneElement = function (e, t, r) { if (e == null) throw Error("React.cloneElement(...): The argument must be a React element, but you passed " + e + "."); var n = Yy({}, e.props), s = e.key, o = e.ref, a = e._owner; if (t != null) { if (t.ref !== void 0 && (o = t.ref, a = Wf.current), t.key !== void 0 && (s = "" + t.key), e.type && e.type.defaultProps) var l = e.type.defaultProps; for (c in t) Xy.call(t, c) && !Zy.hasOwnProperty(c) && (n[c] = t[c] === void 0 && l !== void 0 ? l[c] : t[c]) } var c = arguments.length - 2; if (c === 1) n.children = r; else if (1 < c) { l = Array(c); for (var u = 0; u < c; u++)l[u] = arguments[u + 2]; n.children = l } return { $$typeof: za, type: e.type, key: s, ref: o, props: n, _owner: a } }; ye.createContext = function (e) { return e = { $$typeof: rN, _currentValue: e, _currentValue2: e, _threadCount: 0, Provider: null, Consumer: null, _defaultValue: null, _globalName: null }, e.Provider = { $$typeof: tN, _context: e }, e.Consumer = e }; ye.createElement = ex; ye.createFactory = function (e) { var t = ex.bind(null, e); return t.type = e, t }; ye.createRef = function () { return { current: null } }; ye.forwardRef = function (e) { return { $$typeof: nN, render: e } }; ye.isValidElement = qf; ye.lazy = function (e) { return { $$typeof: iN, _payload: { _status: -1, _result: e }, _init: uN } }; ye.memo = function (e, t) { return { $$typeof: oN, type: e, compare: t === void 0 ? null : t } }; ye.startTransition = function (e) { var t = Bl.transition; Bl.transition = {}; try { e() } finally { Bl.transition = t } }; ye.unstable_act = tx; ye.useCallback = function (e, t) { return Nt.current.useCallback(e, t) }; ye.useContext = function (e) { return Nt.current.useContext(e) }; ye.useDebugValue = function () { }; ye.useDeferredValue = function (e) { return Nt.current.useDeferredValue(e) }; ye.useEffect = function (e, t) { return Nt.current.useEffect(e, t) }; ye.useId = function () { return Nt.current.useId() }; ye.useImperativeHandle = function (e, t, r) { return Nt.current.useImperativeHandle(e, t, r) }; ye.useInsertionEffect = function (e, t) { return Nt.current.useInsertionEffect(e, t) }; ye.useLayoutEffect = function (e, t) { return Nt.current.useLayoutEffect(e, t) }; ye.useMemo = function (e, t) { return Nt.current.useMemo(e, t) }; ye.useReducer = function (e, t, r) { return Nt.current.useReducer(e, t, r) }; ye.useRef = function (e) { return Nt.current.useRef(e) }; ye.useState = function (e) { return Nt.current.useState(e) }; ye.useSyncExternalStore = function (e, t, r) { return Nt.current.useSyncExternalStore(e, t, r) }; ye.useTransition = function () { return Nt.current.useTransition() }; ye.version = "18.3.1"; Ky.exports = ye; var f = Ky.exports; const V = Bf(f), ou = Wy({ __proto__: null, default: V }, [f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hN = f, fN = Symbol.for("react.element"), pN = Symbol.for("react.fragment"), mN = Object.prototype.hasOwnProperty, gN = hN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner, vN = { key: !0, ref: !0, __self: !0, __source: !0 }; function rx(e, t, r) { var n, s = {}, o = null, a = null; r !== void 0 && (o = "" + r), t.key !== void 0 && (o = "" + t.key), t.ref !== void 0 && (a = t.ref); for (n in t) mN.call(t, n) && !vN.hasOwnProperty(n) && (s[n] = t[n]); if (e && e.defaultProps) for (n in t = e.defaultProps, t) s[n] === void 0 && (s[n] = t[n]); return { $$typeof: fN, type: e, key: o, ref: a, props: s, _owner: gN.current } } su.Fragment = pN; su.jsx = rx; su.jsxs = rx; qy.exports = su; var i = qy.exports, nx = { exports: {} }, Wt = {}, sx = { exports: {} }, ox = {};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function (e) { function t(I, N) { var $ = I.length; I.push(N); e: for (; 0 < $;) { var Y = $ - 1 >>> 1, G = I[Y]; if (0 < s(G, N)) I[Y] = N, I[$] = G, $ = Y; else break e } } function r(I) { return I.length === 0 ? null : I[0] } function n(I) { if (I.length === 0) return null; var N = I[0], $ = I.pop(); if ($ !== N) { I[0] = $; e: for (var Y = 0, G = I.length, re = G >>> 1; Y < re;) { var ne = 2 * (Y + 1) - 1, be = I[ne], q = ne + 1, B = I[q]; if (0 > s(be, $)) q < G && 0 > s(B, be) ? (I[Y] = B, I[q] = $, Y = q) : (I[Y] = be, I[ne] = $, Y = ne); else if (q < G && 0 > s(B, $)) I[Y] = B, I[q] = $, Y = q; else break e } } return N } function s(I, N) { var $ = I.sortIndex - N.sortIndex; return $ !== 0 ? $ : I.id - N.id } if (typeof performance == "object" && typeof performance.now == "function") { var o = performance; e.unstable_now = function () { return o.now() } } else { var a = Date, l = a.now(); e.unstable_now = function () { return a.now() - l } } var c = [], u = [], d = 1, p = null, m = 3, h = !1, x = !1, g = !1, b = typeof setTimeout == "function" ? setTimeout : null, v = typeof clearTimeout == "function" ? clearTimeout : null, y = typeof setImmediate < "u" ? setImmediate : null; typeof navigator < "u" && navigator.scheduling !== void 0 && navigator.scheduling.isInputPending !== void 0 && navigator.scheduling.isInputPending.bind(navigator.scheduling); function w(I) { for (var N = r(u); N !== null;) { if (N.callback === null) n(u); else if (N.startTime <= I) n(u), N.sortIndex = N.expirationTime, t(c, N); else break; N = r(u) } } function j(I) { if (g = !1, w(I), !x) if (r(c) !== null) x = !0, z(S); else { var N = r(u); N !== null && K(j, N.startTime - I) } } function S(I, N) { x = !1, g && (g = !1, v(k), k = -1), h = !0; var $ = m; try { for (w(N), p = r(c); p !== null && (!(p.expirationTime > N) || I && !L());) { var Y = p.callback; if (typeof Y == "function") { p.callback = null, m = p.priorityLevel; var G = Y(p.expirationTime <= N); N = e.unstable_now(), typeof G == "function" ? p.callback = G : p === r(c) && n(c), w(N) } else n(c); p = r(c) } if (p !== null) var re = !0; else { var ne = r(u); ne !== null && K(j, ne.startTime - N), re = !1 } return re } finally { p = null, m = $, h = !1 } } var _ = !1, C = null, k = -1, E = 5, P = -1; function L() { return !(e.unstable_now() - P < E) } function T() { if (C !== null) { var I = e.unstable_now(); P = I; var N = !0; try { N = C(!0, I) } finally { N ? R() : (_ = !1, C = null) } } else _ = !1 } var R; if (typeof y == "function") R = function () { y(T) }; else if (typeof MessageChannel < "u") { var O = new MessageChannel, U = O.port2; O.port1.onmessage = T, R = function () { U.postMessage(null) } } else R = function () { b(T, 0) }; function z(I) { C = I, _ || (_ = !0, R()) } function K(I, N) { k = b(function () { I(e.unstable_now()) }, N) } e.unstable_IdlePriority = 5, e.unstable_ImmediatePriority = 1, e.unstable_LowPriority = 4, e.unstable_NormalPriority = 3, e.unstable_Profiling = null, e.unstable_UserBlockingPriority = 2, e.unstable_cancelCallback = function (I) { I.callback = null }, e.unstable_continueExecution = function () { x || h || (x = !0, z(S)) }, e.unstable_forceFrameRate = function (I) { 0 > I || 125 < I ? console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported") : E = 0 < I ? Math.floor(1e3 / I) : 5 }, e.unstable_getCurrentPriorityLevel = function () { return m }, e.unstable_getFirstCallbackNode = function () { return r(c) }, e.unstable_next = function (I) { switch (m) { case 1: case 2: case 3: var N = 3; break; default: N = m }var $ = m; m = N; try { return I() } finally { m = $ } }, e.unstable_pauseExecution = function () { }, e.unstable_requestPaint = function () { }, e.unstable_runWithPriority = function (I, N) { switch (I) { case 1: case 2: case 3: case 4: case 5: break; default: I = 3 }var $ = m; m = I; try { return N() } finally { m = $ } }, e.unstable_scheduleCallback = function (I, N, $) { var Y = e.unstable_now(); switch (typeof $ == "object" && $ !== null ? ($ = $.delay, $ = typeof $ == "number" && 0 < $ ? Y + $ : Y) : $ = Y, I) { case 1: var G = -1; break; case 2: G = 250; break; case 5: G = 1073741823; break; case 4: G = 1e4; break; default: G = 5e3 }return G = $ + G, I = { id: d++, callback: N, priorityLevel: I, startTime: $, expirationTime: G, sortIndex: -1 }, $ > Y ? (I.sortIndex = $, t(u, I), r(c) === null && I === r(u) && (g ? (v(k), k = -1) : g = !0, K(j, $ - Y))) : (I.sortIndex = G, t(c, I), x || h || (x = !0, z(S))), I }, e.unstable_shouldYield = L, e.unstable_wrapCallback = function (I) { var N = m; return function () { var $ = m; m = N; try { return I.apply(this, arguments) } finally { m = $ } } } })(ox); sx.exports = ox; var yN = sx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xN = f, Ht = yN; function W(e) { for (var t = "https://reactjs.org/docs/error-decoder.html?invariant=" + e, r = 1; r < arguments.length; r++)t += "&args[]=" + encodeURIComponent(arguments[r]); return "Minified React error #" + e + "; visit " + t + " for the full message or use the non-minified dev environment for full errors and additional helpful warnings." } var ix = new Set, da = {}; function ho(e, t) { oi(e, t), oi(e + "Capture", t) } function oi(e, t) { for (da[e] = t, e = 0; e < t.length; e++)ix.add(t[e]) } var dn = !(typeof window > "u" || typeof window.document > "u" || typeof window.document.createElement > "u"), eh = Object.prototype.hasOwnProperty, wN = /^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/, eg = {}, tg = {}; function bN(e) { return eh.call(tg, e) ? !0 : eh.call(eg, e) ? !1 : wN.test(e) ? tg[e] = !0 : (eg[e] = !0, !1) } function jN(e, t, r, n) { if (r !== null && r.type === 0) return !1; switch (typeof t) { case "function": case "symbol": return !0; case "boolean": return n ? !1 : r !== null ? !r.acceptsBooleans : (e = e.toLowerCase().slice(0, 5), e !== "data-" && e !== "aria-"); default: return !1 } } function SN(e, t, r, n) { if (t === null || typeof t > "u" || jN(e, t, r, n)) return !0; if (n) return !1; if (r !== null) switch (r.type) { case 3: return !t; case 4: return t === !1; case 5: return isNaN(t); case 6: return isNaN(t) || 1 > t }return !1 } function Et(e, t, r, n, s, o, a) { this.acceptsBooleans = t === 2 || t === 3 || t === 4, this.attributeName = n, this.attributeNamespace = s, this.mustUseProperty = r, this.propertyName = e, this.type = t, this.sanitizeURL = o, this.removeEmptyString = a } var ct = {}; "children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function (e) { ct[e] = new Et(e, 0, !1, e, null, !1, !1) });[["acceptCharset", "accept-charset"], ["className", "class"], ["htmlFor", "for"], ["httpEquiv", "http-equiv"]].forEach(function (e) { var t = e[0]; ct[t] = new Et(t, 1, !1, e[1], null, !1, !1) });["contentEditable", "draggable", "spellCheck", "value"].forEach(function (e) { ct[e] = new Et(e, 2, !1, e.toLowerCase(), null, !1, !1) });["autoReverse", "externalResourcesRequired", "focusable", "preserveAlpha"].forEach(function (e) { ct[e] = new Et(e, 2, !1, e, null, !1, !1) }); "allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function (e) { ct[e] = new Et(e, 3, !1, e.toLowerCase(), null, !1, !1) });["checked", "multiple", "muted", "selected"].forEach(function (e) { ct[e] = new Et(e, 3, !0, e, null, !1, !1) });["capture", "download"].forEach(function (e) { ct[e] = new Et(e, 4, !1, e, null, !1, !1) });["cols", "rows", "size", "span"].forEach(function (e) { ct[e] = new Et(e, 6, !1, e, null, !1, !1) });["rowSpan", "start"].forEach(function (e) { ct[e] = new Et(e, 5, !1, e.toLowerCase(), null, !1, !1) }); var Kf = /[\-:]([a-z])/g; function Gf(e) { return e[1].toUpperCase() } "accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function (e) { var t = e.replace(Kf, Gf); ct[t] = new Et(t, 1, !1, e, null, !1, !1) }); "xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function (e) { var t = e.replace(Kf, Gf); ct[t] = new Et(t, 1, !1, e, "http://www.w3.org/1999/xlink", !1, !1) });["xml:base", "xml:lang", "xml:space"].forEach(function (e) { var t = e.replace(Kf, Gf); ct[t] = new Et(t, 1, !1, e, "http://www.w3.org/XML/1998/namespace", !1, !1) });["tabIndex", "crossOrigin"].forEach(function (e) { ct[e] = new Et(e, 1, !1, e.toLowerCase(), null, !1, !1) }); ct.xlinkHref = new Et("xlinkHref", 1, !1, "xlink:href", "http://www.w3.org/1999/xlink", !0, !1);["src", "href", "action", "formAction"].forEach(function (e) { ct[e] = new Et(e, 1, !1, e.toLowerCase(), null, !0, !0) }); function Yf(e, t, r, n) { var s = ct.hasOwnProperty(t) ? ct[t] : null; (s !== null ? s.type !== 0 : n || !(2 < t.length) || t[0] !== "o" && t[0] !== "O" || t[1] !== "n" && t[1] !== "N") && (SN(t, r, s, n) && (r = null), n || s === null ? bN(t) && (r === null ? e.removeAttribute(t) : e.setAttribute(t, "" + r)) : s.mustUseProperty ? e[s.propertyName] = r === null ? s.type === 3 ? !1 : "" : r : (t = s.attributeName, n = s.attributeNamespace, r === null ? e.removeAttribute(t) : (s = s.type, r = s === 3 || s === 4 && r === !0 ? "" : "" + r, n ? e.setAttributeNS(n, t, r) : e.setAttribute(t, r)))) } var wn = xN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED, il = Symbol.for("react.element"), ko = Symbol.for("react.portal"), Po = Symbol.for("react.fragment"), Qf = Symbol.for("react.strict_mode"), th = Symbol.for("react.profiler"), ax = Symbol.for("react.provider"), lx = Symbol.for("react.context"), Jf = Symbol.for("react.forward_ref"), rh = Symbol.for("react.suspense"), nh = Symbol.for("react.suspense_list"), Xf = Symbol.for("react.memo"), In = Symbol.for("react.lazy"), cx = Symbol.for("react.offscreen"), rg = Symbol.iterator; function Di(e) { return e === null || typeof e != "object" ? null : (e = rg && e[rg] || e["@@iterator"], typeof e == "function" ? e : null) } var Fe = Object.assign, ad; function Wi(e) {
  if (ad === void 0) try { throw Error() } catch (r) { var t = r.stack.trim().match(/\n( *(at )?)/); ad = t && t[1] || "" } return `
`+ ad + e
} var ld = !1; function cd(e, t) {
  if (!e || ld) return ""; ld = !0; var r = Error.prepareStackTrace; Error.prepareStackTrace = void 0; try { if (t) if (t = function () { throw Error() }, Object.defineProperty(t.prototype, "props", { set: function () { throw Error() } }), typeof Reflect == "object" && Reflect.construct) { try { Reflect.construct(t, []) } catch (u) { var n = u } Reflect.construct(e, [], t) } else { try { t.call() } catch (u) { n = u } e.call(t.prototype) } else { try { throw Error() } catch (u) { n = u } e() } } catch (u) {
    if (u && n && typeof u.stack == "string") {
      for (var s = u.stack.split(`
`), o = n.stack.split(`
`), a = s.length - 1, l = o.length - 1; 1 <= a && 0 <= l && s[a] !== o[l];)l--; for (; 1 <= a && 0 <= l; a--, l--)if (s[a] !== o[l]) {
        if (a !== 1 || l !== 1) do if (a--, l--, 0 > l || s[a] !== o[l]) {
          var c = `
`+ s[a].replace(" at new ", " at "); return e.displayName && c.includes("<anonymous>") && (c = c.replace("<anonymous>", e.displayName)), c
        } while (1 <= a && 0 <= l); break
      }
    }
  } finally { ld = !1, Error.prepareStackTrace = r } return (e = e ? e.displayName || e.name : "") ? Wi(e) : ""
} function _N(e) { switch (e.tag) { case 5: return Wi(e.type); case 16: return Wi("Lazy"); case 13: return Wi("Suspense"); case 19: return Wi("SuspenseList"); case 0: case 2: case 15: return e = cd(e.type, !1), e; case 11: return e = cd(e.type.render, !1), e; case 1: return e = cd(e.type, !0), e; default: return "" } } function sh(e) { if (e == null) return null; if (typeof e == "function") return e.displayName || e.name || null; if (typeof e == "string") return e; switch (e) { case Po: return "Fragment"; case ko: return "Portal"; case th: return "Profiler"; case Qf: return "StrictMode"; case rh: return "Suspense"; case nh: return "SuspenseList" }if (typeof e == "object") switch (e.$$typeof) { case lx: return (e.displayName || "Context") + ".Consumer"; case ax: return (e._context.displayName || "Context") + ".Provider"; case Jf: var t = e.render; return e = e.displayName, e || (e = t.displayName || t.name || "", e = e !== "" ? "ForwardRef(" + e + ")" : "ForwardRef"), e; case Xf: return t = e.displayName || null, t !== null ? t : sh(e.type) || "Memo"; case In: t = e._payload, e = e._init; try { return sh(e(t)) } catch { } }return null } function NN(e) { var t = e.type; switch (e.tag) { case 24: return "Cache"; case 9: return (t.displayName || "Context") + ".Consumer"; case 10: return (t._context.displayName || "Context") + ".Provider"; case 18: return "DehydratedFragment"; case 11: return e = t.render, e = e.displayName || e.name || "", t.displayName || (e !== "" ? "ForwardRef(" + e + ")" : "ForwardRef"); case 7: return "Fragment"; case 5: return t; case 4: return "Portal"; case 3: return "Root"; case 6: return "Text"; case 16: return sh(t); case 8: return t === Qf ? "StrictMode" : "Mode"; case 22: return "Offscreen"; case 12: return "Profiler"; case 21: return "Scope"; case 13: return "Suspense"; case 19: return "SuspenseList"; case 25: return "TracingMarker"; case 1: case 0: case 17: case 2: case 14: case 15: if (typeof t == "function") return t.displayName || t.name || null; if (typeof t == "string") return t }return null } function is(e) { switch (typeof e) { case "boolean": case "number": case "string": case "undefined": return e; case "object": return e; default: return "" } } function ux(e) { var t = e.type; return (e = e.nodeName) && e.toLowerCase() === "input" && (t === "checkbox" || t === "radio") } function EN(e) { var t = ux(e) ? "checked" : "value", r = Object.getOwnPropertyDescriptor(e.constructor.prototype, t), n = "" + e[t]; if (!e.hasOwnProperty(t) && typeof r < "u" && typeof r.get == "function" && typeof r.set == "function") { var s = r.get, o = r.set; return Object.defineProperty(e, t, { configurable: !0, get: function () { return s.call(this) }, set: function (a) { n = "" + a, o.call(this, a) } }), Object.defineProperty(e, t, { enumerable: r.enumerable }), { getValue: function () { return n }, setValue: function (a) { n = "" + a }, stopTracking: function () { e._valueTracker = null, delete e[t] } } } } function al(e) { e._valueTracker || (e._valueTracker = EN(e)) } function dx(e) { if (!e) return !1; var t = e._valueTracker; if (!t) return !0; var r = t.getValue(), n = ""; return e && (n = ux(e) ? e.checked ? "true" : "false" : e.value), e = n, e !== r ? (t.setValue(e), !0) : !1 } function uc(e) { if (e = e || (typeof document < "u" ? document : void 0), typeof e > "u") return null; try { return e.activeElement || e.body } catch { return e.body } } function oh(e, t) { var r = t.checked; return Fe({}, t, { defaultChecked: void 0, defaultValue: void 0, value: void 0, checked: r ?? e._wrapperState.initialChecked }) } function ng(e, t) { var r = t.defaultValue == null ? "" : t.defaultValue, n = t.checked != null ? t.checked : t.defaultChecked; r = is(t.value != null ? t.value : r), e._wrapperState = { initialChecked: n, initialValue: r, controlled: t.type === "checkbox" || t.type === "radio" ? t.checked != null : t.value != null } } function hx(e, t) { t = t.checked, t != null && Yf(e, "checked", t, !1) } function ih(e, t) { hx(e, t); var r = is(t.value), n = t.type; if (r != null) n === "number" ? (r === 0 && e.value === "" || e.value != r) && (e.value = "" + r) : e.value !== "" + r && (e.value = "" + r); else if (n === "submit" || n === "reset") { e.removeAttribute("value"); return } t.hasOwnProperty("value") ? ah(e, t.type, r) : t.hasOwnProperty("defaultValue") && ah(e, t.type, is(t.defaultValue)), t.checked == null && t.defaultChecked != null && (e.defaultChecked = !!t.defaultChecked) } function sg(e, t, r) { if (t.hasOwnProperty("value") || t.hasOwnProperty("defaultValue")) { var n = t.type; if (!(n !== "submit" && n !== "reset" || t.value !== void 0 && t.value !== null)) return; t = "" + e._wrapperState.initialValue, r || t === e.value || (e.value = t), e.defaultValue = t } r = e.name, r !== "" && (e.name = ""), e.defaultChecked = !!e._wrapperState.initialChecked, r !== "" && (e.name = r) } function ah(e, t, r) { (t !== "number" || uc(e.ownerDocument) !== e) && (r == null ? e.defaultValue = "" + e._wrapperState.initialValue : e.defaultValue !== "" + r && (e.defaultValue = "" + r)) } var qi = Array.isArray; function Uo(e, t, r, n) { if (e = e.options, t) { t = {}; for (var s = 0; s < r.length; s++)t["$" + r[s]] = !0; for (r = 0; r < e.length; r++)s = t.hasOwnProperty("$" + e[r].value), e[r].selected !== s && (e[r].selected = s), s && n && (e[r].defaultSelected = !0) } else { for (r = "" + is(r), t = null, s = 0; s < e.length; s++) { if (e[s].value === r) { e[s].selected = !0, n && (e[s].defaultSelected = !0); return } t !== null || e[s].disabled || (t = e[s]) } t !== null && (t.selected = !0) } } function lh(e, t) { if (t.dangerouslySetInnerHTML != null) throw Error(W(91)); return Fe({}, t, { value: void 0, defaultValue: void 0, children: "" + e._wrapperState.initialValue }) } function og(e, t) { var r = t.value; if (r == null) { if (r = t.children, t = t.defaultValue, r != null) { if (t != null) throw Error(W(92)); if (qi(r)) { if (1 < r.length) throw Error(W(93)); r = r[0] } t = r } t == null && (t = ""), r = t } e._wrapperState = { initialValue: is(r) } } function fx(e, t) { var r = is(t.value), n = is(t.defaultValue); r != null && (r = "" + r, r !== e.value && (e.value = r), t.defaultValue == null && e.defaultValue !== r && (e.defaultValue = r)), n != null && (e.defaultValue = "" + n) } function ig(e) { var t = e.textContent; t === e._wrapperState.initialValue && t !== "" && t !== null && (e.value = t) } function px(e) { switch (e) { case "svg": return "http://www.w3.org/2000/svg"; case "math": return "http://www.w3.org/1998/Math/MathML"; default: return "http://www.w3.org/1999/xhtml" } } function ch(e, t) { return e == null || e === "http://www.w3.org/1999/xhtml" ? px(t) : e === "http://www.w3.org/2000/svg" && t === "foreignObject" ? "http://www.w3.org/1999/xhtml" : e } var ll, mx = function (e) { return typeof MSApp < "u" && MSApp.execUnsafeLocalFunction ? function (t, r, n, s) { MSApp.execUnsafeLocalFunction(function () { return e(t, r, n, s) }) } : e }(function (e, t) { if (e.namespaceURI !== "http://www.w3.org/2000/svg" || "innerHTML" in e) e.innerHTML = t; else { for (ll = ll || document.createElement("div"), ll.innerHTML = "<svg>" + t.valueOf().toString() + "</svg>", t = ll.firstChild; e.firstChild;)e.removeChild(e.firstChild); for (; t.firstChild;)e.appendChild(t.firstChild) } }); function ha(e, t) { if (t) { var r = e.firstChild; if (r && r === e.lastChild && r.nodeType === 3) { r.nodeValue = t; return } } e.textContent = t } var ea = { animationIterationCount: !0, aspectRatio: !0, borderImageOutset: !0, borderImageSlice: !0, borderImageWidth: !0, boxFlex: !0, boxFlexGroup: !0, boxOrdinalGroup: !0, columnCount: !0, columns: !0, flex: !0, flexGrow: !0, flexPositive: !0, flexShrink: !0, flexNegative: !0, flexOrder: !0, gridArea: !0, gridRow: !0, gridRowEnd: !0, gridRowSpan: !0, gridRowStart: !0, gridColumn: !0, gridColumnEnd: !0, gridColumnSpan: !0, gridColumnStart: !0, fontWeight: !0, lineClamp: !0, lineHeight: !0, opacity: !0, order: !0, orphans: !0, tabSize: !0, widows: !0, zIndex: !0, zoom: !0, fillOpacity: !0, floodOpacity: !0, stopOpacity: !0, strokeDasharray: !0, strokeDashoffset: !0, strokeMiterlimit: !0, strokeOpacity: !0, strokeWidth: !0 }, CN = ["Webkit", "ms", "Moz", "O"]; Object.keys(ea).forEach(function (e) { CN.forEach(function (t) { t = t + e.charAt(0).toUpperCase() + e.substring(1), ea[t] = ea[e] }) }); function gx(e, t, r) { return t == null || typeof t == "boolean" || t === "" ? "" : r || typeof t != "number" || t === 0 || ea.hasOwnProperty(e) && ea[e] ? ("" + t).trim() : t + "px" } function vx(e, t) { e = e.style; for (var r in t) if (t.hasOwnProperty(r)) { var n = r.indexOf("--") === 0, s = gx(r, t[r], n); r === "float" && (r = "cssFloat"), n ? e.setProperty(r, s) : e[r] = s } } var kN = Fe({ menuitem: !0 }, { area: !0, base: !0, br: !0, col: !0, embed: !0, hr: !0, img: !0, input: !0, keygen: !0, link: !0, meta: !0, param: !0, source: !0, track: !0, wbr: !0 }); function uh(e, t) { if (t) { if (kN[e] && (t.children != null || t.dangerouslySetInnerHTML != null)) throw Error(W(137, e)); if (t.dangerouslySetInnerHTML != null) { if (t.children != null) throw Error(W(60)); if (typeof t.dangerouslySetInnerHTML != "object" || !("__html" in t.dangerouslySetInnerHTML)) throw Error(W(61)) } if (t.style != null && typeof t.style != "object") throw Error(W(62)) } } function dh(e, t) { if (e.indexOf("-") === -1) return typeof t.is == "string"; switch (e) { case "annotation-xml": case "color-profile": case "font-face": case "font-face-src": case "font-face-uri": case "font-face-format": case "font-face-name": case "missing-glyph": return !1; default: return !0 } } var hh = null; function Zf(e) { return e = e.target || e.srcElement || window, e.correspondingUseElement && (e = e.correspondingUseElement), e.nodeType === 3 ? e.parentNode : e } var fh = null, zo = null, Bo = null; function ag(e) { if (e = Ha(e)) { if (typeof fh != "function") throw Error(W(280)); var t = e.stateNode; t && (t = uu(t), fh(e.stateNode, e.type, t)) } } function yx(e) { zo ? Bo ? Bo.push(e) : Bo = [e] : zo = e } function xx() { if (zo) { var e = zo, t = Bo; if (Bo = zo = null, ag(e), t) for (e = 0; e < t.length; e++)ag(t[e]) } } function wx(e, t) { return e(t) } function bx() { } var ud = !1; function jx(e, t, r) { if (ud) return e(t, r); ud = !0; try { return wx(e, t, r) } finally { ud = !1, (zo !== null || Bo !== null) && (bx(), xx()) } } function fa(e, t) { var r = e.stateNode; if (r === null) return null; var n = uu(r); if (n === null) return null; r = n[t]; e: switch (t) { case "onClick": case "onClickCapture": case "onDoubleClick": case "onDoubleClickCapture": case "onMouseDown": case "onMouseDownCapture": case "onMouseMove": case "onMouseMoveCapture": case "onMouseUp": case "onMouseUpCapture": case "onMouseEnter": (n = !n.disabled) || (e = e.type, n = !(e === "button" || e === "input" || e === "select" || e === "textarea")), e = !n; break e; default: e = !1 }if (e) return null; if (r && typeof r != "function") throw Error(W(231, t, typeof r)); return r } var ph = !1; if (dn) try { var Li = {}; Object.defineProperty(Li, "passive", { get: function () { ph = !0 } }), window.addEventListener("test", Li, Li), window.removeEventListener("test", Li, Li) } catch { ph = !1 } function PN(e, t, r, n, s, o, a, l, c) { var u = Array.prototype.slice.call(arguments, 3); try { t.apply(r, u) } catch (d) { this.onError(d) } } var ta = !1, dc = null, hc = !1, mh = null, TN = { onError: function (e) { ta = !0, dc = e } }; function RN(e, t, r, n, s, o, a, l, c) { ta = !1, dc = null, PN.apply(TN, arguments) } function AN(e, t, r, n, s, o, a, l, c) { if (RN.apply(this, arguments), ta) { if (ta) { var u = dc; ta = !1, dc = null } else throw Error(W(198)); hc || (hc = !0, mh = u) } } function fo(e) { var t = e, r = e; if (e.alternate) for (; t.return;)t = t.return; else { e = t; do t = e, t.flags & 4098 && (r = t.return), e = t.return; while (e) } return t.tag === 3 ? r : null } function Sx(e) { if (e.tag === 13) { var t = e.memoizedState; if (t === null && (e = e.alternate, e !== null && (t = e.memoizedState)), t !== null) return t.dehydrated } return null } function lg(e) { if (fo(e) !== e) throw Error(W(188)) } function ON(e) { var t = e.alternate; if (!t) { if (t = fo(e), t === null) throw Error(W(188)); return t !== e ? null : e } for (var r = e, n = t; ;) { var s = r.return; if (s === null) break; var o = s.alternate; if (o === null) { if (n = s.return, n !== null) { r = n; continue } break } if (s.child === o.child) { for (o = s.child; o;) { if (o === r) return lg(s), e; if (o === n) return lg(s), t; o = o.sibling } throw Error(W(188)) } if (r.return !== n.return) r = s, n = o; else { for (var a = !1, l = s.child; l;) { if (l === r) { a = !0, r = s, n = o; break } if (l === n) { a = !0, n = s, r = o; break } l = l.sibling } if (!a) { for (l = o.child; l;) { if (l === r) { a = !0, r = o, n = s; break } if (l === n) { a = !0, n = o, r = s; break } l = l.sibling } if (!a) throw Error(W(189)) } } if (r.alternate !== n) throw Error(W(190)) } if (r.tag !== 3) throw Error(W(188)); return r.stateNode.current === r ? e : t } function _x(e) { return e = ON(e), e !== null ? Nx(e) : null } function Nx(e) { if (e.tag === 5 || e.tag === 6) return e; for (e = e.child; e !== null;) { var t = Nx(e); if (t !== null) return t; e = e.sibling } return null } var Ex = Ht.unstable_scheduleCallback, cg = Ht.unstable_cancelCallback, IN = Ht.unstable_shouldYield, DN = Ht.unstable_requestPaint, We = Ht.unstable_now, LN = Ht.unstable_getCurrentPriorityLevel, ep = Ht.unstable_ImmediatePriority, Cx = Ht.unstable_UserBlockingPriority, fc = Ht.unstable_NormalPriority, $N = Ht.unstable_LowPriority, kx = Ht.unstable_IdlePriority, iu = null, Br = null; function MN(e) { if (Br && typeof Br.onCommitFiberRoot == "function") try { Br.onCommitFiberRoot(iu, e, void 0, (e.current.flags & 128) === 128) } catch { } } var wr = Math.clz32 ? Math.clz32 : zN, FN = Math.log, UN = Math.LN2; function zN(e) { return e >>>= 0, e === 0 ? 32 : 31 - (FN(e) / UN | 0) | 0 } var cl = 64, ul = 4194304; function Ki(e) { switch (e & -e) { case 1: return 1; case 2: return 2; case 4: return 4; case 8: return 8; case 16: return 16; case 32: return 32; case 64: case 128: case 256: case 512: case 1024: case 2048: case 4096: case 8192: case 16384: case 32768: case 65536: case 131072: case 262144: case 524288: case 1048576: case 2097152: return e & 4194240; case 4194304: case 8388608: case 16777216: case 33554432: case 67108864: return e & 130023424; case 134217728: return 134217728; case 268435456: return 268435456; case 536870912: return 536870912; case 1073741824: return 1073741824; default: return e } } function pc(e, t) { var r = e.pendingLanes; if (r === 0) return 0; var n = 0, s = e.suspendedLanes, o = e.pingedLanes, a = r & 268435455; if (a !== 0) { var l = a & ~s; l !== 0 ? n = Ki(l) : (o &= a, o !== 0 && (n = Ki(o))) } else a = r & ~s, a !== 0 ? n = Ki(a) : o !== 0 && (n = Ki(o)); if (n === 0) return 0; if (t !== 0 && t !== n && !(t & s) && (s = n & -n, o = t & -t, s >= o || s === 16 && (o & 4194240) !== 0)) return t; if (n & 4 && (n |= r & 16), t = e.entangledLanes, t !== 0) for (e = e.entanglements, t &= n; 0 < t;)r = 31 - wr(t), s = 1 << r, n |= e[r], t &= ~s; return n } function BN(e, t) { switch (e) { case 1: case 2: case 4: return t + 250; case 8: case 16: case 32: case 64: case 128: case 256: case 512: case 1024: case 2048: case 4096: case 8192: case 16384: case 32768: case 65536: case 131072: case 262144: case 524288: case 1048576: case 2097152: return t + 5e3; case 4194304: case 8388608: case 16777216: case 33554432: case 67108864: return -1; case 134217728: case 268435456: case 536870912: case 1073741824: return -1; default: return -1 } } function VN(e, t) { for (var r = e.suspendedLanes, n = e.pingedLanes, s = e.expirationTimes, o = e.pendingLanes; 0 < o;) { var a = 31 - wr(o), l = 1 << a, c = s[a]; c === -1 ? (!(l & r) || l & n) && (s[a] = BN(l, t)) : c <= t && (e.expiredLanes |= l), o &= ~l } } function gh(e) { return e = e.pendingLanes & -1073741825, e !== 0 ? e : e & 1073741824 ? 1073741824 : 0 } function Px() { var e = cl; return cl <<= 1, !(cl & 4194240) && (cl = 64), e } function dd(e) { for (var t = [], r = 0; 31 > r; r++)t.push(e); return t } function Ba(e, t, r) { e.pendingLanes |= t, t !== 536870912 && (e.suspendedLanes = 0, e.pingedLanes = 0), e = e.eventTimes, t = 31 - wr(t), e[t] = r } function HN(e, t) { var r = e.pendingLanes & ~t; e.pendingLanes = t, e.suspendedLanes = 0, e.pingedLanes = 0, e.expiredLanes &= t, e.mutableReadLanes &= t, e.entangledLanes &= t, t = e.entanglements; var n = e.eventTimes; for (e = e.expirationTimes; 0 < r;) { var s = 31 - wr(r), o = 1 << s; t[s] = 0, n[s] = -1, e[s] = -1, r &= ~o } } function tp(e, t) { var r = e.entangledLanes |= t; for (e = e.entanglements; r;) { var n = 31 - wr(r), s = 1 << n; s & t | e[n] & t && (e[n] |= t), r &= ~s } } var _e = 0; function Tx(e) { return e &= -e, 1 < e ? 4 < e ? e & 268435455 ? 16 : 536870912 : 4 : 1 } var Rx, rp, Ax, Ox, Ix, vh = !1, dl = [], Yn = null, Qn = null, Jn = null, pa = new Map, ma = new Map, Ln = [], WN = "mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" "); function ug(e, t) { switch (e) { case "focusin": case "focusout": Yn = null; break; case "dragenter": case "dragleave": Qn = null; break; case "mouseover": case "mouseout": Jn = null; break; case "pointerover": case "pointerout": pa.delete(t.pointerId); break; case "gotpointercapture": case "lostpointercapture": ma.delete(t.pointerId) } } function $i(e, t, r, n, s, o) { return e === null || e.nativeEvent !== o ? (e = { blockedOn: t, domEventName: r, eventSystemFlags: n, nativeEvent: o, targetContainers: [s] }, t !== null && (t = Ha(t), t !== null && rp(t)), e) : (e.eventSystemFlags |= n, t = e.targetContainers, s !== null && t.indexOf(s) === -1 && t.push(s), e) } function qN(e, t, r, n, s) { switch (t) { case "focusin": return Yn = $i(Yn, e, t, r, n, s), !0; case "dragenter": return Qn = $i(Qn, e, t, r, n, s), !0; case "mouseover": return Jn = $i(Jn, e, t, r, n, s), !0; case "pointerover": var o = s.pointerId; return pa.set(o, $i(pa.get(o) || null, e, t, r, n, s)), !0; case "gotpointercapture": return o = s.pointerId, ma.set(o, $i(ma.get(o) || null, e, t, r, n, s)), !0 }return !1 } function Dx(e) { var t = Fs(e.target); if (t !== null) { var r = fo(t); if (r !== null) { if (t = r.tag, t === 13) { if (t = Sx(r), t !== null) { e.blockedOn = t, Ix(e.priority, function () { Ax(r) }); return } } else if (t === 3 && r.stateNode.current.memoizedState.isDehydrated) { e.blockedOn = r.tag === 3 ? r.stateNode.containerInfo : null; return } } } e.blockedOn = null } function Vl(e) { if (e.blockedOn !== null) return !1; for (var t = e.targetContainers; 0 < t.length;) { var r = yh(e.domEventName, e.eventSystemFlags, t[0], e.nativeEvent); if (r === null) { r = e.nativeEvent; var n = new r.constructor(r.type, r); hh = n, r.target.dispatchEvent(n), hh = null } else return t = Ha(r), t !== null && rp(t), e.blockedOn = r, !1; t.shift() } return !0 } function dg(e, t, r) { Vl(e) && r.delete(t) } function KN() { vh = !1, Yn !== null && Vl(Yn) && (Yn = null), Qn !== null && Vl(Qn) && (Qn = null), Jn !== null && Vl(Jn) && (Jn = null), pa.forEach(dg), ma.forEach(dg) } function Mi(e, t) { e.blockedOn === t && (e.blockedOn = null, vh || (vh = !0, Ht.unstable_scheduleCallback(Ht.unstable_NormalPriority, KN))) } function ga(e) { function t(s) { return Mi(s, e) } if (0 < dl.length) { Mi(dl[0], e); for (var r = 1; r < dl.length; r++) { var n = dl[r]; n.blockedOn === e && (n.blockedOn = null) } } for (Yn !== null && Mi(Yn, e), Qn !== null && Mi(Qn, e), Jn !== null && Mi(Jn, e), pa.forEach(t), ma.forEach(t), r = 0; r < Ln.length; r++)n = Ln[r], n.blockedOn === e && (n.blockedOn = null); for (; 0 < Ln.length && (r = Ln[0], r.blockedOn === null);)Dx(r), r.blockedOn === null && Ln.shift() } var Vo = wn.ReactCurrentBatchConfig, mc = !0; function GN(e, t, r, n) { var s = _e, o = Vo.transition; Vo.transition = null; try { _e = 1, np(e, t, r, n) } finally { _e = s, Vo.transition = o } } function YN(e, t, r, n) { var s = _e, o = Vo.transition; Vo.transition = null; try { _e = 4, np(e, t, r, n) } finally { _e = s, Vo.transition = o } } function np(e, t, r, n) { if (mc) { var s = yh(e, t, r, n); if (s === null) bd(e, t, n, gc, r), ug(e, n); else if (qN(s, e, t, r, n)) n.stopPropagation(); else if (ug(e, n), t & 4 && -1 < WN.indexOf(e)) { for (; s !== null;) { var o = Ha(s); if (o !== null && Rx(o), o = yh(e, t, r, n), o === null && bd(e, t, n, gc, r), o === s) break; s = o } s !== null && n.stopPropagation() } else bd(e, t, n, null, r) } } var gc = null; function yh(e, t, r, n) { if (gc = null, e = Zf(n), e = Fs(e), e !== null) if (t = fo(e), t === null) e = null; else if (r = t.tag, r === 13) { if (e = Sx(t), e !== null) return e; e = null } else if (r === 3) { if (t.stateNode.current.memoizedState.isDehydrated) return t.tag === 3 ? t.stateNode.containerInfo : null; e = null } else t !== e && (e = null); return gc = e, null } function Lx(e) { switch (e) { case "cancel": case "click": case "close": case "contextmenu": case "copy": case "cut": case "auxclick": case "dblclick": case "dragend": case "dragstart": case "drop": case "focusin": case "focusout": case "input": case "invalid": case "keydown": case "keypress": case "keyup": case "mousedown": case "mouseup": case "paste": case "pause": case "play": case "pointercancel": case "pointerdown": case "pointerup": case "ratechange": case "reset": case "resize": case "seeked": case "submit": case "touchcancel": case "touchend": case "touchstart": case "volumechange": case "change": case "selectionchange": case "textInput": case "compositionstart": case "compositionend": case "compositionupdate": case "beforeblur": case "afterblur": case "beforeinput": case "blur": case "fullscreenchange": case "focus": case "hashchange": case "popstate": case "select": case "selectstart": return 1; case "drag": case "dragenter": case "dragexit": case "dragleave": case "dragover": case "mousemove": case "mouseout": case "mouseover": case "pointermove": case "pointerout": case "pointerover": case "scroll": case "toggle": case "touchmove": case "wheel": case "mouseenter": case "mouseleave": case "pointerenter": case "pointerleave": return 4; case "message": switch (LN()) { case ep: return 1; case Cx: return 4; case fc: case $N: return 16; case kx: return 536870912; default: return 16 }default: return 16 } } var qn = null, sp = null, Hl = null; function $x() { if (Hl) return Hl; var e, t = sp, r = t.length, n, s = "value" in qn ? qn.value : qn.textContent, o = s.length; for (e = 0; e < r && t[e] === s[e]; e++); var a = r - e; for (n = 1; n <= a && t[r - n] === s[o - n]; n++); return Hl = s.slice(e, 1 < n ? 1 - n : void 0) } function Wl(e) { var t = e.keyCode; return "charCode" in e ? (e = e.charCode, e === 0 && t === 13 && (e = 13)) : e = t, e === 10 && (e = 13), 32 <= e || e === 13 ? e : 0 } function hl() { return !0 } function hg() { return !1 } function qt(e) { function t(r, n, s, o, a) { this._reactName = r, this._targetInst = s, this.type = n, this.nativeEvent = o, this.target = a, this.currentTarget = null; for (var l in e) e.hasOwnProperty(l) && (r = e[l], this[l] = r ? r(o) : o[l]); return this.isDefaultPrevented = (o.defaultPrevented != null ? o.defaultPrevented : o.returnValue === !1) ? hl : hg, this.isPropagationStopped = hg, this } return Fe(t.prototype, { preventDefault: function () { this.defaultPrevented = !0; var r = this.nativeEvent; r && (r.preventDefault ? r.preventDefault() : typeof r.returnValue != "unknown" && (r.returnValue = !1), this.isDefaultPrevented = hl) }, stopPropagation: function () { var r = this.nativeEvent; r && (r.stopPropagation ? r.stopPropagation() : typeof r.cancelBubble != "unknown" && (r.cancelBubble = !0), this.isPropagationStopped = hl) }, persist: function () { }, isPersistent: hl }), t } var ji = { eventPhase: 0, bubbles: 0, cancelable: 0, timeStamp: function (e) { return e.timeStamp || Date.now() }, defaultPrevented: 0, isTrusted: 0 }, op = qt(ji), Va = Fe({}, ji, { view: 0, detail: 0 }), QN = qt(Va), hd, fd, Fi, au = Fe({}, Va, { screenX: 0, screenY: 0, clientX: 0, clientY: 0, pageX: 0, pageY: 0, ctrlKey: 0, shiftKey: 0, altKey: 0, metaKey: 0, getModifierState: ip, button: 0, buttons: 0, relatedTarget: function (e) { return e.relatedTarget === void 0 ? e.fromElement === e.srcElement ? e.toElement : e.fromElement : e.relatedTarget }, movementX: function (e) { return "movementX" in e ? e.movementX : (e !== Fi && (Fi && e.type === "mousemove" ? (hd = e.screenX - Fi.screenX, fd = e.screenY - Fi.screenY) : fd = hd = 0, Fi = e), hd) }, movementY: function (e) { return "movementY" in e ? e.movementY : fd } }), fg = qt(au), JN = Fe({}, au, { dataTransfer: 0 }), XN = qt(JN), ZN = Fe({}, Va, { relatedTarget: 0 }), pd = qt(ZN), eE = Fe({}, ji, { animationName: 0, elapsedTime: 0, pseudoElement: 0 }), tE = qt(eE), rE = Fe({}, ji, { clipboardData: function (e) { return "clipboardData" in e ? e.clipboardData : window.clipboardData } }), nE = qt(rE), sE = Fe({}, ji, { data: 0 }), pg = qt(sE), oE = { Esc: "Escape", Spacebar: " ", Left: "ArrowLeft", Up: "ArrowUp", Right: "ArrowRight", Down: "ArrowDown", Del: "Delete", Win: "OS", Menu: "ContextMenu", Apps: "ContextMenu", Scroll: "ScrollLock", MozPrintableKey: "Unidentified" }, iE = { 8: "Backspace", 9: "Tab", 12: "Clear", 13: "Enter", 16: "Shift", 17: "Control", 18: "Alt", 19: "Pause", 20: "CapsLock", 27: "Escape", 32: " ", 33: "PageUp", 34: "PageDown", 35: "End", 36: "Home", 37: "ArrowLeft", 38: "ArrowUp", 39: "ArrowRight", 40: "ArrowDown", 45: "Insert", 46: "Delete", 112: "F1", 113: "F2", 114: "F3", 115: "F4", 116: "F5", 117: "F6", 118: "F7", 119: "F8", 120: "F9", 121: "F10", 122: "F11", 123: "F12", 144: "NumLock", 145: "ScrollLock", 224: "Meta" }, aE = { Alt: "altKey", Control: "ctrlKey", Meta: "metaKey", Shift: "shiftKey" }; function lE(e) { var t = this.nativeEvent; return t.getModifierState ? t.getModifierState(e) : (e = aE[e]) ? !!t[e] : !1 } function ip() { return lE } var cE = Fe({}, Va, { key: function (e) { if (e.key) { var t = oE[e.key] || e.key; if (t !== "Unidentified") return t } return e.type === "keypress" ? (e = Wl(e), e === 13 ? "Enter" : String.fromCharCode(e)) : e.type === "keydown" || e.type === "keyup" ? iE[e.keyCode] || "Unidentified" : "" }, code: 0, location: 0, ctrlKey: 0, shiftKey: 0, altKey: 0, metaKey: 0, repeat: 0, locale: 0, getModifierState: ip, charCode: function (e) { return e.type === "keypress" ? Wl(e) : 0 }, keyCode: function (e) { return e.type === "keydown" || e.type === "keyup" ? e.keyCode : 0 }, which: function (e) { return e.type === "keypress" ? Wl(e) : e.type === "keydown" || e.type === "keyup" ? e.keyCode : 0 } }), uE = qt(cE), dE = Fe({}, au, { pointerId: 0, width: 0, height: 0, pressure: 0, tangentialPressure: 0, tiltX: 0, tiltY: 0, twist: 0, pointerType: 0, isPrimary: 0 }), mg = qt(dE), hE = Fe({}, Va, { touches: 0, targetTouches: 0, changedTouches: 0, altKey: 0, metaKey: 0, ctrlKey: 0, shiftKey: 0, getModifierState: ip }), fE = qt(hE), pE = Fe({}, ji, { propertyName: 0, elapsedTime: 0, pseudoElement: 0 }), mE = qt(pE), gE = Fe({}, au, { deltaX: function (e) { return "deltaX" in e ? e.deltaX : "wheelDeltaX" in e ? -e.wheelDeltaX : 0 }, deltaY: function (e) { return "deltaY" in e ? e.deltaY : "wheelDeltaY" in e ? -e.wheelDeltaY : "wheelDelta" in e ? -e.wheelDelta : 0 }, deltaZ: 0, deltaMode: 0 }), vE = qt(gE), yE = [9, 13, 27, 32], ap = dn && "CompositionEvent" in window, ra = null; dn && "documentMode" in document && (ra = document.documentMode); var xE = dn && "TextEvent" in window && !ra, Mx = dn && (!ap || ra && 8 < ra && 11 >= ra), gg = " ", vg = !1; function Fx(e, t) { switch (e) { case "keyup": return yE.indexOf(t.keyCode) !== -1; case "keydown": return t.keyCode !== 229; case "keypress": case "mousedown": case "focusout": return !0; default: return !1 } } function Ux(e) { return e = e.detail, typeof e == "object" && "data" in e ? e.data : null } var To = !1; function wE(e, t) { switch (e) { case "compositionend": return Ux(t); case "keypress": return t.which !== 32 ? null : (vg = !0, gg); case "textInput": return e = t.data, e === gg && vg ? null : e; default: return null } } function bE(e, t) { if (To) return e === "compositionend" || !ap && Fx(e, t) ? (e = $x(), Hl = sp = qn = null, To = !1, e) : null; switch (e) { case "paste": return null; case "keypress": if (!(t.ctrlKey || t.altKey || t.metaKey) || t.ctrlKey && t.altKey) { if (t.char && 1 < t.char.length) return t.char; if (t.which) return String.fromCharCode(t.which) } return null; case "compositionend": return Mx && t.locale !== "ko" ? null : t.data; default: return null } } var jE = { color: !0, date: !0, datetime: !0, "datetime-local": !0, email: !0, month: !0, number: !0, password: !0, range: !0, search: !0, tel: !0, text: !0, time: !0, url: !0, week: !0 }; function yg(e) { var t = e && e.nodeName && e.nodeName.toLowerCase(); return t === "input" ? !!jE[e.type] : t === "textarea" } function zx(e, t, r, n) { yx(n), t = vc(t, "onChange"), 0 < t.length && (r = new op("onChange", "change", null, r, n), e.push({ event: r, listeners: t })) } var na = null, va = null; function SE(e) { Xx(e, 0) } function lu(e) { var t = Oo(e); if (dx(t)) return e } function _E(e, t) { if (e === "change") return t } var Bx = !1; if (dn) { var md; if (dn) { var gd = "oninput" in document; if (!gd) { var xg = document.createElement("div"); xg.setAttribute("oninput", "return;"), gd = typeof xg.oninput == "function" } md = gd } else md = !1; Bx = md && (!document.documentMode || 9 < document.documentMode) } function wg() { na && (na.detachEvent("onpropertychange", Vx), va = na = null) } function Vx(e) { if (e.propertyName === "value" && lu(va)) { var t = []; zx(t, va, e, Zf(e)), jx(SE, t) } } function NE(e, t, r) { e === "focusin" ? (wg(), na = t, va = r, na.attachEvent("onpropertychange", Vx)) : e === "focusout" && wg() } function EE(e) { if (e === "selectionchange" || e === "keyup" || e === "keydown") return lu(va) } function CE(e, t) { if (e === "click") return lu(t) } function kE(e, t) { if (e === "input" || e === "change") return lu(t) } function PE(e, t) { return e === t && (e !== 0 || 1 / e === 1 / t) || e !== e && t !== t } var jr = typeof Object.is == "function" ? Object.is : PE; function ya(e, t) { if (jr(e, t)) return !0; if (typeof e != "object" || e === null || typeof t != "object" || t === null) return !1; var r = Object.keys(e), n = Object.keys(t); if (r.length !== n.length) return !1; for (n = 0; n < r.length; n++) { var s = r[n]; if (!eh.call(t, s) || !jr(e[s], t[s])) return !1 } return !0 } function bg(e) { for (; e && e.firstChild;)e = e.firstChild; return e } function jg(e, t) { var r = bg(e); e = 0; for (var n; r;) { if (r.nodeType === 3) { if (n = e + r.textContent.length, e <= t && n >= t) return { node: r, offset: t - e }; e = n } e: { for (; r;) { if (r.nextSibling) { r = r.nextSibling; break e } r = r.parentNode } r = void 0 } r = bg(r) } } function Hx(e, t) { return e && t ? e === t ? !0 : e && e.nodeType === 3 ? !1 : t && t.nodeType === 3 ? Hx(e, t.parentNode) : "contains" in e ? e.contains(t) : e.compareDocumentPosition ? !!(e.compareDocumentPosition(t) & 16) : !1 : !1 } function Wx() { for (var e = window, t = uc(); t instanceof e.HTMLIFrameElement;) { try { var r = typeof t.contentWindow.location.href == "string" } catch { r = !1 } if (r) e = t.contentWindow; else break; t = uc(e.document) } return t } function lp(e) { var t = e && e.nodeName && e.nodeName.toLowerCase(); return t && (t === "input" && (e.type === "text" || e.type === "search" || e.type === "tel" || e.type === "url" || e.type === "password") || t === "textarea" || e.contentEditable === "true") } function TE(e) { var t = Wx(), r = e.focusedElem, n = e.selectionRange; if (t !== r && r && r.ownerDocument && Hx(r.ownerDocument.documentElement, r)) { if (n !== null && lp(r)) { if (t = n.start, e = n.end, e === void 0 && (e = t), "selectionStart" in r) r.selectionStart = t, r.selectionEnd = Math.min(e, r.value.length); else if (e = (t = r.ownerDocument || document) && t.defaultView || window, e.getSelection) { e = e.getSelection(); var s = r.textContent.length, o = Math.min(n.start, s); n = n.end === void 0 ? o : Math.min(n.end, s), !e.extend && o > n && (s = n, n = o, o = s), s = jg(r, o); var a = jg(r, n); s && a && (e.rangeCount !== 1 || e.anchorNode !== s.node || e.anchorOffset !== s.offset || e.focusNode !== a.node || e.focusOffset !== a.offset) && (t = t.createRange(), t.setStart(s.node, s.offset), e.removeAllRanges(), o > n ? (e.addRange(t), e.extend(a.node, a.offset)) : (t.setEnd(a.node, a.offset), e.addRange(t))) } } for (t = [], e = r; e = e.parentNode;)e.nodeType === 1 && t.push({ element: e, left: e.scrollLeft, top: e.scrollTop }); for (typeof r.focus == "function" && r.focus(), r = 0; r < t.length; r++)e = t[r], e.element.scrollLeft = e.left, e.element.scrollTop = e.top } } var RE = dn && "documentMode" in document && 11 >= document.documentMode, Ro = null, xh = null, sa = null, wh = !1; function Sg(e, t, r) { var n = r.window === r ? r.document : r.nodeType === 9 ? r : r.ownerDocument; wh || Ro == null || Ro !== uc(n) || (n = Ro, "selectionStart" in n && lp(n) ? n = { start: n.selectionStart, end: n.selectionEnd } : (n = (n.ownerDocument && n.ownerDocument.defaultView || window).getSelection(), n = { anchorNode: n.anchorNode, anchorOffset: n.anchorOffset, focusNode: n.focusNode, focusOffset: n.focusOffset }), sa && ya(sa, n) || (sa = n, n = vc(xh, "onSelect"), 0 < n.length && (t = new op("onSelect", "select", null, t, r), e.push({ event: t, listeners: n }), t.target = Ro))) } function fl(e, t) { var r = {}; return r[e.toLowerCase()] = t.toLowerCase(), r["Webkit" + e] = "webkit" + t, r["Moz" + e] = "moz" + t, r } var Ao = { animationend: fl("Animation", "AnimationEnd"), animationiteration: fl("Animation", "AnimationIteration"), animationstart: fl("Animation", "AnimationStart"), transitionend: fl("Transition", "TransitionEnd") }, vd = {}, qx = {}; dn && (qx = document.createElement("div").style, "AnimationEvent" in window || (delete Ao.animationend.animation, delete Ao.animationiteration.animation, delete Ao.animationstart.animation), "TransitionEvent" in window || delete Ao.transitionend.transition); function cu(e) { if (vd[e]) return vd[e]; if (!Ao[e]) return e; var t = Ao[e], r; for (r in t) if (t.hasOwnProperty(r) && r in qx) return vd[e] = t[r]; return e } var Kx = cu("animationend"), Gx = cu("animationiteration"), Yx = cu("animationstart"), Qx = cu("transitionend"), Jx = new Map, _g = "abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" "); function gs(e, t) { Jx.set(e, t), ho(t, [e]) } for (var yd = 0; yd < _g.length; yd++) { var xd = _g[yd], AE = xd.toLowerCase(), OE = xd[0].toUpperCase() + xd.slice(1); gs(AE, "on" + OE) } gs(Kx, "onAnimationEnd"); gs(Gx, "onAnimationIteration"); gs(Yx, "onAnimationStart"); gs("dblclick", "onDoubleClick"); gs("focusin", "onFocus"); gs("focusout", "onBlur"); gs(Qx, "onTransitionEnd"); oi("onMouseEnter", ["mouseout", "mouseover"]); oi("onMouseLeave", ["mouseout", "mouseover"]); oi("onPointerEnter", ["pointerout", "pointerover"]); oi("onPointerLeave", ["pointerout", "pointerover"]); ho("onChange", "change click focusin focusout input keydown keyup selectionchange".split(" ")); ho("onSelect", "focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")); ho("onBeforeInput", ["compositionend", "keypress", "textInput", "paste"]); ho("onCompositionEnd", "compositionend focusout keydown keypress keyup mousedown".split(" ")); ho("onCompositionStart", "compositionstart focusout keydown keypress keyup mousedown".split(" ")); ho("onCompositionUpdate", "compositionupdate focusout keydown keypress keyup mousedown".split(" ")); var Gi = "abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "), IE = new Set("cancel close invalid load scroll toggle".split(" ").concat(Gi)); function Ng(e, t, r) { var n = e.type || "unknown-event"; e.currentTarget = r, AN(n, t, void 0, e), e.currentTarget = null } function Xx(e, t) { t = (t & 4) !== 0; for (var r = 0; r < e.length; r++) { var n = e[r], s = n.event; n = n.listeners; e: { var o = void 0; if (t) for (var a = n.length - 1; 0 <= a; a--) { var l = n[a], c = l.instance, u = l.currentTarget; if (l = l.listener, c !== o && s.isPropagationStopped()) break e; Ng(s, l, u), o = c } else for (a = 0; a < n.length; a++) { if (l = n[a], c = l.instance, u = l.currentTarget, l = l.listener, c !== o && s.isPropagationStopped()) break e; Ng(s, l, u), o = c } } } if (hc) throw e = mh, hc = !1, mh = null, e } function Pe(e, t) { var r = t[Nh]; r === void 0 && (r = t[Nh] = new Set); var n = e + "__bubble"; r.has(n) || (Zx(t, e, 2, !1), r.add(n)) } function wd(e, t, r) { var n = 0; t && (n |= 4), Zx(r, e, n, t) } var pl = "_reactListening" + Math.random().toString(36).slice(2); function xa(e) { if (!e[pl]) { e[pl] = !0, ix.forEach(function (r) { r !== "selectionchange" && (IE.has(r) || wd(r, !1, e), wd(r, !0, e)) }); var t = e.nodeType === 9 ? e : e.ownerDocument; t === null || t[pl] || (t[pl] = !0, wd("selectionchange", !1, t)) } } function Zx(e, t, r, n) { switch (Lx(t)) { case 1: var s = GN; break; case 4: s = YN; break; default: s = np }r = s.bind(null, t, r, e), s = void 0, !ph || t !== "touchstart" && t !== "touchmove" && t !== "wheel" || (s = !0), n ? s !== void 0 ? e.addEventListener(t, r, { capture: !0, passive: s }) : e.addEventListener(t, r, !0) : s !== void 0 ? e.addEventListener(t, r, { passive: s }) : e.addEventListener(t, r, !1) } function bd(e, t, r, n, s) { var o = n; if (!(t & 1) && !(t & 2) && n !== null) e: for (; ;) { if (n === null) return; var a = n.tag; if (a === 3 || a === 4) { var l = n.stateNode.containerInfo; if (l === s || l.nodeType === 8 && l.parentNode === s) break; if (a === 4) for (a = n.return; a !== null;) { var c = a.tag; if ((c === 3 || c === 4) && (c = a.stateNode.containerInfo, c === s || c.nodeType === 8 && c.parentNode === s)) return; a = a.return } for (; l !== null;) { if (a = Fs(l), a === null) return; if (c = a.tag, c === 5 || c === 6) { n = o = a; continue e } l = l.parentNode } } n = n.return } jx(function () { var u = o, d = Zf(r), p = []; e: { var m = Jx.get(e); if (m !== void 0) { var h = op, x = e; switch (e) { case "keypress": if (Wl(r) === 0) break e; case "keydown": case "keyup": h = uE; break; case "focusin": x = "focus", h = pd; break; case "focusout": x = "blur", h = pd; break; case "beforeblur": case "afterblur": h = pd; break; case "click": if (r.button === 2) break e; case "auxclick": case "dblclick": case "mousedown": case "mousemove": case "mouseup": case "mouseout": case "mouseover": case "contextmenu": h = fg; break; case "drag": case "dragend": case "dragenter": case "dragexit": case "dragleave": case "dragover": case "dragstart": case "drop": h = XN; break; case "touchcancel": case "touchend": case "touchmove": case "touchstart": h = fE; break; case Kx: case Gx: case Yx: h = tE; break; case Qx: h = mE; break; case "scroll": h = QN; break; case "wheel": h = vE; break; case "copy": case "cut": case "paste": h = nE; break; case "gotpointercapture": case "lostpointercapture": case "pointercancel": case "pointerdown": case "pointermove": case "pointerout": case "pointerover": case "pointerup": h = mg }var g = (t & 4) !== 0, b = !g && e === "scroll", v = g ? m !== null ? m + "Capture" : null : m; g = []; for (var y = u, w; y !== null;) { w = y; var j = w.stateNode; if (w.tag === 5 && j !== null && (w = j, v !== null && (j = fa(y, v), j != null && g.push(wa(y, j, w)))), b) break; y = y.return } 0 < g.length && (m = new h(m, x, null, r, d), p.push({ event: m, listeners: g })) } } if (!(t & 7)) { e: { if (m = e === "mouseover" || e === "pointerover", h = e === "mouseout" || e === "pointerout", m && r !== hh && (x = r.relatedTarget || r.fromElement) && (Fs(x) || x[hn])) break e; if ((h || m) && (m = d.window === d ? d : (m = d.ownerDocument) ? m.defaultView || m.parentWindow : window, h ? (x = r.relatedTarget || r.toElement, h = u, x = x ? Fs(x) : null, x !== null && (b = fo(x), x !== b || x.tag !== 5 && x.tag !== 6) && (x = null)) : (h = null, x = u), h !== x)) { if (g = fg, j = "onMouseLeave", v = "onMouseEnter", y = "mouse", (e === "pointerout" || e === "pointerover") && (g = mg, j = "onPointerLeave", v = "onPointerEnter", y = "pointer"), b = h == null ? m : Oo(h), w = x == null ? m : Oo(x), m = new g(j, y + "leave", h, r, d), m.target = b, m.relatedTarget = w, j = null, Fs(d) === u && (g = new g(v, y + "enter", x, r, d), g.target = w, g.relatedTarget = b, j = g), b = j, h && x) t: { for (g = h, v = x, y = 0, w = g; w; w = vo(w))y++; for (w = 0, j = v; j; j = vo(j))w++; for (; 0 < y - w;)g = vo(g), y--; for (; 0 < w - y;)v = vo(v), w--; for (; y--;) { if (g === v || v !== null && g === v.alternate) break t; g = vo(g), v = vo(v) } g = null } else g = null; h !== null && Eg(p, m, h, g, !1), x !== null && b !== null && Eg(p, b, x, g, !0) } } e: { if (m = u ? Oo(u) : window, h = m.nodeName && m.nodeName.toLowerCase(), h === "select" || h === "input" && m.type === "file") var S = _E; else if (yg(m)) if (Bx) S = kE; else { S = EE; var _ = NE } else (h = m.nodeName) && h.toLowerCase() === "input" && (m.type === "checkbox" || m.type === "radio") && (S = CE); if (S && (S = S(e, u))) { zx(p, S, r, d); break e } _ && _(e, m, u), e === "focusout" && (_ = m._wrapperState) && _.controlled && m.type === "number" && ah(m, "number", m.value) } switch (_ = u ? Oo(u) : window, e) { case "focusin": (yg(_) || _.contentEditable === "true") && (Ro = _, xh = u, sa = null); break; case "focusout": sa = xh = Ro = null; break; case "mousedown": wh = !0; break; case "contextmenu": case "mouseup": case "dragend": wh = !1, Sg(p, r, d); break; case "selectionchange": if (RE) break; case "keydown": case "keyup": Sg(p, r, d) }var C; if (ap) e: { switch (e) { case "compositionstart": var k = "onCompositionStart"; break e; case "compositionend": k = "onCompositionEnd"; break e; case "compositionupdate": k = "onCompositionUpdate"; break e }k = void 0 } else To ? Fx(e, r) && (k = "onCompositionEnd") : e === "keydown" && r.keyCode === 229 && (k = "onCompositionStart"); k && (Mx && r.locale !== "ko" && (To || k !== "onCompositionStart" ? k === "onCompositionEnd" && To && (C = $x()) : (qn = d, sp = "value" in qn ? qn.value : qn.textContent, To = !0)), _ = vc(u, k), 0 < _.length && (k = new pg(k, e, null, r, d), p.push({ event: k, listeners: _ }), C ? k.data = C : (C = Ux(r), C !== null && (k.data = C)))), (C = xE ? wE(e, r) : bE(e, r)) && (u = vc(u, "onBeforeInput"), 0 < u.length && (d = new pg("onBeforeInput", "beforeinput", null, r, d), p.push({ event: d, listeners: u }), d.data = C)) } Xx(p, t) }) } function wa(e, t, r) { return { instance: e, listener: t, currentTarget: r } } function vc(e, t) { for (var r = t + "Capture", n = []; e !== null;) { var s = e, o = s.stateNode; s.tag === 5 && o !== null && (s = o, o = fa(e, r), o != null && n.unshift(wa(e, o, s)), o = fa(e, t), o != null && n.push(wa(e, o, s))), e = e.return } return n } function vo(e) { if (e === null) return null; do e = e.return; while (e && e.tag !== 5); return e || null } function Eg(e, t, r, n, s) { for (var o = t._reactName, a = []; r !== null && r !== n;) { var l = r, c = l.alternate, u = l.stateNode; if (c !== null && c === n) break; l.tag === 5 && u !== null && (l = u, s ? (c = fa(r, o), c != null && a.unshift(wa(r, c, l))) : s || (c = fa(r, o), c != null && a.push(wa(r, c, l)))), r = r.return } a.length !== 0 && e.push({ event: t, listeners: a }) } var DE = /\r\n?/g, LE = /\u0000|\uFFFD/g; function Cg(e) {
  return (typeof e == "string" ? e : "" + e).replace(DE, `
`).replace(LE, "")
} function ml(e, t, r) { if (t = Cg(t), Cg(e) !== t && r) throw Error(W(425)) } function yc() { } var bh = null, jh = null; function Sh(e, t) { return e === "textarea" || e === "noscript" || typeof t.children == "string" || typeof t.children == "number" || typeof t.dangerouslySetInnerHTML == "object" && t.dangerouslySetInnerHTML !== null && t.dangerouslySetInnerHTML.__html != null } var _h = typeof setTimeout == "function" ? setTimeout : void 0, $E = typeof clearTimeout == "function" ? clearTimeout : void 0, kg = typeof Promise == "function" ? Promise : void 0, ME = typeof queueMicrotask == "function" ? queueMicrotask : typeof kg < "u" ? function (e) { return kg.resolve(null).then(e).catch(FE) } : _h; function FE(e) { setTimeout(function () { throw e }) } function jd(e, t) { var r = t, n = 0; do { var s = r.nextSibling; if (e.removeChild(r), s && s.nodeType === 8) if (r = s.data, r === "/$") { if (n === 0) { e.removeChild(s), ga(t); return } n-- } else r !== "$" && r !== "$?" && r !== "$!" || n++; r = s } while (r); ga(t) } function Xn(e) { for (; e != null; e = e.nextSibling) { var t = e.nodeType; if (t === 1 || t === 3) break; if (t === 8) { if (t = e.data, t === "$" || t === "$!" || t === "$?") break; if (t === "/$") return null } } return e } function Pg(e) { e = e.previousSibling; for (var t = 0; e;) { if (e.nodeType === 8) { var r = e.data; if (r === "$" || r === "$!" || r === "$?") { if (t === 0) return e; t-- } else r === "/$" && t++ } e = e.previousSibling } return null } var Si = Math.random().toString(36).slice(2), $r = "__reactFiber$" + Si, ba = "__reactProps$" + Si, hn = "__reactContainer$" + Si, Nh = "__reactEvents$" + Si, UE = "__reactListeners$" + Si, zE = "__reactHandles$" + Si; function Fs(e) { var t = e[$r]; if (t) return t; for (var r = e.parentNode; r;) { if (t = r[hn] || r[$r]) { if (r = t.alternate, t.child !== null || r !== null && r.child !== null) for (e = Pg(e); e !== null;) { if (r = e[$r]) return r; e = Pg(e) } return t } e = r, r = e.parentNode } return null } function Ha(e) { return e = e[$r] || e[hn], !e || e.tag !== 5 && e.tag !== 6 && e.tag !== 13 && e.tag !== 3 ? null : e } function Oo(e) { if (e.tag === 5 || e.tag === 6) return e.stateNode; throw Error(W(33)) } function uu(e) { return e[ba] || null } var Eh = [], Io = -1; function vs(e) { return { current: e } } function Te(e) { 0 > Io || (e.current = Eh[Io], Eh[Io] = null, Io--) } function Ce(e, t) { Io++, Eh[Io] = e.current, e.current = t } var as = {}, gt = vs(as), Dt = vs(!1), Zs = as; function ii(e, t) { var r = e.type.contextTypes; if (!r) return as; var n = e.stateNode; if (n && n.__reactInternalMemoizedUnmaskedChildContext === t) return n.__reactInternalMemoizedMaskedChildContext; var s = {}, o; for (o in r) s[o] = t[o]; return n && (e = e.stateNode, e.__reactInternalMemoizedUnmaskedChildContext = t, e.__reactInternalMemoizedMaskedChildContext = s), s } function Lt(e) { return e = e.childContextTypes, e != null } function xc() { Te(Dt), Te(gt) } function Tg(e, t, r) { if (gt.current !== as) throw Error(W(168)); Ce(gt, t), Ce(Dt, r) } function ew(e, t, r) { var n = e.stateNode; if (t = t.childContextTypes, typeof n.getChildContext != "function") return r; n = n.getChildContext(); for (var s in n) if (!(s in t)) throw Error(W(108, NN(e) || "Unknown", s)); return Fe({}, r, n) } function wc(e) { return e = (e = e.stateNode) && e.__reactInternalMemoizedMergedChildContext || as, Zs = gt.current, Ce(gt, e), Ce(Dt, Dt.current), !0 } function Rg(e, t, r) { var n = e.stateNode; if (!n) throw Error(W(169)); r ? (e = ew(e, t, Zs), n.__reactInternalMemoizedMergedChildContext = e, Te(Dt), Te(gt), Ce(gt, e)) : Te(Dt), Ce(Dt, r) } var nn = null, du = !1, Sd = !1; function tw(e) { nn === null ? nn = [e] : nn.push(e) } function BE(e) { du = !0, tw(e) } function ys() { if (!Sd && nn !== null) { Sd = !0; var e = 0, t = _e; try { var r = nn; for (_e = 1; e < r.length; e++) { var n = r[e]; do n = n(!0); while (n !== null) } nn = null, du = !1 } catch (s) { throw nn !== null && (nn = nn.slice(e + 1)), Ex(ep, ys), s } finally { _e = t, Sd = !1 } } return null } var Do = [], Lo = 0, bc = null, jc = 0, Jt = [], Xt = 0, eo = null, on = 1, an = ""; function Ts(e, t) { Do[Lo++] = jc, Do[Lo++] = bc, bc = e, jc = t } function rw(e, t, r) { Jt[Xt++] = on, Jt[Xt++] = an, Jt[Xt++] = eo, eo = e; var n = on; e = an; var s = 32 - wr(n) - 1; n &= ~(1 << s), r += 1; var o = 32 - wr(t) + s; if (30 < o) { var a = s - s % 5; o = (n & (1 << a) - 1).toString(32), n >>= a, s -= a, on = 1 << 32 - wr(t) + s | r << s | n, an = o + e } else on = 1 << o | r << s | n, an = e } function cp(e) { e.return !== null && (Ts(e, 1), rw(e, 1, 0)) } function up(e) { for (; e === bc;)bc = Do[--Lo], Do[Lo] = null, jc = Do[--Lo], Do[Lo] = null; for (; e === eo;)eo = Jt[--Xt], Jt[Xt] = null, an = Jt[--Xt], Jt[Xt] = null, on = Jt[--Xt], Jt[Xt] = null } var Bt = null, zt = null, Ie = !1, xr = null; function nw(e, t) { var r = er(5, null, null, 0); r.elementType = "DELETED", r.stateNode = t, r.return = e, t = e.deletions, t === null ? (e.deletions = [r], e.flags |= 16) : t.push(r) } function Ag(e, t) { switch (e.tag) { case 5: var r = e.type; return t = t.nodeType !== 1 || r.toLowerCase() !== t.nodeName.toLowerCase() ? null : t, t !== null ? (e.stateNode = t, Bt = e, zt = Xn(t.firstChild), !0) : !1; case 6: return t = e.pendingProps === "" || t.nodeType !== 3 ? null : t, t !== null ? (e.stateNode = t, Bt = e, zt = null, !0) : !1; case 13: return t = t.nodeType !== 8 ? null : t, t !== null ? (r = eo !== null ? { id: on, overflow: an } : null, e.memoizedState = { dehydrated: t, treeContext: r, retryLane: 1073741824 }, r = er(18, null, null, 0), r.stateNode = t, r.return = e, e.child = r, Bt = e, zt = null, !0) : !1; default: return !1 } } function Ch(e) { return (e.mode & 1) !== 0 && (e.flags & 128) === 0 } function kh(e) { if (Ie) { var t = zt; if (t) { var r = t; if (!Ag(e, t)) { if (Ch(e)) throw Error(W(418)); t = Xn(r.nextSibling); var n = Bt; t && Ag(e, t) ? nw(n, r) : (e.flags = e.flags & -4097 | 2, Ie = !1, Bt = e) } } else { if (Ch(e)) throw Error(W(418)); e.flags = e.flags & -4097 | 2, Ie = !1, Bt = e } } } function Og(e) { for (e = e.return; e !== null && e.tag !== 5 && e.tag !== 3 && e.tag !== 13;)e = e.return; Bt = e } function gl(e) { if (e !== Bt) return !1; if (!Ie) return Og(e), Ie = !0, !1; var t; if ((t = e.tag !== 3) && !(t = e.tag !== 5) && (t = e.type, t = t !== "head" && t !== "body" && !Sh(e.type, e.memoizedProps)), t && (t = zt)) { if (Ch(e)) throw sw(), Error(W(418)); for (; t;)nw(e, t), t = Xn(t.nextSibling) } if (Og(e), e.tag === 13) { if (e = e.memoizedState, e = e !== null ? e.dehydrated : null, !e) throw Error(W(317)); e: { for (e = e.nextSibling, t = 0; e;) { if (e.nodeType === 8) { var r = e.data; if (r === "/$") { if (t === 0) { zt = Xn(e.nextSibling); break e } t-- } else r !== "$" && r !== "$!" && r !== "$?" || t++ } e = e.nextSibling } zt = null } } else zt = Bt ? Xn(e.stateNode.nextSibling) : null; return !0 } function sw() { for (var e = zt; e;)e = Xn(e.nextSibling) } function ai() { zt = Bt = null, Ie = !1 } function dp(e) { xr === null ? xr = [e] : xr.push(e) } var VE = wn.ReactCurrentBatchConfig; function Ui(e, t, r) { if (e = r.ref, e !== null && typeof e != "function" && typeof e != "object") { if (r._owner) { if (r = r._owner, r) { if (r.tag !== 1) throw Error(W(309)); var n = r.stateNode } if (!n) throw Error(W(147, e)); var s = n, o = "" + e; return t !== null && t.ref !== null && typeof t.ref == "function" && t.ref._stringRef === o ? t.ref : (t = function (a) { var l = s.refs; a === null ? delete l[o] : l[o] = a }, t._stringRef = o, t) } if (typeof e != "string") throw Error(W(284)); if (!r._owner) throw Error(W(290, e)) } return e } function vl(e, t) { throw e = Object.prototype.toString.call(t), Error(W(31, e === "[object Object]" ? "object with keys {" + Object.keys(t).join(", ") + "}" : e)) } function Ig(e) { var t = e._init; return t(e._payload) } function ow(e) { function t(v, y) { if (e) { var w = v.deletions; w === null ? (v.deletions = [y], v.flags |= 16) : w.push(y) } } function r(v, y) { if (!e) return null; for (; y !== null;)t(v, y), y = y.sibling; return null } function n(v, y) { for (v = new Map; y !== null;)y.key !== null ? v.set(y.key, y) : v.set(y.index, y), y = y.sibling; return v } function s(v, y) { return v = rs(v, y), v.index = 0, v.sibling = null, v } function o(v, y, w) { return v.index = w, e ? (w = v.alternate, w !== null ? (w = w.index, w < y ? (v.flags |= 2, y) : w) : (v.flags |= 2, y)) : (v.flags |= 1048576, y) } function a(v) { return e && v.alternate === null && (v.flags |= 2), v } function l(v, y, w, j) { return y === null || y.tag !== 6 ? (y = Td(w, v.mode, j), y.return = v, y) : (y = s(y, w), y.return = v, y) } function c(v, y, w, j) { var S = w.type; return S === Po ? d(v, y, w.props.children, j, w.key) : y !== null && (y.elementType === S || typeof S == "object" && S !== null && S.$$typeof === In && Ig(S) === y.type) ? (j = s(y, w.props), j.ref = Ui(v, y, w), j.return = v, j) : (j = Xl(w.type, w.key, w.props, null, v.mode, j), j.ref = Ui(v, y, w), j.return = v, j) } function u(v, y, w, j) { return y === null || y.tag !== 4 || y.stateNode.containerInfo !== w.containerInfo || y.stateNode.implementation !== w.implementation ? (y = Rd(w, v.mode, j), y.return = v, y) : (y = s(y, w.children || []), y.return = v, y) } function d(v, y, w, j, S) { return y === null || y.tag !== 7 ? (y = Js(w, v.mode, j, S), y.return = v, y) : (y = s(y, w), y.return = v, y) } function p(v, y, w) { if (typeof y == "string" && y !== "" || typeof y == "number") return y = Td("" + y, v.mode, w), y.return = v, y; if (typeof y == "object" && y !== null) { switch (y.$$typeof) { case il: return w = Xl(y.type, y.key, y.props, null, v.mode, w), w.ref = Ui(v, null, y), w.return = v, w; case ko: return y = Rd(y, v.mode, w), y.return = v, y; case In: var j = y._init; return p(v, j(y._payload), w) }if (qi(y) || Di(y)) return y = Js(y, v.mode, w, null), y.return = v, y; vl(v, y) } return null } function m(v, y, w, j) { var S = y !== null ? y.key : null; if (typeof w == "string" && w !== "" || typeof w == "number") return S !== null ? null : l(v, y, "" + w, j); if (typeof w == "object" && w !== null) { switch (w.$$typeof) { case il: return w.key === S ? c(v, y, w, j) : null; case ko: return w.key === S ? u(v, y, w, j) : null; case In: return S = w._init, m(v, y, S(w._payload), j) }if (qi(w) || Di(w)) return S !== null ? null : d(v, y, w, j, null); vl(v, w) } return null } function h(v, y, w, j, S) { if (typeof j == "string" && j !== "" || typeof j == "number") return v = v.get(w) || null, l(y, v, "" + j, S); if (typeof j == "object" && j !== null) { switch (j.$$typeof) { case il: return v = v.get(j.key === null ? w : j.key) || null, c(y, v, j, S); case ko: return v = v.get(j.key === null ? w : j.key) || null, u(y, v, j, S); case In: var _ = j._init; return h(v, y, w, _(j._payload), S) }if (qi(j) || Di(j)) return v = v.get(w) || null, d(y, v, j, S, null); vl(y, j) } return null } function x(v, y, w, j) { for (var S = null, _ = null, C = y, k = y = 0, E = null; C !== null && k < w.length; k++) { C.index > k ? (E = C, C = null) : E = C.sibling; var P = m(v, C, w[k], j); if (P === null) { C === null && (C = E); break } e && C && P.alternate === null && t(v, C), y = o(P, y, k), _ === null ? S = P : _.sibling = P, _ = P, C = E } if (k === w.length) return r(v, C), Ie && Ts(v, k), S; if (C === null) { for (; k < w.length; k++)C = p(v, w[k], j), C !== null && (y = o(C, y, k), _ === null ? S = C : _.sibling = C, _ = C); return Ie && Ts(v, k), S } for (C = n(v, C); k < w.length; k++)E = h(C, v, k, w[k], j), E !== null && (e && E.alternate !== null && C.delete(E.key === null ? k : E.key), y = o(E, y, k), _ === null ? S = E : _.sibling = E, _ = E); return e && C.forEach(function (L) { return t(v, L) }), Ie && Ts(v, k), S } function g(v, y, w, j) { var S = Di(w); if (typeof S != "function") throw Error(W(150)); if (w = S.call(w), w == null) throw Error(W(151)); for (var _ = S = null, C = y, k = y = 0, E = null, P = w.next(); C !== null && !P.done; k++, P = w.next()) { C.index > k ? (E = C, C = null) : E = C.sibling; var L = m(v, C, P.value, j); if (L === null) { C === null && (C = E); break } e && C && L.alternate === null && t(v, C), y = o(L, y, k), _ === null ? S = L : _.sibling = L, _ = L, C = E } if (P.done) return r(v, C), Ie && Ts(v, k), S; if (C === null) { for (; !P.done; k++, P = w.next())P = p(v, P.value, j), P !== null && (y = o(P, y, k), _ === null ? S = P : _.sibling = P, _ = P); return Ie && Ts(v, k), S } for (C = n(v, C); !P.done; k++, P = w.next())P = h(C, v, k, P.value, j), P !== null && (e && P.alternate !== null && C.delete(P.key === null ? k : P.key), y = o(P, y, k), _ === null ? S = P : _.sibling = P, _ = P); return e && C.forEach(function (T) { return t(v, T) }), Ie && Ts(v, k), S } function b(v, y, w, j) { if (typeof w == "object" && w !== null && w.type === Po && w.key === null && (w = w.props.children), typeof w == "object" && w !== null) { switch (w.$$typeof) { case il: e: { for (var S = w.key, _ = y; _ !== null;) { if (_.key === S) { if (S = w.type, S === Po) { if (_.tag === 7) { r(v, _.sibling), y = s(_, w.props.children), y.return = v, v = y; break e } } else if (_.elementType === S || typeof S == "object" && S !== null && S.$$typeof === In && Ig(S) === _.type) { r(v, _.sibling), y = s(_, w.props), y.ref = Ui(v, _, w), y.return = v, v = y; break e } r(v, _); break } else t(v, _); _ = _.sibling } w.type === Po ? (y = Js(w.props.children, v.mode, j, w.key), y.return = v, v = y) : (j = Xl(w.type, w.key, w.props, null, v.mode, j), j.ref = Ui(v, y, w), j.return = v, v = j) } return a(v); case ko: e: { for (_ = w.key; y !== null;) { if (y.key === _) if (y.tag === 4 && y.stateNode.containerInfo === w.containerInfo && y.stateNode.implementation === w.implementation) { r(v, y.sibling), y = s(y, w.children || []), y.return = v, v = y; break e } else { r(v, y); break } else t(v, y); y = y.sibling } y = Rd(w, v.mode, j), y.return = v, v = y } return a(v); case In: return _ = w._init, b(v, y, _(w._payload), j) }if (qi(w)) return x(v, y, w, j); if (Di(w)) return g(v, y, w, j); vl(v, w) } return typeof w == "string" && w !== "" || typeof w == "number" ? (w = "" + w, y !== null && y.tag === 6 ? (r(v, y.sibling), y = s(y, w), y.return = v, v = y) : (r(v, y), y = Td(w, v.mode, j), y.return = v, v = y), a(v)) : r(v, y) } return b } var li = ow(!0), iw = ow(!1), Sc = vs(null), _c = null, $o = null, hp = null; function fp() { hp = $o = _c = null } function pp(e) { var t = Sc.current; Te(Sc), e._currentValue = t } function Ph(e, t, r) { for (; e !== null;) { var n = e.alternate; if ((e.childLanes & t) !== t ? (e.childLanes |= t, n !== null && (n.childLanes |= t)) : n !== null && (n.childLanes & t) !== t && (n.childLanes |= t), e === r) break; e = e.return } } function Ho(e, t) { _c = e, hp = $o = null, e = e.dependencies, e !== null && e.firstContext !== null && (e.lanes & t && (It = !0), e.firstContext = null) } function rr(e) { var t = e._currentValue; if (hp !== e) if (e = { context: e, memoizedValue: t, next: null }, $o === null) { if (_c === null) throw Error(W(308)); $o = e, _c.dependencies = { lanes: 0, firstContext: e } } else $o = $o.next = e; return t } var Us = null; function mp(e) { Us === null ? Us = [e] : Us.push(e) } function aw(e, t, r, n) { var s = t.interleaved; return s === null ? (r.next = r, mp(t)) : (r.next = s.next, s.next = r), t.interleaved = r, fn(e, n) } function fn(e, t) { e.lanes |= t; var r = e.alternate; for (r !== null && (r.lanes |= t), r = e, e = e.return; e !== null;)e.childLanes |= t, r = e.alternate, r !== null && (r.childLanes |= t), r = e, e = e.return; return r.tag === 3 ? r.stateNode : null } var Dn = !1; function gp(e) { e.updateQueue = { baseState: e.memoizedState, firstBaseUpdate: null, lastBaseUpdate: null, shared: { pending: null, interleaved: null, lanes: 0 }, effects: null } } function lw(e, t) { e = e.updateQueue, t.updateQueue === e && (t.updateQueue = { baseState: e.baseState, firstBaseUpdate: e.firstBaseUpdate, lastBaseUpdate: e.lastBaseUpdate, shared: e.shared, effects: e.effects }) } function ln(e, t) { return { eventTime: e, lane: t, tag: 0, payload: null, callback: null, next: null } } function Zn(e, t, r) { var n = e.updateQueue; if (n === null) return null; if (n = n.shared, je & 2) { var s = n.pending; return s === null ? t.next = t : (t.next = s.next, s.next = t), n.pending = t, fn(e, r) } return s = n.interleaved, s === null ? (t.next = t, mp(n)) : (t.next = s.next, s.next = t), n.interleaved = t, fn(e, r) } function ql(e, t, r) { if (t = t.updateQueue, t !== null && (t = t.shared, (r & 4194240) !== 0)) { var n = t.lanes; n &= e.pendingLanes, r |= n, t.lanes = r, tp(e, r) } } function Dg(e, t) { var r = e.updateQueue, n = e.alternate; if (n !== null && (n = n.updateQueue, r === n)) { var s = null, o = null; if (r = r.firstBaseUpdate, r !== null) { do { var a = { eventTime: r.eventTime, lane: r.lane, tag: r.tag, payload: r.payload, callback: r.callback, next: null }; o === null ? s = o = a : o = o.next = a, r = r.next } while (r !== null); o === null ? s = o = t : o = o.next = t } else s = o = t; r = { baseState: n.baseState, firstBaseUpdate: s, lastBaseUpdate: o, shared: n.shared, effects: n.effects }, e.updateQueue = r; return } e = r.lastBaseUpdate, e === null ? r.firstBaseUpdate = t : e.next = t, r.lastBaseUpdate = t } function Nc(e, t, r, n) { var s = e.updateQueue; Dn = !1; var o = s.firstBaseUpdate, a = s.lastBaseUpdate, l = s.shared.pending; if (l !== null) { s.shared.pending = null; var c = l, u = c.next; c.next = null, a === null ? o = u : a.next = u, a = c; var d = e.alternate; d !== null && (d = d.updateQueue, l = d.lastBaseUpdate, l !== a && (l === null ? d.firstBaseUpdate = u : l.next = u, d.lastBaseUpdate = c)) } if (o !== null) { var p = s.baseState; a = 0, d = u = c = null, l = o; do { var m = l.lane, h = l.eventTime; if ((n & m) === m) { d !== null && (d = d.next = { eventTime: h, lane: 0, tag: l.tag, payload: l.payload, callback: l.callback, next: null }); e: { var x = e, g = l; switch (m = t, h = r, g.tag) { case 1: if (x = g.payload, typeof x == "function") { p = x.call(h, p, m); break e } p = x; break e; case 3: x.flags = x.flags & -65537 | 128; case 0: if (x = g.payload, m = typeof x == "function" ? x.call(h, p, m) : x, m == null) break e; p = Fe({}, p, m); break e; case 2: Dn = !0 } } l.callback !== null && l.lane !== 0 && (e.flags |= 64, m = s.effects, m === null ? s.effects = [l] : m.push(l)) } else h = { eventTime: h, lane: m, tag: l.tag, payload: l.payload, callback: l.callback, next: null }, d === null ? (u = d = h, c = p) : d = d.next = h, a |= m; if (l = l.next, l === null) { if (l = s.shared.pending, l === null) break; m = l, l = m.next, m.next = null, s.lastBaseUpdate = m, s.shared.pending = null } } while (!0); if (d === null && (c = p), s.baseState = c, s.firstBaseUpdate = u, s.lastBaseUpdate = d, t = s.shared.interleaved, t !== null) { s = t; do a |= s.lane, s = s.next; while (s !== t) } else o === null && (s.shared.lanes = 0); ro |= a, e.lanes = a, e.memoizedState = p } } function Lg(e, t, r) { if (e = t.effects, t.effects = null, e !== null) for (t = 0; t < e.length; t++) { var n = e[t], s = n.callback; if (s !== null) { if (n.callback = null, n = r, typeof s != "function") throw Error(W(191, s)); s.call(n) } } } var Wa = {}, Vr = vs(Wa), ja = vs(Wa), Sa = vs(Wa); function zs(e) { if (e === Wa) throw Error(W(174)); return e } function vp(e, t) { switch (Ce(Sa, t), Ce(ja, e), Ce(Vr, Wa), e = t.nodeType, e) { case 9: case 11: t = (t = t.documentElement) ? t.namespaceURI : ch(null, ""); break; default: e = e === 8 ? t.parentNode : t, t = e.namespaceURI || null, e = e.tagName, t = ch(t, e) }Te(Vr), Ce(Vr, t) } function ci() { Te(Vr), Te(ja), Te(Sa) } function cw(e) { zs(Sa.current); var t = zs(Vr.current), r = ch(t, e.type); t !== r && (Ce(ja, e), Ce(Vr, r)) } function yp(e) { ja.current === e && (Te(Vr), Te(ja)) } var Le = vs(0); function Ec(e) { for (var t = e; t !== null;) { if (t.tag === 13) { var r = t.memoizedState; if (r !== null && (r = r.dehydrated, r === null || r.data === "$?" || r.data === "$!")) return t } else if (t.tag === 19 && t.memoizedProps.revealOrder !== void 0) { if (t.flags & 128) return t } else if (t.child !== null) { t.child.return = t, t = t.child; continue } if (t === e) break; for (; t.sibling === null;) { if (t.return === null || t.return === e) return null; t = t.return } t.sibling.return = t.return, t = t.sibling } return null } var _d = []; function xp() { for (var e = 0; e < _d.length; e++)_d[e]._workInProgressVersionPrimary = null; _d.length = 0 } var Kl = wn.ReactCurrentDispatcher, Nd = wn.ReactCurrentBatchConfig, to = 0, $e = null, Je = null, nt = null, Cc = !1, oa = !1, _a = 0, HE = 0; function ht() { throw Error(W(321)) } function wp(e, t) { if (t === null) return !1; for (var r = 0; r < t.length && r < e.length; r++)if (!jr(e[r], t[r])) return !1; return !0 } function bp(e, t, r, n, s, o) { if (to = o, $e = t, t.memoizedState = null, t.updateQueue = null, t.lanes = 0, Kl.current = e === null || e.memoizedState === null ? GE : YE, e = r(n, s), oa) { o = 0; do { if (oa = !1, _a = 0, 25 <= o) throw Error(W(301)); o += 1, nt = Je = null, t.updateQueue = null, Kl.current = QE, e = r(n, s) } while (oa) } if (Kl.current = kc, t = Je !== null && Je.next !== null, to = 0, nt = Je = $e = null, Cc = !1, t) throw Error(W(300)); return e } function jp() { var e = _a !== 0; return _a = 0, e } function Ar() { var e = { memoizedState: null, baseState: null, baseQueue: null, queue: null, next: null }; return nt === null ? $e.memoizedState = nt = e : nt = nt.next = e, nt } function nr() { if (Je === null) { var e = $e.alternate; e = e !== null ? e.memoizedState : null } else e = Je.next; var t = nt === null ? $e.memoizedState : nt.next; if (t !== null) nt = t, Je = e; else { if (e === null) throw Error(W(310)); Je = e, e = { memoizedState: Je.memoizedState, baseState: Je.baseState, baseQueue: Je.baseQueue, queue: Je.queue, next: null }, nt === null ? $e.memoizedState = nt = e : nt = nt.next = e } return nt } function Na(e, t) { return typeof t == "function" ? t(e) : t } function Ed(e) { var t = nr(), r = t.queue; if (r === null) throw Error(W(311)); r.lastRenderedReducer = e; var n = Je, s = n.baseQueue, o = r.pending; if (o !== null) { if (s !== null) { var a = s.next; s.next = o.next, o.next = a } n.baseQueue = s = o, r.pending = null } if (s !== null) { o = s.next, n = n.baseState; var l = a = null, c = null, u = o; do { var d = u.lane; if ((to & d) === d) c !== null && (c = c.next = { lane: 0, action: u.action, hasEagerState: u.hasEagerState, eagerState: u.eagerState, next: null }), n = u.hasEagerState ? u.eagerState : e(n, u.action); else { var p = { lane: d, action: u.action, hasEagerState: u.hasEagerState, eagerState: u.eagerState, next: null }; c === null ? (l = c = p, a = n) : c = c.next = p, $e.lanes |= d, ro |= d } u = u.next } while (u !== null && u !== o); c === null ? a = n : c.next = l, jr(n, t.memoizedState) || (It = !0), t.memoizedState = n, t.baseState = a, t.baseQueue = c, r.lastRenderedState = n } if (e = r.interleaved, e !== null) { s = e; do o = s.lane, $e.lanes |= o, ro |= o, s = s.next; while (s !== e) } else s === null && (r.lanes = 0); return [t.memoizedState, r.dispatch] } function Cd(e) { var t = nr(), r = t.queue; if (r === null) throw Error(W(311)); r.lastRenderedReducer = e; var n = r.dispatch, s = r.pending, o = t.memoizedState; if (s !== null) { r.pending = null; var a = s = s.next; do o = e(o, a.action), a = a.next; while (a !== s); jr(o, t.memoizedState) || (It = !0), t.memoizedState = o, t.baseQueue === null && (t.baseState = o), r.lastRenderedState = o } return [o, n] } function uw() { } function dw(e, t) { var r = $e, n = nr(), s = t(), o = !jr(n.memoizedState, s); if (o && (n.memoizedState = s, It = !0), n = n.queue, Sp(pw.bind(null, r, n, e), [e]), n.getSnapshot !== t || o || nt !== null && nt.memoizedState.tag & 1) { if (r.flags |= 2048, Ea(9, fw.bind(null, r, n, s, t), void 0, null), st === null) throw Error(W(349)); to & 30 || hw(r, t, s) } return s } function hw(e, t, r) { e.flags |= 16384, e = { getSnapshot: t, value: r }, t = $e.updateQueue, t === null ? (t = { lastEffect: null, stores: null }, $e.updateQueue = t, t.stores = [e]) : (r = t.stores, r === null ? t.stores = [e] : r.push(e)) } function fw(e, t, r, n) { t.value = r, t.getSnapshot = n, mw(t) && gw(e) } function pw(e, t, r) { return r(function () { mw(t) && gw(e) }) } function mw(e) { var t = e.getSnapshot; e = e.value; try { var r = t(); return !jr(e, r) } catch { return !0 } } function gw(e) { var t = fn(e, 1); t !== null && br(t, e, 1, -1) } function $g(e) { var t = Ar(); return typeof e == "function" && (e = e()), t.memoizedState = t.baseState = e, e = { pending: null, interleaved: null, lanes: 0, dispatch: null, lastRenderedReducer: Na, lastRenderedState: e }, t.queue = e, e = e.dispatch = KE.bind(null, $e, e), [t.memoizedState, e] } function Ea(e, t, r, n) { return e = { tag: e, create: t, destroy: r, deps: n, next: null }, t = $e.updateQueue, t === null ? (t = { lastEffect: null, stores: null }, $e.updateQueue = t, t.lastEffect = e.next = e) : (r = t.lastEffect, r === null ? t.lastEffect = e.next = e : (n = r.next, r.next = e, e.next = n, t.lastEffect = e)), e } function vw() { return nr().memoizedState } function Gl(e, t, r, n) { var s = Ar(); $e.flags |= e, s.memoizedState = Ea(1 | t, r, void 0, n === void 0 ? null : n) } function hu(e, t, r, n) { var s = nr(); n = n === void 0 ? null : n; var o = void 0; if (Je !== null) { var a = Je.memoizedState; if (o = a.destroy, n !== null && wp(n, a.deps)) { s.memoizedState = Ea(t, r, o, n); return } } $e.flags |= e, s.memoizedState = Ea(1 | t, r, o, n) } function Mg(e, t) { return Gl(8390656, 8, e, t) } function Sp(e, t) { return hu(2048, 8, e, t) } function yw(e, t) { return hu(4, 2, e, t) } function xw(e, t) { return hu(4, 4, e, t) } function ww(e, t) { if (typeof t == "function") return e = e(), t(e), function () { t(null) }; if (t != null) return e = e(), t.current = e, function () { t.current = null } } function bw(e, t, r) { return r = r != null ? r.concat([e]) : null, hu(4, 4, ww.bind(null, t, e), r) } function _p() { } function jw(e, t) { var r = nr(); t = t === void 0 ? null : t; var n = r.memoizedState; return n !== null && t !== null && wp(t, n[1]) ? n[0] : (r.memoizedState = [e, t], e) } function Sw(e, t) { var r = nr(); t = t === void 0 ? null : t; var n = r.memoizedState; return n !== null && t !== null && wp(t, n[1]) ? n[0] : (e = e(), r.memoizedState = [e, t], e) } function _w(e, t, r) { return to & 21 ? (jr(r, t) || (r = Px(), $e.lanes |= r, ro |= r, e.baseState = !0), t) : (e.baseState && (e.baseState = !1, It = !0), e.memoizedState = r) } function WE(e, t) { var r = _e; _e = r !== 0 && 4 > r ? r : 4, e(!0); var n = Nd.transition; Nd.transition = {}; try { e(!1), t() } finally { _e = r, Nd.transition = n } } function Nw() { return nr().memoizedState } function qE(e, t, r) { var n = ts(e); if (r = { lane: n, action: r, hasEagerState: !1, eagerState: null, next: null }, Ew(e)) Cw(t, r); else if (r = aw(e, t, r, n), r !== null) { var s = _t(); br(r, e, n, s), kw(r, t, n) } } function KE(e, t, r) { var n = ts(e), s = { lane: n, action: r, hasEagerState: !1, eagerState: null, next: null }; if (Ew(e)) Cw(t, s); else { var o = e.alternate; if (e.lanes === 0 && (o === null || o.lanes === 0) && (o = t.lastRenderedReducer, o !== null)) try { var a = t.lastRenderedState, l = o(a, r); if (s.hasEagerState = !0, s.eagerState = l, jr(l, a)) { var c = t.interleaved; c === null ? (s.next = s, mp(t)) : (s.next = c.next, c.next = s), t.interleaved = s; return } } catch { } finally { } r = aw(e, t, s, n), r !== null && (s = _t(), br(r, e, n, s), kw(r, t, n)) } } function Ew(e) { var t = e.alternate; return e === $e || t !== null && t === $e } function Cw(e, t) { oa = Cc = !0; var r = e.pending; r === null ? t.next = t : (t.next = r.next, r.next = t), e.pending = t } function kw(e, t, r) { if (r & 4194240) { var n = t.lanes; n &= e.pendingLanes, r |= n, t.lanes = r, tp(e, r) } } var kc = { readContext: rr, useCallback: ht, useContext: ht, useEffect: ht, useImperativeHandle: ht, useInsertionEffect: ht, useLayoutEffect: ht, useMemo: ht, useReducer: ht, useRef: ht, useState: ht, useDebugValue: ht, useDeferredValue: ht, useTransition: ht, useMutableSource: ht, useSyncExternalStore: ht, useId: ht, unstable_isNewReconciler: !1 }, GE = { readContext: rr, useCallback: function (e, t) { return Ar().memoizedState = [e, t === void 0 ? null : t], e }, useContext: rr, useEffect: Mg, useImperativeHandle: function (e, t, r) { return r = r != null ? r.concat([e]) : null, Gl(4194308, 4, ww.bind(null, t, e), r) }, useLayoutEffect: function (e, t) { return Gl(4194308, 4, e, t) }, useInsertionEffect: function (e, t) { return Gl(4, 2, e, t) }, useMemo: function (e, t) { var r = Ar(); return t = t === void 0 ? null : t, e = e(), r.memoizedState = [e, t], e }, useReducer: function (e, t, r) { var n = Ar(); return t = r !== void 0 ? r(t) : t, n.memoizedState = n.baseState = t, e = { pending: null, interleaved: null, lanes: 0, dispatch: null, lastRenderedReducer: e, lastRenderedState: t }, n.queue = e, e = e.dispatch = qE.bind(null, $e, e), [n.memoizedState, e] }, useRef: function (e) { var t = Ar(); return e = { current: e }, t.memoizedState = e }, useState: $g, useDebugValue: _p, useDeferredValue: function (e) { return Ar().memoizedState = e }, useTransition: function () { var e = $g(!1), t = e[0]; return e = WE.bind(null, e[1]), Ar().memoizedState = e, [t, e] }, useMutableSource: function () { }, useSyncExternalStore: function (e, t, r) { var n = $e, s = Ar(); if (Ie) { if (r === void 0) throw Error(W(407)); r = r() } else { if (r = t(), st === null) throw Error(W(349)); to & 30 || hw(n, t, r) } s.memoizedState = r; var o = { value: r, getSnapshot: t }; return s.queue = o, Mg(pw.bind(null, n, o, e), [e]), n.flags |= 2048, Ea(9, fw.bind(null, n, o, r, t), void 0, null), r }, useId: function () { var e = Ar(), t = st.identifierPrefix; if (Ie) { var r = an, n = on; r = (n & ~(1 << 32 - wr(n) - 1)).toString(32) + r, t = ":" + t + "R" + r, r = _a++, 0 < r && (t += "H" + r.toString(32)), t += ":" } else r = HE++, t = ":" + t + "r" + r.toString(32) + ":"; return e.memoizedState = t }, unstable_isNewReconciler: !1 }, YE = { readContext: rr, useCallback: jw, useContext: rr, useEffect: Sp, useImperativeHandle: bw, useInsertionEffect: yw, useLayoutEffect: xw, useMemo: Sw, useReducer: Ed, useRef: vw, useState: function () { return Ed(Na) }, useDebugValue: _p, useDeferredValue: function (e) { var t = nr(); return _w(t, Je.memoizedState, e) }, useTransition: function () { var e = Ed(Na)[0], t = nr().memoizedState; return [e, t] }, useMutableSource: uw, useSyncExternalStore: dw, useId: Nw, unstable_isNewReconciler: !1 }, QE = { readContext: rr, useCallback: jw, useContext: rr, useEffect: Sp, useImperativeHandle: bw, useInsertionEffect: yw, useLayoutEffect: xw, useMemo: Sw, useReducer: Cd, useRef: vw, useState: function () { return Cd(Na) }, useDebugValue: _p, useDeferredValue: function (e) { var t = nr(); return Je === null ? t.memoizedState = e : _w(t, Je.memoizedState, e) }, useTransition: function () { var e = Cd(Na)[0], t = nr().memoizedState; return [e, t] }, useMutableSource: uw, useSyncExternalStore: dw, useId: Nw, unstable_isNewReconciler: !1 }; function hr(e, t) { if (e && e.defaultProps) { t = Fe({}, t), e = e.defaultProps; for (var r in e) t[r] === void 0 && (t[r] = e[r]); return t } return t } function Th(e, t, r, n) { t = e.memoizedState, r = r(n, t), r = r == null ? t : Fe({}, t, r), e.memoizedState = r, e.lanes === 0 && (e.updateQueue.baseState = r) } var fu = { isMounted: function (e) { return (e = e._reactInternals) ? fo(e) === e : !1 }, enqueueSetState: function (e, t, r) { e = e._reactInternals; var n = _t(), s = ts(e), o = ln(n, s); o.payload = t, r != null && (o.callback = r), t = Zn(e, o, s), t !== null && (br(t, e, s, n), ql(t, e, s)) }, enqueueReplaceState: function (e, t, r) { e = e._reactInternals; var n = _t(), s = ts(e), o = ln(n, s); o.tag = 1, o.payload = t, r != null && (o.callback = r), t = Zn(e, o, s), t !== null && (br(t, e, s, n), ql(t, e, s)) }, enqueueForceUpdate: function (e, t) { e = e._reactInternals; var r = _t(), n = ts(e), s = ln(r, n); s.tag = 2, t != null && (s.callback = t), t = Zn(e, s, n), t !== null && (br(t, e, n, r), ql(t, e, n)) } }; function Fg(e, t, r, n, s, o, a) { return e = e.stateNode, typeof e.shouldComponentUpdate == "function" ? e.shouldComponentUpdate(n, o, a) : t.prototype && t.prototype.isPureReactComponent ? !ya(r, n) || !ya(s, o) : !0 } function Pw(e, t, r) { var n = !1, s = as, o = t.contextType; return typeof o == "object" && o !== null ? o = rr(o) : (s = Lt(t) ? Zs : gt.current, n = t.contextTypes, o = (n = n != null) ? ii(e, s) : as), t = new t(r, o), e.memoizedState = t.state !== null && t.state !== void 0 ? t.state : null, t.updater = fu, e.stateNode = t, t._reactInternals = e, n && (e = e.stateNode, e.__reactInternalMemoizedUnmaskedChildContext = s, e.__reactInternalMemoizedMaskedChildContext = o), t } function Ug(e, t, r, n) { e = t.state, typeof t.componentWillReceiveProps == "function" && t.componentWillReceiveProps(r, n), typeof t.UNSAFE_componentWillReceiveProps == "function" && t.UNSAFE_componentWillReceiveProps(r, n), t.state !== e && fu.enqueueReplaceState(t, t.state, null) } function Rh(e, t, r, n) { var s = e.stateNode; s.props = r, s.state = e.memoizedState, s.refs = {}, gp(e); var o = t.contextType; typeof o == "object" && o !== null ? s.context = rr(o) : (o = Lt(t) ? Zs : gt.current, s.context = ii(e, o)), s.state = e.memoizedState, o = t.getDerivedStateFromProps, typeof o == "function" && (Th(e, t, o, r), s.state = e.memoizedState), typeof t.getDerivedStateFromProps == "function" || typeof s.getSnapshotBeforeUpdate == "function" || typeof s.UNSAFE_componentWillMount != "function" && typeof s.componentWillMount != "function" || (t = s.state, typeof s.componentWillMount == "function" && s.componentWillMount(), typeof s.UNSAFE_componentWillMount == "function" && s.UNSAFE_componentWillMount(), t !== s.state && fu.enqueueReplaceState(s, s.state, null), Nc(e, r, s, n), s.state = e.memoizedState), typeof s.componentDidMount == "function" && (e.flags |= 4194308) } function ui(e, t) {
  try { var r = "", n = t; do r += _N(n), n = n.return; while (n); var s = r } catch (o) {
    s = `
Error generating stack: `+ o.message + `
`+ o.stack
  } return { value: e, source: t, stack: s, digest: null }
} function kd(e, t, r) { return { value: e, source: null, stack: r ?? null, digest: t ?? null } } function Ah(e, t) { try { console.error(t.value) } catch (r) { setTimeout(function () { throw r }) } } var JE = typeof WeakMap == "function" ? WeakMap : Map; function Tw(e, t, r) { r = ln(-1, r), r.tag = 3, r.payload = { element: null }; var n = t.value; return r.callback = function () { Tc || (Tc = !0, Bh = n), Ah(e, t) }, r } function Rw(e, t, r) { r = ln(-1, r), r.tag = 3; var n = e.type.getDerivedStateFromError; if (typeof n == "function") { var s = t.value; r.payload = function () { return n(s) }, r.callback = function () { Ah(e, t) } } var o = e.stateNode; return o !== null && typeof o.componentDidCatch == "function" && (r.callback = function () { Ah(e, t), typeof n != "function" && (es === null ? es = new Set([this]) : es.add(this)); var a = t.stack; this.componentDidCatch(t.value, { componentStack: a !== null ? a : "" }) }), r } function zg(e, t, r) { var n = e.pingCache; if (n === null) { n = e.pingCache = new JE; var s = new Set; n.set(t, s) } else s = n.get(t), s === void 0 && (s = new Set, n.set(t, s)); s.has(r) || (s.add(r), e = dC.bind(null, e, t, r), t.then(e, e)) } function Bg(e) { do { var t; if ((t = e.tag === 13) && (t = e.memoizedState, t = t !== null ? t.dehydrated !== null : !0), t) return e; e = e.return } while (e !== null); return null } function Vg(e, t, r, n, s) { return e.mode & 1 ? (e.flags |= 65536, e.lanes = s, e) : (e === t ? e.flags |= 65536 : (e.flags |= 128, r.flags |= 131072, r.flags &= -52805, r.tag === 1 && (r.alternate === null ? r.tag = 17 : (t = ln(-1, 1), t.tag = 2, Zn(r, t, 1))), r.lanes |= 1), e) } var XE = wn.ReactCurrentOwner, It = !1; function xt(e, t, r, n) { t.child = e === null ? iw(t, null, r, n) : li(t, e.child, r, n) } function Hg(e, t, r, n, s) { r = r.render; var o = t.ref; return Ho(t, s), n = bp(e, t, r, n, o, s), r = jp(), e !== null && !It ? (t.updateQueue = e.updateQueue, t.flags &= -2053, e.lanes &= ~s, pn(e, t, s)) : (Ie && r && cp(t), t.flags |= 1, xt(e, t, n, s), t.child) } function Wg(e, t, r, n, s) { if (e === null) { var o = r.type; return typeof o == "function" && !Ap(o) && o.defaultProps === void 0 && r.compare === null && r.defaultProps === void 0 ? (t.tag = 15, t.type = o, Aw(e, t, o, n, s)) : (e = Xl(r.type, null, n, t, t.mode, s), e.ref = t.ref, e.return = t, t.child = e) } if (o = e.child, !(e.lanes & s)) { var a = o.memoizedProps; if (r = r.compare, r = r !== null ? r : ya, r(a, n) && e.ref === t.ref) return pn(e, t, s) } return t.flags |= 1, e = rs(o, n), e.ref = t.ref, e.return = t, t.child = e } function Aw(e, t, r, n, s) { if (e !== null) { var o = e.memoizedProps; if (ya(o, n) && e.ref === t.ref) if (It = !1, t.pendingProps = n = o, (e.lanes & s) !== 0) e.flags & 131072 && (It = !0); else return t.lanes = e.lanes, pn(e, t, s) } return Oh(e, t, r, n, s) } function Ow(e, t, r) { var n = t.pendingProps, s = n.children, o = e !== null ? e.memoizedState : null; if (n.mode === "hidden") if (!(t.mode & 1)) t.memoizedState = { baseLanes: 0, cachePool: null, transitions: null }, Ce(Fo, Mt), Mt |= r; else { if (!(r & 1073741824)) return e = o !== null ? o.baseLanes | r : r, t.lanes = t.childLanes = 1073741824, t.memoizedState = { baseLanes: e, cachePool: null, transitions: null }, t.updateQueue = null, Ce(Fo, Mt), Mt |= e, null; t.memoizedState = { baseLanes: 0, cachePool: null, transitions: null }, n = o !== null ? o.baseLanes : r, Ce(Fo, Mt), Mt |= n } else o !== null ? (n = o.baseLanes | r, t.memoizedState = null) : n = r, Ce(Fo, Mt), Mt |= n; return xt(e, t, s, r), t.child } function Iw(e, t) { var r = t.ref; (e === null && r !== null || e !== null && e.ref !== r) && (t.flags |= 512, t.flags |= 2097152) } function Oh(e, t, r, n, s) { var o = Lt(r) ? Zs : gt.current; return o = ii(t, o), Ho(t, s), r = bp(e, t, r, n, o, s), n = jp(), e !== null && !It ? (t.updateQueue = e.updateQueue, t.flags &= -2053, e.lanes &= ~s, pn(e, t, s)) : (Ie && n && cp(t), t.flags |= 1, xt(e, t, r, s), t.child) } function qg(e, t, r, n, s) { if (Lt(r)) { var o = !0; wc(t) } else o = !1; if (Ho(t, s), t.stateNode === null) Yl(e, t), Pw(t, r, n), Rh(t, r, n, s), n = !0; else if (e === null) { var a = t.stateNode, l = t.memoizedProps; a.props = l; var c = a.context, u = r.contextType; typeof u == "object" && u !== null ? u = rr(u) : (u = Lt(r) ? Zs : gt.current, u = ii(t, u)); var d = r.getDerivedStateFromProps, p = typeof d == "function" || typeof a.getSnapshotBeforeUpdate == "function"; p || typeof a.UNSAFE_componentWillReceiveProps != "function" && typeof a.componentWillReceiveProps != "function" || (l !== n || c !== u) && Ug(t, a, n, u), Dn = !1; var m = t.memoizedState; a.state = m, Nc(t, n, a, s), c = t.memoizedState, l !== n || m !== c || Dt.current || Dn ? (typeof d == "function" && (Th(t, r, d, n), c = t.memoizedState), (l = Dn || Fg(t, r, l, n, m, c, u)) ? (p || typeof a.UNSAFE_componentWillMount != "function" && typeof a.componentWillMount != "function" || (typeof a.componentWillMount == "function" && a.componentWillMount(), typeof a.UNSAFE_componentWillMount == "function" && a.UNSAFE_componentWillMount()), typeof a.componentDidMount == "function" && (t.flags |= 4194308)) : (typeof a.componentDidMount == "function" && (t.flags |= 4194308), t.memoizedProps = n, t.memoizedState = c), a.props = n, a.state = c, a.context = u, n = l) : (typeof a.componentDidMount == "function" && (t.flags |= 4194308), n = !1) } else { a = t.stateNode, lw(e, t), l = t.memoizedProps, u = t.type === t.elementType ? l : hr(t.type, l), a.props = u, p = t.pendingProps, m = a.context, c = r.contextType, typeof c == "object" && c !== null ? c = rr(c) : (c = Lt(r) ? Zs : gt.current, c = ii(t, c)); var h = r.getDerivedStateFromProps; (d = typeof h == "function" || typeof a.getSnapshotBeforeUpdate == "function") || typeof a.UNSAFE_componentWillReceiveProps != "function" && typeof a.componentWillReceiveProps != "function" || (l !== p || m !== c) && Ug(t, a, n, c), Dn = !1, m = t.memoizedState, a.state = m, Nc(t, n, a, s); var x = t.memoizedState; l !== p || m !== x || Dt.current || Dn ? (typeof h == "function" && (Th(t, r, h, n), x = t.memoizedState), (u = Dn || Fg(t, r, u, n, m, x, c) || !1) ? (d || typeof a.UNSAFE_componentWillUpdate != "function" && typeof a.componentWillUpdate != "function" || (typeof a.componentWillUpdate == "function" && a.componentWillUpdate(n, x, c), typeof a.UNSAFE_componentWillUpdate == "function" && a.UNSAFE_componentWillUpdate(n, x, c)), typeof a.componentDidUpdate == "function" && (t.flags |= 4), typeof a.getSnapshotBeforeUpdate == "function" && (t.flags |= 1024)) : (typeof a.componentDidUpdate != "function" || l === e.memoizedProps && m === e.memoizedState || (t.flags |= 4), typeof a.getSnapshotBeforeUpdate != "function" || l === e.memoizedProps && m === e.memoizedState || (t.flags |= 1024), t.memoizedProps = n, t.memoizedState = x), a.props = n, a.state = x, a.context = c, n = u) : (typeof a.componentDidUpdate != "function" || l === e.memoizedProps && m === e.memoizedState || (t.flags |= 4), typeof a.getSnapshotBeforeUpdate != "function" || l === e.memoizedProps && m === e.memoizedState || (t.flags |= 1024), n = !1) } return Ih(e, t, r, n, o, s) } function Ih(e, t, r, n, s, o) { Iw(e, t); var a = (t.flags & 128) !== 0; if (!n && !a) return s && Rg(t, r, !1), pn(e, t, o); n = t.stateNode, XE.current = t; var l = a && typeof r.getDerivedStateFromError != "function" ? null : n.render(); return t.flags |= 1, e !== null && a ? (t.child = li(t, e.child, null, o), t.child = li(t, null, l, o)) : xt(e, t, l, o), t.memoizedState = n.state, s && Rg(t, r, !0), t.child } function Dw(e) { var t = e.stateNode; t.pendingContext ? Tg(e, t.pendingContext, t.pendingContext !== t.context) : t.context && Tg(e, t.context, !1), vp(e, t.containerInfo) } function Kg(e, t, r, n, s) { return ai(), dp(s), t.flags |= 256, xt(e, t, r, n), t.child } var Dh = { dehydrated: null, treeContext: null, retryLane: 0 }; function Lh(e) { return { baseLanes: e, cachePool: null, transitions: null } } function Lw(e, t, r) { var n = t.pendingProps, s = Le.current, o = !1, a = (t.flags & 128) !== 0, l; if ((l = a) || (l = e !== null && e.memoizedState === null ? !1 : (s & 2) !== 0), l ? (o = !0, t.flags &= -129) : (e === null || e.memoizedState !== null) && (s |= 1), Ce(Le, s & 1), e === null) return kh(t), e = t.memoizedState, e !== null && (e = e.dehydrated, e !== null) ? (t.mode & 1 ? e.data === "$!" ? t.lanes = 8 : t.lanes = 1073741824 : t.lanes = 1, null) : (a = n.children, e = n.fallback, o ? (n = t.mode, o = t.child, a = { mode: "hidden", children: a }, !(n & 1) && o !== null ? (o.childLanes = 0, o.pendingProps = a) : o = gu(a, n, 0, null), e = Js(e, n, r, null), o.return = t, e.return = t, o.sibling = e, t.child = o, t.child.memoizedState = Lh(r), t.memoizedState = Dh, e) : Np(t, a)); if (s = e.memoizedState, s !== null && (l = s.dehydrated, l !== null)) return ZE(e, t, a, n, l, s, r); if (o) { o = n.fallback, a = t.mode, s = e.child, l = s.sibling; var c = { mode: "hidden", children: n.children }; return !(a & 1) && t.child !== s ? (n = t.child, n.childLanes = 0, n.pendingProps = c, t.deletions = null) : (n = rs(s, c), n.subtreeFlags = s.subtreeFlags & 14680064), l !== null ? o = rs(l, o) : (o = Js(o, a, r, null), o.flags |= 2), o.return = t, n.return = t, n.sibling = o, t.child = n, n = o, o = t.child, a = e.child.memoizedState, a = a === null ? Lh(r) : { baseLanes: a.baseLanes | r, cachePool: null, transitions: a.transitions }, o.memoizedState = a, o.childLanes = e.childLanes & ~r, t.memoizedState = Dh, n } return o = e.child, e = o.sibling, n = rs(o, { mode: "visible", children: n.children }), !(t.mode & 1) && (n.lanes = r), n.return = t, n.sibling = null, e !== null && (r = t.deletions, r === null ? (t.deletions = [e], t.flags |= 16) : r.push(e)), t.child = n, t.memoizedState = null, n } function Np(e, t) { return t = gu({ mode: "visible", children: t }, e.mode, 0, null), t.return = e, e.child = t } function yl(e, t, r, n) { return n !== null && dp(n), li(t, e.child, null, r), e = Np(t, t.pendingProps.children), e.flags |= 2, t.memoizedState = null, e } function ZE(e, t, r, n, s, o, a) { if (r) return t.flags & 256 ? (t.flags &= -257, n = kd(Error(W(422))), yl(e, t, a, n)) : t.memoizedState !== null ? (t.child = e.child, t.flags |= 128, null) : (o = n.fallback, s = t.mode, n = gu({ mode: "visible", children: n.children }, s, 0, null), o = Js(o, s, a, null), o.flags |= 2, n.return = t, o.return = t, n.sibling = o, t.child = n, t.mode & 1 && li(t, e.child, null, a), t.child.memoizedState = Lh(a), t.memoizedState = Dh, o); if (!(t.mode & 1)) return yl(e, t, a, null); if (s.data === "$!") { if (n = s.nextSibling && s.nextSibling.dataset, n) var l = n.dgst; return n = l, o = Error(W(419)), n = kd(o, n, void 0), yl(e, t, a, n) } if (l = (a & e.childLanes) !== 0, It || l) { if (n = st, n !== null) { switch (a & -a) { case 4: s = 2; break; case 16: s = 8; break; case 64: case 128: case 256: case 512: case 1024: case 2048: case 4096: case 8192: case 16384: case 32768: case 65536: case 131072: case 262144: case 524288: case 1048576: case 2097152: case 4194304: case 8388608: case 16777216: case 33554432: case 67108864: s = 32; break; case 536870912: s = 268435456; break; default: s = 0 }s = s & (n.suspendedLanes | a) ? 0 : s, s !== 0 && s !== o.retryLane && (o.retryLane = s, fn(e, s), br(n, e, s, -1)) } return Rp(), n = kd(Error(W(421))), yl(e, t, a, n) } return s.data === "$?" ? (t.flags |= 128, t.child = e.child, t = hC.bind(null, e), s._reactRetry = t, null) : (e = o.treeContext, zt = Xn(s.nextSibling), Bt = t, Ie = !0, xr = null, e !== null && (Jt[Xt++] = on, Jt[Xt++] = an, Jt[Xt++] = eo, on = e.id, an = e.overflow, eo = t), t = Np(t, n.children), t.flags |= 4096, t) } function Gg(e, t, r) { e.lanes |= t; var n = e.alternate; n !== null && (n.lanes |= t), Ph(e.return, t, r) } function Pd(e, t, r, n, s) { var o = e.memoizedState; o === null ? e.memoizedState = { isBackwards: t, rendering: null, renderingStartTime: 0, last: n, tail: r, tailMode: s } : (o.isBackwards = t, o.rendering = null, o.renderingStartTime = 0, o.last = n, o.tail = r, o.tailMode = s) } function $w(e, t, r) { var n = t.pendingProps, s = n.revealOrder, o = n.tail; if (xt(e, t, n.children, r), n = Le.current, n & 2) n = n & 1 | 2, t.flags |= 128; else { if (e !== null && e.flags & 128) e: for (e = t.child; e !== null;) { if (e.tag === 13) e.memoizedState !== null && Gg(e, r, t); else if (e.tag === 19) Gg(e, r, t); else if (e.child !== null) { e.child.return = e, e = e.child; continue } if (e === t) break e; for (; e.sibling === null;) { if (e.return === null || e.return === t) break e; e = e.return } e.sibling.return = e.return, e = e.sibling } n &= 1 } if (Ce(Le, n), !(t.mode & 1)) t.memoizedState = null; else switch (s) { case "forwards": for (r = t.child, s = null; r !== null;)e = r.alternate, e !== null && Ec(e) === null && (s = r), r = r.sibling; r = s, r === null ? (s = t.child, t.child = null) : (s = r.sibling, r.sibling = null), Pd(t, !1, s, r, o); break; case "backwards": for (r = null, s = t.child, t.child = null; s !== null;) { if (e = s.alternate, e !== null && Ec(e) === null) { t.child = s; break } e = s.sibling, s.sibling = r, r = s, s = e } Pd(t, !0, r, null, o); break; case "together": Pd(t, !1, null, null, void 0); break; default: t.memoizedState = null }return t.child } function Yl(e, t) { !(t.mode & 1) && e !== null && (e.alternate = null, t.alternate = null, t.flags |= 2) } function pn(e, t, r) { if (e !== null && (t.dependencies = e.dependencies), ro |= t.lanes, !(r & t.childLanes)) return null; if (e !== null && t.child !== e.child) throw Error(W(153)); if (t.child !== null) { for (e = t.child, r = rs(e, e.pendingProps), t.child = r, r.return = t; e.sibling !== null;)e = e.sibling, r = r.sibling = rs(e, e.pendingProps), r.return = t; r.sibling = null } return t.child } function eC(e, t, r) { switch (t.tag) { case 3: Dw(t), ai(); break; case 5: cw(t); break; case 1: Lt(t.type) && wc(t); break; case 4: vp(t, t.stateNode.containerInfo); break; case 10: var n = t.type._context, s = t.memoizedProps.value; Ce(Sc, n._currentValue), n._currentValue = s; break; case 13: if (n = t.memoizedState, n !== null) return n.dehydrated !== null ? (Ce(Le, Le.current & 1), t.flags |= 128, null) : r & t.child.childLanes ? Lw(e, t, r) : (Ce(Le, Le.current & 1), e = pn(e, t, r), e !== null ? e.sibling : null); Ce(Le, Le.current & 1); break; case 19: if (n = (r & t.childLanes) !== 0, e.flags & 128) { if (n) return $w(e, t, r); t.flags |= 128 } if (s = t.memoizedState, s !== null && (s.rendering = null, s.tail = null, s.lastEffect = null), Ce(Le, Le.current), n) break; return null; case 22: case 23: return t.lanes = 0, Ow(e, t, r) }return pn(e, t, r) } var Mw, $h, Fw, Uw; Mw = function (e, t) { for (var r = t.child; r !== null;) { if (r.tag === 5 || r.tag === 6) e.appendChild(r.stateNode); else if (r.tag !== 4 && r.child !== null) { r.child.return = r, r = r.child; continue } if (r === t) break; for (; r.sibling === null;) { if (r.return === null || r.return === t) return; r = r.return } r.sibling.return = r.return, r = r.sibling } }; $h = function () { }; Fw = function (e, t, r, n) { var s = e.memoizedProps; if (s !== n) { e = t.stateNode, zs(Vr.current); var o = null; switch (r) { case "input": s = oh(e, s), n = oh(e, n), o = []; break; case "select": s = Fe({}, s, { value: void 0 }), n = Fe({}, n, { value: void 0 }), o = []; break; case "textarea": s = lh(e, s), n = lh(e, n), o = []; break; default: typeof s.onClick != "function" && typeof n.onClick == "function" && (e.onclick = yc) }uh(r, n); var a; r = null; for (u in s) if (!n.hasOwnProperty(u) && s.hasOwnProperty(u) && s[u] != null) if (u === "style") { var l = s[u]; for (a in l) l.hasOwnProperty(a) && (r || (r = {}), r[a] = "") } else u !== "dangerouslySetInnerHTML" && u !== "children" && u !== "suppressContentEditableWarning" && u !== "suppressHydrationWarning" && u !== "autoFocus" && (da.hasOwnProperty(u) ? o || (o = []) : (o = o || []).push(u, null)); for (u in n) { var c = n[u]; if (l = s != null ? s[u] : void 0, n.hasOwnProperty(u) && c !== l && (c != null || l != null)) if (u === "style") if (l) { for (a in l) !l.hasOwnProperty(a) || c && c.hasOwnProperty(a) || (r || (r = {}), r[a] = ""); for (a in c) c.hasOwnProperty(a) && l[a] !== c[a] && (r || (r = {}), r[a] = c[a]) } else r || (o || (o = []), o.push(u, r)), r = c; else u === "dangerouslySetInnerHTML" ? (c = c ? c.__html : void 0, l = l ? l.__html : void 0, c != null && l !== c && (o = o || []).push(u, c)) : u === "children" ? typeof c != "string" && typeof c != "number" || (o = o || []).push(u, "" + c) : u !== "suppressContentEditableWarning" && u !== "suppressHydrationWarning" && (da.hasOwnProperty(u) ? (c != null && u === "onScroll" && Pe("scroll", e), o || l === c || (o = [])) : (o = o || []).push(u, c)) } r && (o = o || []).push("style", r); var u = o; (t.updateQueue = u) && (t.flags |= 4) } }; Uw = function (e, t, r, n) { r !== n && (t.flags |= 4) }; function zi(e, t) { if (!Ie) switch (e.tailMode) { case "hidden": t = e.tail; for (var r = null; t !== null;)t.alternate !== null && (r = t), t = t.sibling; r === null ? e.tail = null : r.sibling = null; break; case "collapsed": r = e.tail; for (var n = null; r !== null;)r.alternate !== null && (n = r), r = r.sibling; n === null ? t || e.tail === null ? e.tail = null : e.tail.sibling = null : n.sibling = null } } function ft(e) { var t = e.alternate !== null && e.alternate.child === e.child, r = 0, n = 0; if (t) for (var s = e.child; s !== null;)r |= s.lanes | s.childLanes, n |= s.subtreeFlags & 14680064, n |= s.flags & 14680064, s.return = e, s = s.sibling; else for (s = e.child; s !== null;)r |= s.lanes | s.childLanes, n |= s.subtreeFlags, n |= s.flags, s.return = e, s = s.sibling; return e.subtreeFlags |= n, e.childLanes = r, t } function tC(e, t, r) { var n = t.pendingProps; switch (up(t), t.tag) { case 2: case 16: case 15: case 0: case 11: case 7: case 8: case 12: case 9: case 14: return ft(t), null; case 1: return Lt(t.type) && xc(), ft(t), null; case 3: return n = t.stateNode, ci(), Te(Dt), Te(gt), xp(), n.pendingContext && (n.context = n.pendingContext, n.pendingContext = null), (e === null || e.child === null) && (gl(t) ? t.flags |= 4 : e === null || e.memoizedState.isDehydrated && !(t.flags & 256) || (t.flags |= 1024, xr !== null && (Wh(xr), xr = null))), $h(e, t), ft(t), null; case 5: yp(t); var s = zs(Sa.current); if (r = t.type, e !== null && t.stateNode != null) Fw(e, t, r, n, s), e.ref !== t.ref && (t.flags |= 512, t.flags |= 2097152); else { if (!n) { if (t.stateNode === null) throw Error(W(166)); return ft(t), null } if (e = zs(Vr.current), gl(t)) { n = t.stateNode, r = t.type; var o = t.memoizedProps; switch (n[$r] = t, n[ba] = o, e = (t.mode & 1) !== 0, r) { case "dialog": Pe("cancel", n), Pe("close", n); break; case "iframe": case "object": case "embed": Pe("load", n); break; case "video": case "audio": for (s = 0; s < Gi.length; s++)Pe(Gi[s], n); break; case "source": Pe("error", n); break; case "img": case "image": case "link": Pe("error", n), Pe("load", n); break; case "details": Pe("toggle", n); break; case "input": ng(n, o), Pe("invalid", n); break; case "select": n._wrapperState = { wasMultiple: !!o.multiple }, Pe("invalid", n); break; case "textarea": og(n, o), Pe("invalid", n) }uh(r, o), s = null; for (var a in o) if (o.hasOwnProperty(a)) { var l = o[a]; a === "children" ? typeof l == "string" ? n.textContent !== l && (o.suppressHydrationWarning !== !0 && ml(n.textContent, l, e), s = ["children", l]) : typeof l == "number" && n.textContent !== "" + l && (o.suppressHydrationWarning !== !0 && ml(n.textContent, l, e), s = ["children", "" + l]) : da.hasOwnProperty(a) && l != null && a === "onScroll" && Pe("scroll", n) } switch (r) { case "input": al(n), sg(n, o, !0); break; case "textarea": al(n), ig(n); break; case "select": case "option": break; default: typeof o.onClick == "function" && (n.onclick = yc) }n = s, t.updateQueue = n, n !== null && (t.flags |= 4) } else { a = s.nodeType === 9 ? s : s.ownerDocument, e === "http://www.w3.org/1999/xhtml" && (e = px(r)), e === "http://www.w3.org/1999/xhtml" ? r === "script" ? (e = a.createElement("div"), e.innerHTML = "<script><\/script>", e = e.removeChild(e.firstChild)) : typeof n.is == "string" ? e = a.createElement(r, { is: n.is }) : (e = a.createElement(r), r === "select" && (a = e, n.multiple ? a.multiple = !0 : n.size && (a.size = n.size))) : e = a.createElementNS(e, r), e[$r] = t, e[ba] = n, Mw(e, t, !1, !1), t.stateNode = e; e: { switch (a = dh(r, n), r) { case "dialog": Pe("cancel", e), Pe("close", e), s = n; break; case "iframe": case "object": case "embed": Pe("load", e), s = n; break; case "video": case "audio": for (s = 0; s < Gi.length; s++)Pe(Gi[s], e); s = n; break; case "source": Pe("error", e), s = n; break; case "img": case "image": case "link": Pe("error", e), Pe("load", e), s = n; break; case "details": Pe("toggle", e), s = n; break; case "input": ng(e, n), s = oh(e, n), Pe("invalid", e); break; case "option": s = n; break; case "select": e._wrapperState = { wasMultiple: !!n.multiple }, s = Fe({}, n, { value: void 0 }), Pe("invalid", e); break; case "textarea": og(e, n), s = lh(e, n), Pe("invalid", e); break; default: s = n }uh(r, s), l = s; for (o in l) if (l.hasOwnProperty(o)) { var c = l[o]; o === "style" ? vx(e, c) : o === "dangerouslySetInnerHTML" ? (c = c ? c.__html : void 0, c != null && mx(e, c)) : o === "children" ? typeof c == "string" ? (r !== "textarea" || c !== "") && ha(e, c) : typeof c == "number" && ha(e, "" + c) : o !== "suppressContentEditableWarning" && o !== "suppressHydrationWarning" && o !== "autoFocus" && (da.hasOwnProperty(o) ? c != null && o === "onScroll" && Pe("scroll", e) : c != null && Yf(e, o, c, a)) } switch (r) { case "input": al(e), sg(e, n, !1); break; case "textarea": al(e), ig(e); break; case "option": n.value != null && e.setAttribute("value", "" + is(n.value)); break; case "select": e.multiple = !!n.multiple, o = n.value, o != null ? Uo(e, !!n.multiple, o, !1) : n.defaultValue != null && Uo(e, !!n.multiple, n.defaultValue, !0); break; default: typeof s.onClick == "function" && (e.onclick = yc) }switch (r) { case "button": case "input": case "select": case "textarea": n = !!n.autoFocus; break e; case "img": n = !0; break e; default: n = !1 } } n && (t.flags |= 4) } t.ref !== null && (t.flags |= 512, t.flags |= 2097152) } return ft(t), null; case 6: if (e && t.stateNode != null) Uw(e, t, e.memoizedProps, n); else { if (typeof n != "string" && t.stateNode === null) throw Error(W(166)); if (r = zs(Sa.current), zs(Vr.current), gl(t)) { if (n = t.stateNode, r = t.memoizedProps, n[$r] = t, (o = n.nodeValue !== r) && (e = Bt, e !== null)) switch (e.tag) { case 3: ml(n.nodeValue, r, (e.mode & 1) !== 0); break; case 5: e.memoizedProps.suppressHydrationWarning !== !0 && ml(n.nodeValue, r, (e.mode & 1) !== 0) }o && (t.flags |= 4) } else n = (r.nodeType === 9 ? r : r.ownerDocument).createTextNode(n), n[$r] = t, t.stateNode = n } return ft(t), null; case 13: if (Te(Le), n = t.memoizedState, e === null || e.memoizedState !== null && e.memoizedState.dehydrated !== null) { if (Ie && zt !== null && t.mode & 1 && !(t.flags & 128)) sw(), ai(), t.flags |= 98560, o = !1; else if (o = gl(t), n !== null && n.dehydrated !== null) { if (e === null) { if (!o) throw Error(W(318)); if (o = t.memoizedState, o = o !== null ? o.dehydrated : null, !o) throw Error(W(317)); o[$r] = t } else ai(), !(t.flags & 128) && (t.memoizedState = null), t.flags |= 4; ft(t), o = !1 } else xr !== null && (Wh(xr), xr = null), o = !0; if (!o) return t.flags & 65536 ? t : null } return t.flags & 128 ? (t.lanes = r, t) : (n = n !== null, n !== (e !== null && e.memoizedState !== null) && n && (t.child.flags |= 8192, t.mode & 1 && (e === null || Le.current & 1 ? Ze === 0 && (Ze = 3) : Rp())), t.updateQueue !== null && (t.flags |= 4), ft(t), null); case 4: return ci(), $h(e, t), e === null && xa(t.stateNode.containerInfo), ft(t), null; case 10: return pp(t.type._context), ft(t), null; case 17: return Lt(t.type) && xc(), ft(t), null; case 19: if (Te(Le), o = t.memoizedState, o === null) return ft(t), null; if (n = (t.flags & 128) !== 0, a = o.rendering, a === null) if (n) zi(o, !1); else { if (Ze !== 0 || e !== null && e.flags & 128) for (e = t.child; e !== null;) { if (a = Ec(e), a !== null) { for (t.flags |= 128, zi(o, !1), n = a.updateQueue, n !== null && (t.updateQueue = n, t.flags |= 4), t.subtreeFlags = 0, n = r, r = t.child; r !== null;)o = r, e = n, o.flags &= 14680066, a = o.alternate, a === null ? (o.childLanes = 0, o.lanes = e, o.child = null, o.subtreeFlags = 0, o.memoizedProps = null, o.memoizedState = null, o.updateQueue = null, o.dependencies = null, o.stateNode = null) : (o.childLanes = a.childLanes, o.lanes = a.lanes, o.child = a.child, o.subtreeFlags = 0, o.deletions = null, o.memoizedProps = a.memoizedProps, o.memoizedState = a.memoizedState, o.updateQueue = a.updateQueue, o.type = a.type, e = a.dependencies, o.dependencies = e === null ? null : { lanes: e.lanes, firstContext: e.firstContext }), r = r.sibling; return Ce(Le, Le.current & 1 | 2), t.child } e = e.sibling } o.tail !== null && We() > di && (t.flags |= 128, n = !0, zi(o, !1), t.lanes = 4194304) } else { if (!n) if (e = Ec(a), e !== null) { if (t.flags |= 128, n = !0, r = e.updateQueue, r !== null && (t.updateQueue = r, t.flags |= 4), zi(o, !0), o.tail === null && o.tailMode === "hidden" && !a.alternate && !Ie) return ft(t), null } else 2 * We() - o.renderingStartTime > di && r !== 1073741824 && (t.flags |= 128, n = !0, zi(o, !1), t.lanes = 4194304); o.isBackwards ? (a.sibling = t.child, t.child = a) : (r = o.last, r !== null ? r.sibling = a : t.child = a, o.last = a) } return o.tail !== null ? (t = o.tail, o.rendering = t, o.tail = t.sibling, o.renderingStartTime = We(), t.sibling = null, r = Le.current, Ce(Le, n ? r & 1 | 2 : r & 1), t) : (ft(t), null); case 22: case 23: return Tp(), n = t.memoizedState !== null, e !== null && e.memoizedState !== null !== n && (t.flags |= 8192), n && t.mode & 1 ? Mt & 1073741824 && (ft(t), t.subtreeFlags & 6 && (t.flags |= 8192)) : ft(t), null; case 24: return null; case 25: return null }throw Error(W(156, t.tag)) } function rC(e, t) { switch (up(t), t.tag) { case 1: return Lt(t.type) && xc(), e = t.flags, e & 65536 ? (t.flags = e & -65537 | 128, t) : null; case 3: return ci(), Te(Dt), Te(gt), xp(), e = t.flags, e & 65536 && !(e & 128) ? (t.flags = e & -65537 | 128, t) : null; case 5: return yp(t), null; case 13: if (Te(Le), e = t.memoizedState, e !== null && e.dehydrated !== null) { if (t.alternate === null) throw Error(W(340)); ai() } return e = t.flags, e & 65536 ? (t.flags = e & -65537 | 128, t) : null; case 19: return Te(Le), null; case 4: return ci(), null; case 10: return pp(t.type._context), null; case 22: case 23: return Tp(), null; case 24: return null; default: return null } } var xl = !1, pt = !1, nC = typeof WeakSet == "function" ? WeakSet : Set, X = null; function Mo(e, t) { var r = e.ref; if (r !== null) if (typeof r == "function") try { r(null) } catch (n) { ze(e, t, n) } else r.current = null } function Mh(e, t, r) { try { r() } catch (n) { ze(e, t, n) } } var Yg = !1; function sC(e, t) { if (bh = mc, e = Wx(), lp(e)) { if ("selectionStart" in e) var r = { start: e.selectionStart, end: e.selectionEnd }; else e: { r = (r = e.ownerDocument) && r.defaultView || window; var n = r.getSelection && r.getSelection(); if (n && n.rangeCount !== 0) { r = n.anchorNode; var s = n.anchorOffset, o = n.focusNode; n = n.focusOffset; try { r.nodeType, o.nodeType } catch { r = null; break e } var a = 0, l = -1, c = -1, u = 0, d = 0, p = e, m = null; t: for (; ;) { for (var h; p !== r || s !== 0 && p.nodeType !== 3 || (l = a + s), p !== o || n !== 0 && p.nodeType !== 3 || (c = a + n), p.nodeType === 3 && (a += p.nodeValue.length), (h = p.firstChild) !== null;)m = p, p = h; for (; ;) { if (p === e) break t; if (m === r && ++u === s && (l = a), m === o && ++d === n && (c = a), (h = p.nextSibling) !== null) break; p = m, m = p.parentNode } p = h } r = l === -1 || c === -1 ? null : { start: l, end: c } } else r = null } r = r || { start: 0, end: 0 } } else r = null; for (jh = { focusedElem: e, selectionRange: r }, mc = !1, X = t; X !== null;)if (t = X, e = t.child, (t.subtreeFlags & 1028) !== 0 && e !== null) e.return = t, X = e; else for (; X !== null;) { t = X; try { var x = t.alternate; if (t.flags & 1024) switch (t.tag) { case 0: case 11: case 15: break; case 1: if (x !== null) { var g = x.memoizedProps, b = x.memoizedState, v = t.stateNode, y = v.getSnapshotBeforeUpdate(t.elementType === t.type ? g : hr(t.type, g), b); v.__reactInternalSnapshotBeforeUpdate = y } break; case 3: var w = t.stateNode.containerInfo; w.nodeType === 1 ? w.textContent = "" : w.nodeType === 9 && w.documentElement && w.removeChild(w.documentElement); break; case 5: case 6: case 4: case 17: break; default: throw Error(W(163)) } } catch (j) { ze(t, t.return, j) } if (e = t.sibling, e !== null) { e.return = t.return, X = e; break } X = t.return } return x = Yg, Yg = !1, x } function ia(e, t, r) { var n = t.updateQueue; if (n = n !== null ? n.lastEffect : null, n !== null) { var s = n = n.next; do { if ((s.tag & e) === e) { var o = s.destroy; s.destroy = void 0, o !== void 0 && Mh(t, r, o) } s = s.next } while (s !== n) } } function pu(e, t) { if (t = t.updateQueue, t = t !== null ? t.lastEffect : null, t !== null) { var r = t = t.next; do { if ((r.tag & e) === e) { var n = r.create; r.destroy = n() } r = r.next } while (r !== t) } } function Fh(e) { var t = e.ref; if (t !== null) { var r = e.stateNode; switch (e.tag) { case 5: e = r; break; default: e = r }typeof t == "function" ? t(e) : t.current = e } } function zw(e) { var t = e.alternate; t !== null && (e.alternate = null, zw(t)), e.child = null, e.deletions = null, e.sibling = null, e.tag === 5 && (t = e.stateNode, t !== null && (delete t[$r], delete t[ba], delete t[Nh], delete t[UE], delete t[zE])), e.stateNode = null, e.return = null, e.dependencies = null, e.memoizedProps = null, e.memoizedState = null, e.pendingProps = null, e.stateNode = null, e.updateQueue = null } function Bw(e) { return e.tag === 5 || e.tag === 3 || e.tag === 4 } function Qg(e) { e: for (; ;) { for (; e.sibling === null;) { if (e.return === null || Bw(e.return)) return null; e = e.return } for (e.sibling.return = e.return, e = e.sibling; e.tag !== 5 && e.tag !== 6 && e.tag !== 18;) { if (e.flags & 2 || e.child === null || e.tag === 4) continue e; e.child.return = e, e = e.child } if (!(e.flags & 2)) return e.stateNode } } function Uh(e, t, r) { var n = e.tag; if (n === 5 || n === 6) e = e.stateNode, t ? r.nodeType === 8 ? r.parentNode.insertBefore(e, t) : r.insertBefore(e, t) : (r.nodeType === 8 ? (t = r.parentNode, t.insertBefore(e, r)) : (t = r, t.appendChild(e)), r = r._reactRootContainer, r != null || t.onclick !== null || (t.onclick = yc)); else if (n !== 4 && (e = e.child, e !== null)) for (Uh(e, t, r), e = e.sibling; e !== null;)Uh(e, t, r), e = e.sibling } function zh(e, t, r) { var n = e.tag; if (n === 5 || n === 6) e = e.stateNode, t ? r.insertBefore(e, t) : r.appendChild(e); else if (n !== 4 && (e = e.child, e !== null)) for (zh(e, t, r), e = e.sibling; e !== null;)zh(e, t, r), e = e.sibling } var at = null, vr = !1; function Pn(e, t, r) { for (r = r.child; r !== null;)Vw(e, t, r), r = r.sibling } function Vw(e, t, r) { if (Br && typeof Br.onCommitFiberUnmount == "function") try { Br.onCommitFiberUnmount(iu, r) } catch { } switch (r.tag) { case 5: pt || Mo(r, t); case 6: var n = at, s = vr; at = null, Pn(e, t, r), at = n, vr = s, at !== null && (vr ? (e = at, r = r.stateNode, e.nodeType === 8 ? e.parentNode.removeChild(r) : e.removeChild(r)) : at.removeChild(r.stateNode)); break; case 18: at !== null && (vr ? (e = at, r = r.stateNode, e.nodeType === 8 ? jd(e.parentNode, r) : e.nodeType === 1 && jd(e, r), ga(e)) : jd(at, r.stateNode)); break; case 4: n = at, s = vr, at = r.stateNode.containerInfo, vr = !0, Pn(e, t, r), at = n, vr = s; break; case 0: case 11: case 14: case 15: if (!pt && (n = r.updateQueue, n !== null && (n = n.lastEffect, n !== null))) { s = n = n.next; do { var o = s, a = o.destroy; o = o.tag, a !== void 0 && (o & 2 || o & 4) && Mh(r, t, a), s = s.next } while (s !== n) } Pn(e, t, r); break; case 1: if (!pt && (Mo(r, t), n = r.stateNode, typeof n.componentWillUnmount == "function")) try { n.props = r.memoizedProps, n.state = r.memoizedState, n.componentWillUnmount() } catch (l) { ze(r, t, l) } Pn(e, t, r); break; case 21: Pn(e, t, r); break; case 22: r.mode & 1 ? (pt = (n = pt) || r.memoizedState !== null, Pn(e, t, r), pt = n) : Pn(e, t, r); break; default: Pn(e, t, r) } } function Jg(e) { var t = e.updateQueue; if (t !== null) { e.updateQueue = null; var r = e.stateNode; r === null && (r = e.stateNode = new nC), t.forEach(function (n) { var s = fC.bind(null, e, n); r.has(n) || (r.add(n), n.then(s, s)) }) } } function lr(e, t) { var r = t.deletions; if (r !== null) for (var n = 0; n < r.length; n++) { var s = r[n]; try { var o = e, a = t, l = a; e: for (; l !== null;) { switch (l.tag) { case 5: at = l.stateNode, vr = !1; break e; case 3: at = l.stateNode.containerInfo, vr = !0; break e; case 4: at = l.stateNode.containerInfo, vr = !0; break e }l = l.return } if (at === null) throw Error(W(160)); Vw(o, a, s), at = null, vr = !1; var c = s.alternate; c !== null && (c.return = null), s.return = null } catch (u) { ze(s, t, u) } } if (t.subtreeFlags & 12854) for (t = t.child; t !== null;)Hw(t, e), t = t.sibling } function Hw(e, t) { var r = e.alternate, n = e.flags; switch (e.tag) { case 0: case 11: case 14: case 15: if (lr(t, e), Tr(e), n & 4) { try { ia(3, e, e.return), pu(3, e) } catch (g) { ze(e, e.return, g) } try { ia(5, e, e.return) } catch (g) { ze(e, e.return, g) } } break; case 1: lr(t, e), Tr(e), n & 512 && r !== null && Mo(r, r.return); break; case 5: if (lr(t, e), Tr(e), n & 512 && r !== null && Mo(r, r.return), e.flags & 32) { var s = e.stateNode; try { ha(s, "") } catch (g) { ze(e, e.return, g) } } if (n & 4 && (s = e.stateNode, s != null)) { var o = e.memoizedProps, a = r !== null ? r.memoizedProps : o, l = e.type, c = e.updateQueue; if (e.updateQueue = null, c !== null) try { l === "input" && o.type === "radio" && o.name != null && hx(s, o), dh(l, a); var u = dh(l, o); for (a = 0; a < c.length; a += 2) { var d = c[a], p = c[a + 1]; d === "style" ? vx(s, p) : d === "dangerouslySetInnerHTML" ? mx(s, p) : d === "children" ? ha(s, p) : Yf(s, d, p, u) } switch (l) { case "input": ih(s, o); break; case "textarea": fx(s, o); break; case "select": var m = s._wrapperState.wasMultiple; s._wrapperState.wasMultiple = !!o.multiple; var h = o.value; h != null ? Uo(s, !!o.multiple, h, !1) : m !== !!o.multiple && (o.defaultValue != null ? Uo(s, !!o.multiple, o.defaultValue, !0) : Uo(s, !!o.multiple, o.multiple ? [] : "", !1)) }s[ba] = o } catch (g) { ze(e, e.return, g) } } break; case 6: if (lr(t, e), Tr(e), n & 4) { if (e.stateNode === null) throw Error(W(162)); s = e.stateNode, o = e.memoizedProps; try { s.nodeValue = o } catch (g) { ze(e, e.return, g) } } break; case 3: if (lr(t, e), Tr(e), n & 4 && r !== null && r.memoizedState.isDehydrated) try { ga(t.containerInfo) } catch (g) { ze(e, e.return, g) } break; case 4: lr(t, e), Tr(e); break; case 13: lr(t, e), Tr(e), s = e.child, s.flags & 8192 && (o = s.memoizedState !== null, s.stateNode.isHidden = o, !o || s.alternate !== null && s.alternate.memoizedState !== null || (kp = We())), n & 4 && Jg(e); break; case 22: if (d = r !== null && r.memoizedState !== null, e.mode & 1 ? (pt = (u = pt) || d, lr(t, e), pt = u) : lr(t, e), Tr(e), n & 8192) { if (u = e.memoizedState !== null, (e.stateNode.isHidden = u) && !d && e.mode & 1) for (X = e, d = e.child; d !== null;) { for (p = X = d; X !== null;) { switch (m = X, h = m.child, m.tag) { case 0: case 11: case 14: case 15: ia(4, m, m.return); break; case 1: Mo(m, m.return); var x = m.stateNode; if (typeof x.componentWillUnmount == "function") { n = m, r = m.return; try { t = n, x.props = t.memoizedProps, x.state = t.memoizedState, x.componentWillUnmount() } catch (g) { ze(n, r, g) } } break; case 5: Mo(m, m.return); break; case 22: if (m.memoizedState !== null) { Zg(p); continue } }h !== null ? (h.return = m, X = h) : Zg(p) } d = d.sibling } e: for (d = null, p = e; ;) { if (p.tag === 5) { if (d === null) { d = p; try { s = p.stateNode, u ? (o = s.style, typeof o.setProperty == "function" ? o.setProperty("display", "none", "important") : o.display = "none") : (l = p.stateNode, c = p.memoizedProps.style, a = c != null && c.hasOwnProperty("display") ? c.display : null, l.style.display = gx("display", a)) } catch (g) { ze(e, e.return, g) } } } else if (p.tag === 6) { if (d === null) try { p.stateNode.nodeValue = u ? "" : p.memoizedProps } catch (g) { ze(e, e.return, g) } } else if ((p.tag !== 22 && p.tag !== 23 || p.memoizedState === null || p === e) && p.child !== null) { p.child.return = p, p = p.child; continue } if (p === e) break e; for (; p.sibling === null;) { if (p.return === null || p.return === e) break e; d === p && (d = null), p = p.return } d === p && (d = null), p.sibling.return = p.return, p = p.sibling } } break; case 19: lr(t, e), Tr(e), n & 4 && Jg(e); break; case 21: break; default: lr(t, e), Tr(e) } } function Tr(e) { var t = e.flags; if (t & 2) { try { e: { for (var r = e.return; r !== null;) { if (Bw(r)) { var n = r; break e } r = r.return } throw Error(W(160)) } switch (n.tag) { case 5: var s = n.stateNode; n.flags & 32 && (ha(s, ""), n.flags &= -33); var o = Qg(e); zh(e, o, s); break; case 3: case 4: var a = n.stateNode.containerInfo, l = Qg(e); Uh(e, l, a); break; default: throw Error(W(161)) } } catch (c) { ze(e, e.return, c) } e.flags &= -3 } t & 4096 && (e.flags &= -4097) } function oC(e, t, r) { X = e, Ww(e) } function Ww(e, t, r) { for (var n = (e.mode & 1) !== 0; X !== null;) { var s = X, o = s.child; if (s.tag === 22 && n) { var a = s.memoizedState !== null || xl; if (!a) { var l = s.alternate, c = l !== null && l.memoizedState !== null || pt; l = xl; var u = pt; if (xl = a, (pt = c) && !u) for (X = s; X !== null;)a = X, c = a.child, a.tag === 22 && a.memoizedState !== null ? ev(s) : c !== null ? (c.return = a, X = c) : ev(s); for (; o !== null;)X = o, Ww(o), o = o.sibling; X = s, xl = l, pt = u } Xg(e) } else s.subtreeFlags & 8772 && o !== null ? (o.return = s, X = o) : Xg(e) } } function Xg(e) { for (; X !== null;) { var t = X; if (t.flags & 8772) { var r = t.alternate; try { if (t.flags & 8772) switch (t.tag) { case 0: case 11: case 15: pt || pu(5, t); break; case 1: var n = t.stateNode; if (t.flags & 4 && !pt) if (r === null) n.componentDidMount(); else { var s = t.elementType === t.type ? r.memoizedProps : hr(t.type, r.memoizedProps); n.componentDidUpdate(s, r.memoizedState, n.__reactInternalSnapshotBeforeUpdate) } var o = t.updateQueue; o !== null && Lg(t, o, n); break; case 3: var a = t.updateQueue; if (a !== null) { if (r = null, t.child !== null) switch (t.child.tag) { case 5: r = t.child.stateNode; break; case 1: r = t.child.stateNode }Lg(t, a, r) } break; case 5: var l = t.stateNode; if (r === null && t.flags & 4) { r = l; var c = t.memoizedProps; switch (t.type) { case "button": case "input": case "select": case "textarea": c.autoFocus && r.focus(); break; case "img": c.src && (r.src = c.src) } } break; case 6: break; case 4: break; case 12: break; case 13: if (t.memoizedState === null) { var u = t.alternate; if (u !== null) { var d = u.memoizedState; if (d !== null) { var p = d.dehydrated; p !== null && ga(p) } } } break; case 19: case 17: case 21: case 22: case 23: case 25: break; default: throw Error(W(163)) }pt || t.flags & 512 && Fh(t) } catch (m) { ze(t, t.return, m) } } if (t === e) { X = null; break } if (r = t.sibling, r !== null) { r.return = t.return, X = r; break } X = t.return } } function Zg(e) { for (; X !== null;) { var t = X; if (t === e) { X = null; break } var r = t.sibling; if (r !== null) { r.return = t.return, X = r; break } X = t.return } } function ev(e) { for (; X !== null;) { var t = X; try { switch (t.tag) { case 0: case 11: case 15: var r = t.return; try { pu(4, t) } catch (c) { ze(t, r, c) } break; case 1: var n = t.stateNode; if (typeof n.componentDidMount == "function") { var s = t.return; try { n.componentDidMount() } catch (c) { ze(t, s, c) } } var o = t.return; try { Fh(t) } catch (c) { ze(t, o, c) } break; case 5: var a = t.return; try { Fh(t) } catch (c) { ze(t, a, c) } } } catch (c) { ze(t, t.return, c) } if (t === e) { X = null; break } var l = t.sibling; if (l !== null) { l.return = t.return, X = l; break } X = t.return } } var iC = Math.ceil, Pc = wn.ReactCurrentDispatcher, Ep = wn.ReactCurrentOwner, tr = wn.ReactCurrentBatchConfig, je = 0, st = null, Ye = null, lt = 0, Mt = 0, Fo = vs(0), Ze = 0, Ca = null, ro = 0, mu = 0, Cp = 0, aa = null, Tt = null, kp = 0, di = 1 / 0, rn = null, Tc = !1, Bh = null, es = null, wl = !1, Kn = null, Rc = 0, la = 0, Vh = null, Ql = -1, Jl = 0; function _t() { return je & 6 ? We() : Ql !== -1 ? Ql : Ql = We() } function ts(e) { return e.mode & 1 ? je & 2 && lt !== 0 ? lt & -lt : VE.transition !== null ? (Jl === 0 && (Jl = Px()), Jl) : (e = _e, e !== 0 || (e = window.event, e = e === void 0 ? 16 : Lx(e.type)), e) : 1 } function br(e, t, r, n) { if (50 < la) throw la = 0, Vh = null, Error(W(185)); Ba(e, r, n), (!(je & 2) || e !== st) && (e === st && (!(je & 2) && (mu |= r), Ze === 4 && $n(e, lt)), $t(e, n), r === 1 && je === 0 && !(t.mode & 1) && (di = We() + 500, du && ys())) } function $t(e, t) { var r = e.callbackNode; VN(e, t); var n = pc(e, e === st ? lt : 0); if (n === 0) r !== null && cg(r), e.callbackNode = null, e.callbackPriority = 0; else if (t = n & -n, e.callbackPriority !== t) { if (r != null && cg(r), t === 1) e.tag === 0 ? BE(tv.bind(null, e)) : tw(tv.bind(null, e)), ME(function () { !(je & 6) && ys() }), r = null; else { switch (Tx(n)) { case 1: r = ep; break; case 4: r = Cx; break; case 16: r = fc; break; case 536870912: r = kx; break; default: r = fc }r = Zw(r, qw.bind(null, e)) } e.callbackPriority = t, e.callbackNode = r } } function qw(e, t) { if (Ql = -1, Jl = 0, je & 6) throw Error(W(327)); var r = e.callbackNode; if (Wo() && e.callbackNode !== r) return null; var n = pc(e, e === st ? lt : 0); if (n === 0) return null; if (n & 30 || n & e.expiredLanes || t) t = Ac(e, n); else { t = n; var s = je; je |= 2; var o = Gw(); (st !== e || lt !== t) && (rn = null, di = We() + 500, Qs(e, t)); do try { cC(); break } catch (l) { Kw(e, l) } while (!0); fp(), Pc.current = o, je = s, Ye !== null ? t = 0 : (st = null, lt = 0, t = Ze) } if (t !== 0) { if (t === 2 && (s = gh(e), s !== 0 && (n = s, t = Hh(e, s))), t === 1) throw r = Ca, Qs(e, 0), $n(e, n), $t(e, We()), r; if (t === 6) $n(e, n); else { if (s = e.current.alternate, !(n & 30) && !aC(s) && (t = Ac(e, n), t === 2 && (o = gh(e), o !== 0 && (n = o, t = Hh(e, o))), t === 1)) throw r = Ca, Qs(e, 0), $n(e, n), $t(e, We()), r; switch (e.finishedWork = s, e.finishedLanes = n, t) { case 0: case 1: throw Error(W(345)); case 2: Rs(e, Tt, rn); break; case 3: if ($n(e, n), (n & 130023424) === n && (t = kp + 500 - We(), 10 < t)) { if (pc(e, 0) !== 0) break; if (s = e.suspendedLanes, (s & n) !== n) { _t(), e.pingedLanes |= e.suspendedLanes & s; break } e.timeoutHandle = _h(Rs.bind(null, e, Tt, rn), t); break } Rs(e, Tt, rn); break; case 4: if ($n(e, n), (n & 4194240) === n) break; for (t = e.eventTimes, s = -1; 0 < n;) { var a = 31 - wr(n); o = 1 << a, a = t[a], a > s && (s = a), n &= ~o } if (n = s, n = We() - n, n = (120 > n ? 120 : 480 > n ? 480 : 1080 > n ? 1080 : 1920 > n ? 1920 : 3e3 > n ? 3e3 : 4320 > n ? 4320 : 1960 * iC(n / 1960)) - n, 10 < n) { e.timeoutHandle = _h(Rs.bind(null, e, Tt, rn), n); break } Rs(e, Tt, rn); break; case 5: Rs(e, Tt, rn); break; default: throw Error(W(329)) } } } return $t(e, We()), e.callbackNode === r ? qw.bind(null, e) : null } function Hh(e, t) { var r = aa; return e.current.memoizedState.isDehydrated && (Qs(e, t).flags |= 256), e = Ac(e, t), e !== 2 && (t = Tt, Tt = r, t !== null && Wh(t)), e } function Wh(e) { Tt === null ? Tt = e : Tt.push.apply(Tt, e) } function aC(e) { for (var t = e; ;) { if (t.flags & 16384) { var r = t.updateQueue; if (r !== null && (r = r.stores, r !== null)) for (var n = 0; n < r.length; n++) { var s = r[n], o = s.getSnapshot; s = s.value; try { if (!jr(o(), s)) return !1 } catch { return !1 } } } if (r = t.child, t.subtreeFlags & 16384 && r !== null) r.return = t, t = r; else { if (t === e) break; for (; t.sibling === null;) { if (t.return === null || t.return === e) return !0; t = t.return } t.sibling.return = t.return, t = t.sibling } } return !0 } function $n(e, t) { for (t &= ~Cp, t &= ~mu, e.suspendedLanes |= t, e.pingedLanes &= ~t, e = e.expirationTimes; 0 < t;) { var r = 31 - wr(t), n = 1 << r; e[r] = -1, t &= ~n } } function tv(e) { if (je & 6) throw Error(W(327)); Wo(); var t = pc(e, 0); if (!(t & 1)) return $t(e, We()), null; var r = Ac(e, t); if (e.tag !== 0 && r === 2) { var n = gh(e); n !== 0 && (t = n, r = Hh(e, n)) } if (r === 1) throw r = Ca, Qs(e, 0), $n(e, t), $t(e, We()), r; if (r === 6) throw Error(W(345)); return e.finishedWork = e.current.alternate, e.finishedLanes = t, Rs(e, Tt, rn), $t(e, We()), null } function Pp(e, t) { var r = je; je |= 1; try { return e(t) } finally { je = r, je === 0 && (di = We() + 500, du && ys()) } } function no(e) { Kn !== null && Kn.tag === 0 && !(je & 6) && Wo(); var t = je; je |= 1; var r = tr.transition, n = _e; try { if (tr.transition = null, _e = 1, e) return e() } finally { _e = n, tr.transition = r, je = t, !(je & 6) && ys() } } function Tp() { Mt = Fo.current, Te(Fo) } function Qs(e, t) { e.finishedWork = null, e.finishedLanes = 0; var r = e.timeoutHandle; if (r !== -1 && (e.timeoutHandle = -1, $E(r)), Ye !== null) for (r = Ye.return; r !== null;) { var n = r; switch (up(n), n.tag) { case 1: n = n.type.childContextTypes, n != null && xc(); break; case 3: ci(), Te(Dt), Te(gt), xp(); break; case 5: yp(n); break; case 4: ci(); break; case 13: Te(Le); break; case 19: Te(Le); break; case 10: pp(n.type._context); break; case 22: case 23: Tp() }r = r.return } if (st = e, Ye = e = rs(e.current, null), lt = Mt = t, Ze = 0, Ca = null, Cp = mu = ro = 0, Tt = aa = null, Us !== null) { for (t = 0; t < Us.length; t++)if (r = Us[t], n = r.interleaved, n !== null) { r.interleaved = null; var s = n.next, o = r.pending; if (o !== null) { var a = o.next; o.next = s, n.next = a } r.pending = n } Us = null } return e } function Kw(e, t) { do { var r = Ye; try { if (fp(), Kl.current = kc, Cc) { for (var n = $e.memoizedState; n !== null;) { var s = n.queue; s !== null && (s.pending = null), n = n.next } Cc = !1 } if (to = 0, nt = Je = $e = null, oa = !1, _a = 0, Ep.current = null, r === null || r.return === null) { Ze = 1, Ca = t, Ye = null; break } e: { var o = e, a = r.return, l = r, c = t; if (t = lt, l.flags |= 32768, c !== null && typeof c == "object" && typeof c.then == "function") { var u = c, d = l, p = d.tag; if (!(d.mode & 1) && (p === 0 || p === 11 || p === 15)) { var m = d.alternate; m ? (d.updateQueue = m.updateQueue, d.memoizedState = m.memoizedState, d.lanes = m.lanes) : (d.updateQueue = null, d.memoizedState = null) } var h = Bg(a); if (h !== null) { h.flags &= -257, Vg(h, a, l, o, t), h.mode & 1 && zg(o, u, t), t = h, c = u; var x = t.updateQueue; if (x === null) { var g = new Set; g.add(c), t.updateQueue = g } else x.add(c); break e } else { if (!(t & 1)) { zg(o, u, t), Rp(); break e } c = Error(W(426)) } } else if (Ie && l.mode & 1) { var b = Bg(a); if (b !== null) { !(b.flags & 65536) && (b.flags |= 256), Vg(b, a, l, o, t), dp(ui(c, l)); break e } } o = c = ui(c, l), Ze !== 4 && (Ze = 2), aa === null ? aa = [o] : aa.push(o), o = a; do { switch (o.tag) { case 3: o.flags |= 65536, t &= -t, o.lanes |= t; var v = Tw(o, c, t); Dg(o, v); break e; case 1: l = c; var y = o.type, w = o.stateNode; if (!(o.flags & 128) && (typeof y.getDerivedStateFromError == "function" || w !== null && typeof w.componentDidCatch == "function" && (es === null || !es.has(w)))) { o.flags |= 65536, t &= -t, o.lanes |= t; var j = Rw(o, l, t); Dg(o, j); break e } }o = o.return } while (o !== null) } Qw(r) } catch (S) { t = S, Ye === r && r !== null && (Ye = r = r.return); continue } break } while (!0) } function Gw() { var e = Pc.current; return Pc.current = kc, e === null ? kc : e } function Rp() { (Ze === 0 || Ze === 3 || Ze === 2) && (Ze = 4), st === null || !(ro & 268435455) && !(mu & 268435455) || $n(st, lt) } function Ac(e, t) { var r = je; je |= 2; var n = Gw(); (st !== e || lt !== t) && (rn = null, Qs(e, t)); do try { lC(); break } catch (s) { Kw(e, s) } while (!0); if (fp(), je = r, Pc.current = n, Ye !== null) throw Error(W(261)); return st = null, lt = 0, Ze } function lC() { for (; Ye !== null;)Yw(Ye) } function cC() { for (; Ye !== null && !IN();)Yw(Ye) } function Yw(e) { var t = Xw(e.alternate, e, Mt); e.memoizedProps = e.pendingProps, t === null ? Qw(e) : Ye = t, Ep.current = null } function Qw(e) { var t = e; do { var r = t.alternate; if (e = t.return, t.flags & 32768) { if (r = rC(r, t), r !== null) { r.flags &= 32767, Ye = r; return } if (e !== null) e.flags |= 32768, e.subtreeFlags = 0, e.deletions = null; else { Ze = 6, Ye = null; return } } else if (r = tC(r, t, Mt), r !== null) { Ye = r; return } if (t = t.sibling, t !== null) { Ye = t; return } Ye = t = e } while (t !== null); Ze === 0 && (Ze = 5) } function Rs(e, t, r) { var n = _e, s = tr.transition; try { tr.transition = null, _e = 1, uC(e, t, r, n) } finally { tr.transition = s, _e = n } return null } function uC(e, t, r, n) { do Wo(); while (Kn !== null); if (je & 6) throw Error(W(327)); r = e.finishedWork; var s = e.finishedLanes; if (r === null) return null; if (e.finishedWork = null, e.finishedLanes = 0, r === e.current) throw Error(W(177)); e.callbackNode = null, e.callbackPriority = 0; var o = r.lanes | r.childLanes; if (HN(e, o), e === st && (Ye = st = null, lt = 0), !(r.subtreeFlags & 2064) && !(r.flags & 2064) || wl || (wl = !0, Zw(fc, function () { return Wo(), null })), o = (r.flags & 15990) !== 0, r.subtreeFlags & 15990 || o) { o = tr.transition, tr.transition = null; var a = _e; _e = 1; var l = je; je |= 4, Ep.current = null, sC(e, r), Hw(r, e), TE(jh), mc = !!bh, jh = bh = null, e.current = r, oC(r), DN(), je = l, _e = a, tr.transition = o } else e.current = r; if (wl && (wl = !1, Kn = e, Rc = s), o = e.pendingLanes, o === 0 && (es = null), MN(r.stateNode), $t(e, We()), t !== null) for (n = e.onRecoverableError, r = 0; r < t.length; r++)s = t[r], n(s.value, { componentStack: s.stack, digest: s.digest }); if (Tc) throw Tc = !1, e = Bh, Bh = null, e; return Rc & 1 && e.tag !== 0 && Wo(), o = e.pendingLanes, o & 1 ? e === Vh ? la++ : (la = 0, Vh = e) : la = 0, ys(), null } function Wo() { if (Kn !== null) { var e = Tx(Rc), t = tr.transition, r = _e; try { if (tr.transition = null, _e = 16 > e ? 16 : e, Kn === null) var n = !1; else { if (e = Kn, Kn = null, Rc = 0, je & 6) throw Error(W(331)); var s = je; for (je |= 4, X = e.current; X !== null;) { var o = X, a = o.child; if (X.flags & 16) { var l = o.deletions; if (l !== null) { for (var c = 0; c < l.length; c++) { var u = l[c]; for (X = u; X !== null;) { var d = X; switch (d.tag) { case 0: case 11: case 15: ia(8, d, o) }var p = d.child; if (p !== null) p.return = d, X = p; else for (; X !== null;) { d = X; var m = d.sibling, h = d.return; if (zw(d), d === u) { X = null; break } if (m !== null) { m.return = h, X = m; break } X = h } } } var x = o.alternate; if (x !== null) { var g = x.child; if (g !== null) { x.child = null; do { var b = g.sibling; g.sibling = null, g = b } while (g !== null) } } X = o } } if (o.subtreeFlags & 2064 && a !== null) a.return = o, X = a; else e: for (; X !== null;) { if (o = X, o.flags & 2048) switch (o.tag) { case 0: case 11: case 15: ia(9, o, o.return) }var v = o.sibling; if (v !== null) { v.return = o.return, X = v; break e } X = o.return } } var y = e.current; for (X = y; X !== null;) { a = X; var w = a.child; if (a.subtreeFlags & 2064 && w !== null) w.return = a, X = w; else e: for (a = y; X !== null;) { if (l = X, l.flags & 2048) try { switch (l.tag) { case 0: case 11: case 15: pu(9, l) } } catch (S) { ze(l, l.return, S) } if (l === a) { X = null; break e } var j = l.sibling; if (j !== null) { j.return = l.return, X = j; break e } X = l.return } } if (je = s, ys(), Br && typeof Br.onPostCommitFiberRoot == "function") try { Br.onPostCommitFiberRoot(iu, e) } catch { } n = !0 } return n } finally { _e = r, tr.transition = t } } return !1 } function rv(e, t, r) { t = ui(r, t), t = Tw(e, t, 1), e = Zn(e, t, 1), t = _t(), e !== null && (Ba(e, 1, t), $t(e, t)) } function ze(e, t, r) { if (e.tag === 3) rv(e, e, r); else for (; t !== null;) { if (t.tag === 3) { rv(t, e, r); break } else if (t.tag === 1) { var n = t.stateNode; if (typeof t.type.getDerivedStateFromError == "function" || typeof n.componentDidCatch == "function" && (es === null || !es.has(n))) { e = ui(r, e), e = Rw(t, e, 1), t = Zn(t, e, 1), e = _t(), t !== null && (Ba(t, 1, e), $t(t, e)); break } } t = t.return } } function dC(e, t, r) { var n = e.pingCache; n !== null && n.delete(t), t = _t(), e.pingedLanes |= e.suspendedLanes & r, st === e && (lt & r) === r && (Ze === 4 || Ze === 3 && (lt & 130023424) === lt && 500 > We() - kp ? Qs(e, 0) : Cp |= r), $t(e, t) } function Jw(e, t) { t === 0 && (e.mode & 1 ? (t = ul, ul <<= 1, !(ul & 130023424) && (ul = 4194304)) : t = 1); var r = _t(); e = fn(e, t), e !== null && (Ba(e, t, r), $t(e, r)) } function hC(e) { var t = e.memoizedState, r = 0; t !== null && (r = t.retryLane), Jw(e, r) } function fC(e, t) { var r = 0; switch (e.tag) { case 13: var n = e.stateNode, s = e.memoizedState; s !== null && (r = s.retryLane); break; case 19: n = e.stateNode; break; default: throw Error(W(314)) }n !== null && n.delete(t), Jw(e, r) } var Xw; Xw = function (e, t, r) { if (e !== null) if (e.memoizedProps !== t.pendingProps || Dt.current) It = !0; else { if (!(e.lanes & r) && !(t.flags & 128)) return It = !1, eC(e, t, r); It = !!(e.flags & 131072) } else It = !1, Ie && t.flags & 1048576 && rw(t, jc, t.index); switch (t.lanes = 0, t.tag) { case 2: var n = t.type; Yl(e, t), e = t.pendingProps; var s = ii(t, gt.current); Ho(t, r), s = bp(null, t, n, e, s, r); var o = jp(); return t.flags |= 1, typeof s == "object" && s !== null && typeof s.render == "function" && s.$$typeof === void 0 ? (t.tag = 1, t.memoizedState = null, t.updateQueue = null, Lt(n) ? (o = !0, wc(t)) : o = !1, t.memoizedState = s.state !== null && s.state !== void 0 ? s.state : null, gp(t), s.updater = fu, t.stateNode = s, s._reactInternals = t, Rh(t, n, e, r), t = Ih(null, t, n, !0, o, r)) : (t.tag = 0, Ie && o && cp(t), xt(null, t, s, r), t = t.child), t; case 16: n = t.elementType; e: { switch (Yl(e, t), e = t.pendingProps, s = n._init, n = s(n._payload), t.type = n, s = t.tag = mC(n), e = hr(n, e), s) { case 0: t = Oh(null, t, n, e, r); break e; case 1: t = qg(null, t, n, e, r); break e; case 11: t = Hg(null, t, n, e, r); break e; case 14: t = Wg(null, t, n, hr(n.type, e), r); break e }throw Error(W(306, n, "")) } return t; case 0: return n = t.type, s = t.pendingProps, s = t.elementType === n ? s : hr(n, s), Oh(e, t, n, s, r); case 1: return n = t.type, s = t.pendingProps, s = t.elementType === n ? s : hr(n, s), qg(e, t, n, s, r); case 3: e: { if (Dw(t), e === null) throw Error(W(387)); n = t.pendingProps, o = t.memoizedState, s = o.element, lw(e, t), Nc(t, n, null, r); var a = t.memoizedState; if (n = a.element, o.isDehydrated) if (o = { element: n, isDehydrated: !1, cache: a.cache, pendingSuspenseBoundaries: a.pendingSuspenseBoundaries, transitions: a.transitions }, t.updateQueue.baseState = o, t.memoizedState = o, t.flags & 256) { s = ui(Error(W(423)), t), t = Kg(e, t, n, r, s); break e } else if (n !== s) { s = ui(Error(W(424)), t), t = Kg(e, t, n, r, s); break e } else for (zt = Xn(t.stateNode.containerInfo.firstChild), Bt = t, Ie = !0, xr = null, r = iw(t, null, n, r), t.child = r; r;)r.flags = r.flags & -3 | 4096, r = r.sibling; else { if (ai(), n === s) { t = pn(e, t, r); break e } xt(e, t, n, r) } t = t.child } return t; case 5: return cw(t), e === null && kh(t), n = t.type, s = t.pendingProps, o = e !== null ? e.memoizedProps : null, a = s.children, Sh(n, s) ? a = null : o !== null && Sh(n, o) && (t.flags |= 32), Iw(e, t), xt(e, t, a, r), t.child; case 6: return e === null && kh(t), null; case 13: return Lw(e, t, r); case 4: return vp(t, t.stateNode.containerInfo), n = t.pendingProps, e === null ? t.child = li(t, null, n, r) : xt(e, t, n, r), t.child; case 11: return n = t.type, s = t.pendingProps, s = t.elementType === n ? s : hr(n, s), Hg(e, t, n, s, r); case 7: return xt(e, t, t.pendingProps, r), t.child; case 8: return xt(e, t, t.pendingProps.children, r), t.child; case 12: return xt(e, t, t.pendingProps.children, r), t.child; case 10: e: { if (n = t.type._context, s = t.pendingProps, o = t.memoizedProps, a = s.value, Ce(Sc, n._currentValue), n._currentValue = a, o !== null) if (jr(o.value, a)) { if (o.children === s.children && !Dt.current) { t = pn(e, t, r); break e } } else for (o = t.child, o !== null && (o.return = t); o !== null;) { var l = o.dependencies; if (l !== null) { a = o.child; for (var c = l.firstContext; c !== null;) { if (c.context === n) { if (o.tag === 1) { c = ln(-1, r & -r), c.tag = 2; var u = o.updateQueue; if (u !== null) { u = u.shared; var d = u.pending; d === null ? c.next = c : (c.next = d.next, d.next = c), u.pending = c } } o.lanes |= r, c = o.alternate, c !== null && (c.lanes |= r), Ph(o.return, r, t), l.lanes |= r; break } c = c.next } } else if (o.tag === 10) a = o.type === t.type ? null : o.child; else if (o.tag === 18) { if (a = o.return, a === null) throw Error(W(341)); a.lanes |= r, l = a.alternate, l !== null && (l.lanes |= r), Ph(a, r, t), a = o.sibling } else a = o.child; if (a !== null) a.return = o; else for (a = o; a !== null;) { if (a === t) { a = null; break } if (o = a.sibling, o !== null) { o.return = a.return, a = o; break } a = a.return } o = a } xt(e, t, s.children, r), t = t.child } return t; case 9: return s = t.type, n = t.pendingProps.children, Ho(t, r), s = rr(s), n = n(s), t.flags |= 1, xt(e, t, n, r), t.child; case 14: return n = t.type, s = hr(n, t.pendingProps), s = hr(n.type, s), Wg(e, t, n, s, r); case 15: return Aw(e, t, t.type, t.pendingProps, r); case 17: return n = t.type, s = t.pendingProps, s = t.elementType === n ? s : hr(n, s), Yl(e, t), t.tag = 1, Lt(n) ? (e = !0, wc(t)) : e = !1, Ho(t, r), Pw(t, n, s), Rh(t, n, s, r), Ih(null, t, n, !0, e, r); case 19: return $w(e, t, r); case 22: return Ow(e, t, r) }throw Error(W(156, t.tag)) }; function Zw(e, t) { return Ex(e, t) } function pC(e, t, r, n) { this.tag = e, this.key = r, this.sibling = this.child = this.return = this.stateNode = this.type = this.elementType = null, this.index = 0, this.ref = null, this.pendingProps = t, this.dependencies = this.memoizedState = this.updateQueue = this.memoizedProps = null, this.mode = n, this.subtreeFlags = this.flags = 0, this.deletions = null, this.childLanes = this.lanes = 0, this.alternate = null } function er(e, t, r, n) { return new pC(e, t, r, n) } function Ap(e) { return e = e.prototype, !(!e || !e.isReactComponent) } function mC(e) { if (typeof e == "function") return Ap(e) ? 1 : 0; if (e != null) { if (e = e.$$typeof, e === Jf) return 11; if (e === Xf) return 14 } return 2 } function rs(e, t) { var r = e.alternate; return r === null ? (r = er(e.tag, t, e.key, e.mode), r.elementType = e.elementType, r.type = e.type, r.stateNode = e.stateNode, r.alternate = e, e.alternate = r) : (r.pendingProps = t, r.type = e.type, r.flags = 0, r.subtreeFlags = 0, r.deletions = null), r.flags = e.flags & 14680064, r.childLanes = e.childLanes, r.lanes = e.lanes, r.child = e.child, r.memoizedProps = e.memoizedProps, r.memoizedState = e.memoizedState, r.updateQueue = e.updateQueue, t = e.dependencies, r.dependencies = t === null ? null : { lanes: t.lanes, firstContext: t.firstContext }, r.sibling = e.sibling, r.index = e.index, r.ref = e.ref, r } function Xl(e, t, r, n, s, o) { var a = 2; if (n = e, typeof e == "function") Ap(e) && (a = 1); else if (typeof e == "string") a = 5; else e: switch (e) { case Po: return Js(r.children, s, o, t); case Qf: a = 8, s |= 8; break; case th: return e = er(12, r, t, s | 2), e.elementType = th, e.lanes = o, e; case rh: return e = er(13, r, t, s), e.elementType = rh, e.lanes = o, e; case nh: return e = er(19, r, t, s), e.elementType = nh, e.lanes = o, e; case cx: return gu(r, s, o, t); default: if (typeof e == "object" && e !== null) switch (e.$$typeof) { case ax: a = 10; break e; case lx: a = 9; break e; case Jf: a = 11; break e; case Xf: a = 14; break e; case In: a = 16, n = null; break e }throw Error(W(130, e == null ? e : typeof e, "")) }return t = er(a, r, t, s), t.elementType = e, t.type = n, t.lanes = o, t } function Js(e, t, r, n) { return e = er(7, e, n, t), e.lanes = r, e } function gu(e, t, r, n) { return e = er(22, e, n, t), e.elementType = cx, e.lanes = r, e.stateNode = { isHidden: !1 }, e } function Td(e, t, r) { return e = er(6, e, null, t), e.lanes = r, e } function Rd(e, t, r) { return t = er(4, e.children !== null ? e.children : [], e.key, t), t.lanes = r, t.stateNode = { containerInfo: e.containerInfo, pendingChildren: null, implementation: e.implementation }, t } function gC(e, t, r, n, s) { this.tag = t, this.containerInfo = e, this.finishedWork = this.pingCache = this.current = this.pendingChildren = null, this.timeoutHandle = -1, this.callbackNode = this.pendingContext = this.context = null, this.callbackPriority = 0, this.eventTimes = dd(0), this.expirationTimes = dd(-1), this.entangledLanes = this.finishedLanes = this.mutableReadLanes = this.expiredLanes = this.pingedLanes = this.suspendedLanes = this.pendingLanes = 0, this.entanglements = dd(0), this.identifierPrefix = n, this.onRecoverableError = s, this.mutableSourceEagerHydrationData = null } function Op(e, t, r, n, s, o, a, l, c) { return e = new gC(e, t, r, l, c), t === 1 ? (t = 1, o === !0 && (t |= 8)) : t = 0, o = er(3, null, null, t), e.current = o, o.stateNode = e, o.memoizedState = { element: n, isDehydrated: r, cache: null, transitions: null, pendingSuspenseBoundaries: null }, gp(o), e } function vC(e, t, r) { var n = 3 < arguments.length && arguments[3] !== void 0 ? arguments[3] : null; return { $$typeof: ko, key: n == null ? null : "" + n, children: e, containerInfo: t, implementation: r } } function e0(e) { if (!e) return as; e = e._reactInternals; e: { if (fo(e) !== e || e.tag !== 1) throw Error(W(170)); var t = e; do { switch (t.tag) { case 3: t = t.stateNode.context; break e; case 1: if (Lt(t.type)) { t = t.stateNode.__reactInternalMemoizedMergedChildContext; break e } }t = t.return } while (t !== null); throw Error(W(171)) } if (e.tag === 1) { var r = e.type; if (Lt(r)) return ew(e, r, t) } return t } function t0(e, t, r, n, s, o, a, l, c) { return e = Op(r, n, !0, e, s, o, a, l, c), e.context = e0(null), r = e.current, n = _t(), s = ts(r), o = ln(n, s), o.callback = t ?? null, Zn(r, o, s), e.current.lanes = s, Ba(e, s, n), $t(e, n), e } function vu(e, t, r, n) { var s = t.current, o = _t(), a = ts(s); return r = e0(r), t.context === null ? t.context = r : t.pendingContext = r, t = ln(o, a), t.payload = { element: e }, n = n === void 0 ? null : n, n !== null && (t.callback = n), e = Zn(s, t, a), e !== null && (br(e, s, a, o), ql(e, s, a)), a } function Oc(e) { if (e = e.current, !e.child) return null; switch (e.child.tag) { case 5: return e.child.stateNode; default: return e.child.stateNode } } function nv(e, t) { if (e = e.memoizedState, e !== null && e.dehydrated !== null) { var r = e.retryLane; e.retryLane = r !== 0 && r < t ? r : t } } function Ip(e, t) { nv(e, t), (e = e.alternate) && nv(e, t) } function yC() { return null } var r0 = typeof reportError == "function" ? reportError : function (e) { console.error(e) }; function Dp(e) { this._internalRoot = e } yu.prototype.render = Dp.prototype.render = function (e) { var t = this._internalRoot; if (t === null) throw Error(W(409)); vu(e, t, null, null) }; yu.prototype.unmount = Dp.prototype.unmount = function () { var e = this._internalRoot; if (e !== null) { this._internalRoot = null; var t = e.containerInfo; no(function () { vu(null, e, null, null) }), t[hn] = null } }; function yu(e) { this._internalRoot = e } yu.prototype.unstable_scheduleHydration = function (e) { if (e) { var t = Ox(); e = { blockedOn: null, target: e, priority: t }; for (var r = 0; r < Ln.length && t !== 0 && t < Ln[r].priority; r++); Ln.splice(r, 0, e), r === 0 && Dx(e) } }; function Lp(e) { return !(!e || e.nodeType !== 1 && e.nodeType !== 9 && e.nodeType !== 11) } function xu(e) { return !(!e || e.nodeType !== 1 && e.nodeType !== 9 && e.nodeType !== 11 && (e.nodeType !== 8 || e.nodeValue !== " react-mount-point-unstable ")) } function sv() { } function xC(e, t, r, n, s) { if (s) { if (typeof n == "function") { var o = n; n = function () { var u = Oc(a); o.call(u) } } var a = t0(t, n, e, 0, null, !1, !1, "", sv); return e._reactRootContainer = a, e[hn] = a.current, xa(e.nodeType === 8 ? e.parentNode : e), no(), a } for (; s = e.lastChild;)e.removeChild(s); if (typeof n == "function") { var l = n; n = function () { var u = Oc(c); l.call(u) } } var c = Op(e, 0, !1, null, null, !1, !1, "", sv); return e._reactRootContainer = c, e[hn] = c.current, xa(e.nodeType === 8 ? e.parentNode : e), no(function () { vu(t, c, r, n) }), c } function wu(e, t, r, n, s) { var o = r._reactRootContainer; if (o) { var a = o; if (typeof s == "function") { var l = s; s = function () { var c = Oc(a); l.call(c) } } vu(t, a, e, s) } else a = xC(r, t, e, s, n); return Oc(a) } Rx = function (e) { switch (e.tag) { case 3: var t = e.stateNode; if (t.current.memoizedState.isDehydrated) { var r = Ki(t.pendingLanes); r !== 0 && (tp(t, r | 1), $t(t, We()), !(je & 6) && (di = We() + 500, ys())) } break; case 13: no(function () { var n = fn(e, 1); if (n !== null) { var s = _t(); br(n, e, 1, s) } }), Ip(e, 1) } }; rp = function (e) { if (e.tag === 13) { var t = fn(e, 134217728); if (t !== null) { var r = _t(); br(t, e, 134217728, r) } Ip(e, 134217728) } }; Ax = function (e) { if (e.tag === 13) { var t = ts(e), r = fn(e, t); if (r !== null) { var n = _t(); br(r, e, t, n) } Ip(e, t) } }; Ox = function () { return _e }; Ix = function (e, t) { var r = _e; try { return _e = e, t() } finally { _e = r } }; fh = function (e, t, r) { switch (t) { case "input": if (ih(e, r), t = r.name, r.type === "radio" && t != null) { for (r = e; r.parentNode;)r = r.parentNode; for (r = r.querySelectorAll("input[name=" + JSON.stringify("" + t) + '][type="radio"]'), t = 0; t < r.length; t++) { var n = r[t]; if (n !== e && n.form === e.form) { var s = uu(n); if (!s) throw Error(W(90)); dx(n), ih(n, s) } } } break; case "textarea": fx(e, r); break; case "select": t = r.value, t != null && Uo(e, !!r.multiple, t, !1) } }; wx = Pp; bx = no; var wC = { usingClientEntryPoint: !1, Events: [Ha, Oo, uu, yx, xx, Pp] }, Bi = { findFiberByHostInstance: Fs, bundleType: 0, version: "18.3.1", rendererPackageName: "react-dom" }, bC = { bundleType: Bi.bundleType, version: Bi.version, rendererPackageName: Bi.rendererPackageName, rendererConfig: Bi.rendererConfig, overrideHookState: null, overrideHookStateDeletePath: null, overrideHookStateRenamePath: null, overrideProps: null, overridePropsDeletePath: null, overridePropsRenamePath: null, setErrorHandler: null, setSuspenseHandler: null, scheduleUpdate: null, currentDispatcherRef: wn.ReactCurrentDispatcher, findHostInstanceByFiber: function (e) { return e = _x(e), e === null ? null : e.stateNode }, findFiberByHostInstance: Bi.findFiberByHostInstance || yC, findHostInstancesForRefresh: null, scheduleRefresh: null, scheduleRoot: null, setRefreshHandler: null, getCurrentFiber: null, reconcilerVersion: "18.3.1-next-f1338f8080-20240426" }; if (typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ < "u") { var bl = __REACT_DEVTOOLS_GLOBAL_HOOK__; if (!bl.isDisabled && bl.supportsFiber) try { iu = bl.inject(bC), Br = bl } catch { } } Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = wC; Wt.createPortal = function (e, t) { var r = 2 < arguments.length && arguments[2] !== void 0 ? arguments[2] : null; if (!Lp(t)) throw Error(W(200)); return vC(e, t, null, r) }; Wt.createRoot = function (e, t) { if (!Lp(e)) throw Error(W(299)); var r = !1, n = "", s = r0; return t != null && (t.unstable_strictMode === !0 && (r = !0), t.identifierPrefix !== void 0 && (n = t.identifierPrefix), t.onRecoverableError !== void 0 && (s = t.onRecoverableError)), t = Op(e, 1, !1, null, null, r, !1, n, s), e[hn] = t.current, xa(e.nodeType === 8 ? e.parentNode : e), new Dp(t) }; Wt.findDOMNode = function (e) { if (e == null) return null; if (e.nodeType === 1) return e; var t = e._reactInternals; if (t === void 0) throw typeof e.render == "function" ? Error(W(188)) : (e = Object.keys(e).join(","), Error(W(268, e))); return e = _x(t), e = e === null ? null : e.stateNode, e }; Wt.flushSync = function (e) { return no(e) }; Wt.hydrate = function (e, t, r) { if (!xu(t)) throw Error(W(200)); return wu(null, e, t, !0, r) }; Wt.hydrateRoot = function (e, t, r) { if (!Lp(e)) throw Error(W(405)); var n = r != null && r.hydratedSources || null, s = !1, o = "", a = r0; if (r != null && (r.unstable_strictMode === !0 && (s = !0), r.identifierPrefix !== void 0 && (o = r.identifierPrefix), r.onRecoverableError !== void 0 && (a = r.onRecoverableError)), t = t0(t, null, e, 1, r ?? null, s, !1, o, a), e[hn] = t.current, xa(e), n) for (e = 0; e < n.length; e++)r = n[e], s = r._getVersion, s = s(r._source), t.mutableSourceEagerHydrationData == null ? t.mutableSourceEagerHydrationData = [r, s] : t.mutableSourceEagerHydrationData.push(r, s); return new yu(t) }; Wt.render = function (e, t, r) { if (!xu(t)) throw Error(W(200)); return wu(null, e, t, !1, r) }; Wt.unmountComponentAtNode = function (e) { if (!xu(e)) throw Error(W(40)); return e._reactRootContainer ? (no(function () { wu(null, null, e, !1, function () { e._reactRootContainer = null, e[hn] = null }) }), !0) : !1 }; Wt.unstable_batchedUpdates = Pp; Wt.unstable_renderSubtreeIntoContainer = function (e, t, r, n) { if (!xu(r)) throw Error(W(200)); if (e == null || e._reactInternals === void 0) throw Error(W(38)); return wu(e, t, r, !1, n) }; Wt.version = "18.3.1-next-f1338f8080-20240426"; function n0() { if (!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ > "u" || typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE != "function")) try { __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n0) } catch (e) { console.error(e) } } n0(), nx.exports = Wt; var po = nx.exports; const s0 = Bf(po); var o0, ov = po; o0 = ov.createRoot, ov.hydrateRoot; const jC = 1, SC = 1e6; let Ad = 0; function _C() { return Ad = (Ad + 1) % Number.MAX_SAFE_INTEGER, Ad.toString() } const Od = new Map, iv = e => { if (Od.has(e)) return; const t = setTimeout(() => { Od.delete(e), ca({ type: "REMOVE_TOAST", toastId: e }) }, SC); Od.set(e, t) }, NC = (e, t) => { switch (t.type) { case "ADD_TOAST": return { ...e, toasts: [t.toast, ...e.toasts].slice(0, jC) }; case "UPDATE_TOAST": return { ...e, toasts: e.toasts.map(r => r.id === t.toast.id ? { ...r, ...t.toast } : r) }; case "DISMISS_TOAST": { const { toastId: r } = t; return r ? iv(r) : e.toasts.forEach(n => { iv(n.id) }), { ...e, toasts: e.toasts.map(n => n.id === r || r === void 0 ? { ...n, open: !1 } : n) } } case "REMOVE_TOAST": return t.toastId === void 0 ? { ...e, toasts: [] } : { ...e, toasts: e.toasts.filter(r => r.id !== t.toastId) } } }, Zl = []; let ec = { toasts: [] }; function ca(e) { ec = NC(ec, e), Zl.forEach(t => { t(ec) }) } function EC({ ...e }) { const t = _C(), r = s => ca({ type: "UPDATE_TOAST", toast: { ...s, id: t } }), n = () => ca({ type: "DISMISS_TOAST", toastId: t }); return ca({ type: "ADD_TOAST", toast: { ...e, id: t, open: !0, onOpenChange: s => { s || n() } } }), { id: t, dismiss: n, update: r } } function bn() { const [e, t] = f.useState(ec); return f.useEffect(() => (Zl.push(t), () => { const r = Zl.indexOf(t); r > -1 && Zl.splice(r, 1) }), [e]), { ...e, toast: EC, dismiss: r => ca({ type: "DISMISS_TOAST", toastId: r }) } } function se(e, t, { checkForDefaultPrevented: r = !0 } = {}) { return function (s) { if (e == null || e(s), r === !1 || !s.defaultPrevented) return t == null ? void 0 : t(s) } } function av(e, t) { if (typeof e == "function") return e(t); e != null && (e.current = t) } function _i(...e) { return t => { let r = !1; const n = e.map(s => { const o = av(s, t); return !r && typeof o == "function" && (r = !0), o }); if (r) return () => { for (let s = 0; s < n.length; s++) { const o = n[s]; typeof o == "function" ? o() : av(e[s], null) } } } } function we(...e) { return f.useCallback(_i(...e), e) } function CC(e, t) { const r = f.createContext(t), n = o => { const { children: a, ...l } = o, c = f.useMemo(() => l, Object.values(l)); return i.jsx(r.Provider, { value: c, children: a }) }; n.displayName = e + "Provider"; function s(o) { const a = f.useContext(r); if (a) return a; if (t !== void 0) return t; throw new Error(`\`${o}\` must be used within \`${e}\``) } return [n, s] } function Gr(e, t = []) { let r = []; function n(o, a) { const l = f.createContext(a), c = r.length; r = [...r, a]; const u = p => { var v; const { scope: m, children: h, ...x } = p, g = ((v = m == null ? void 0 : m[e]) == null ? void 0 : v[c]) || l, b = f.useMemo(() => x, Object.values(x)); return i.jsx(g.Provider, { value: b, children: h }) }; u.displayName = o + "Provider"; function d(p, m) { var g; const h = ((g = m == null ? void 0 : m[e]) == null ? void 0 : g[c]) || l, x = f.useContext(h); if (x) return x; if (a !== void 0) return a; throw new Error(`\`${p}\` must be used within \`${o}\``) } return [u, d] } const s = () => { const o = r.map(a => f.createContext(a)); return function (l) { const c = (l == null ? void 0 : l[e]) || o; return f.useMemo(() => ({ [`__scope${e}`]: { ...l, [e]: c } }), [l, c]) } }; return s.scopeName = e, [n, kC(s, ...t)] } function kC(...e) { const t = e[0]; if (e.length === 1) return t; const r = () => { const n = e.map(s => ({ useScope: s(), scopeName: s.scopeName })); return function (o) { const a = n.reduce((l, { useScope: c, scopeName: u }) => { const p = c(o)[`__scope${u}`]; return { ...l, ...p } }, {}); return f.useMemo(() => ({ [`__scope${t.scopeName}`]: a }), [a]) } }; return r.scopeName = t.scopeName, r } function lv(e) { const t = PC(e), r = f.forwardRef((n, s) => { const { children: o, ...a } = n, l = f.Children.toArray(o), c = l.find(RC); if (c) { const u = c.props.children, d = l.map(p => p === c ? f.Children.count(u) > 1 ? f.Children.only(null) : f.isValidElement(u) ? u.props.children : null : p); return i.jsx(t, { ...a, ref: s, children: f.isValidElement(u) ? f.cloneElement(u, void 0, d) : null }) } return i.jsx(t, { ...a, ref: s, children: o }) }); return r.displayName = `${e}.Slot`, r } function PC(e) { const t = f.forwardRef((r, n) => { const { children: s, ...o } = r; if (f.isValidElement(s)) { const a = OC(s), l = AC(o, s.props); return s.type !== f.Fragment && (l.ref = n ? _i(n, a) : a), f.cloneElement(s, l) } return f.Children.count(s) > 1 ? f.Children.only(null) : null }); return t.displayName = `${e}.SlotClone`, t } var TC = Symbol("radix.slottable"); function RC(e) { return f.isValidElement(e) && typeof e.type == "function" && "__radixId" in e.type && e.type.__radixId === TC } function AC(e, t) { const r = { ...t }; for (const n in t) { const s = e[n], o = t[n]; /^on[A-Z]/.test(n) ? s && o ? r[n] = (...l) => { const c = o(...l); return s(...l), c } : s && (r[n] = s) : n === "style" ? r[n] = { ...s, ...o } : n === "className" && (r[n] = [s, o].filter(Boolean).join(" ")) } return { ...e, ...r } } function OC(e) { var n, s; let t = (n = Object.getOwnPropertyDescriptor(e.props, "ref")) == null ? void 0 : n.get, r = t && "isReactWarning" in t && t.isReactWarning; return r ? e.ref : (t = (s = Object.getOwnPropertyDescriptor(e, "ref")) == null ? void 0 : s.get, r = t && "isReactWarning" in t && t.isReactWarning, r ? e.props.ref : e.props.ref || e.ref) } function $p(e) { const t = e + "CollectionProvider", [r, n] = Gr(t), [s, o] = r(t, { collectionRef: { current: null }, itemMap: new Map }), a = g => { const { scope: b, children: v } = g, y = V.useRef(null), w = V.useRef(new Map).current; return i.jsx(s, { scope: b, itemMap: w, collectionRef: y, children: v }) }; a.displayName = t; const l = e + "CollectionSlot", c = lv(l), u = V.forwardRef((g, b) => { const { scope: v, children: y } = g, w = o(l, v), j = we(b, w.collectionRef); return i.jsx(c, { ref: j, children: y }) }); u.displayName = l; const d = e + "CollectionItemSlot", p = "data-radix-collection-item", m = lv(d), h = V.forwardRef((g, b) => { const { scope: v, children: y, ...w } = g, j = V.useRef(null), S = we(b, j), _ = o(d, v); return V.useEffect(() => (_.itemMap.set(j, { ref: j, ...w }), () => void _.itemMap.delete(j))), i.jsx(m, { [p]: "", ref: S, children: y }) }); h.displayName = d; function x(g) { const b = o(e + "CollectionConsumer", g); return V.useCallback(() => { const y = b.collectionRef.current; if (!y) return []; const w = Array.from(y.querySelectorAll(`[${p}]`)); return Array.from(b.itemMap.values()).sort((_, C) => w.indexOf(_.ref.current) - w.indexOf(C.ref.current)) }, [b.collectionRef, b.itemMap]) } return [{ Provider: a, Slot: u, ItemSlot: h }, x, n] } function IC(e) { const t = DC(e), r = f.forwardRef((n, s) => { const { children: o, ...a } = n, l = f.Children.toArray(o), c = l.find($C); if (c) { const u = c.props.children, d = l.map(p => p === c ? f.Children.count(u) > 1 ? f.Children.only(null) : f.isValidElement(u) ? u.props.children : null : p); return i.jsx(t, { ...a, ref: s, children: f.isValidElement(u) ? f.cloneElement(u, void 0, d) : null }) } return i.jsx(t, { ...a, ref: s, children: o }) }); return r.displayName = `${e}.Slot`, r } function DC(e) { const t = f.forwardRef((r, n) => { const { children: s, ...o } = r; if (f.isValidElement(s)) { const a = FC(s), l = MC(o, s.props); return s.type !== f.Fragment && (l.ref = n ? _i(n, a) : a), f.cloneElement(s, l) } return f.Children.count(s) > 1 ? f.Children.only(null) : null }); return t.displayName = `${e}.SlotClone`, t } var LC = Symbol("radix.slottable"); function $C(e) { return f.isValidElement(e) && typeof e.type == "function" && "__radixId" in e.type && e.type.__radixId === LC } function MC(e, t) { const r = { ...t }; for (const n in t) { const s = e[n], o = t[n]; /^on[A-Z]/.test(n) ? s && o ? r[n] = (...l) => { const c = o(...l); return s(...l), c } : s && (r[n] = s) : n === "style" ? r[n] = { ...s, ...o } : n === "className" && (r[n] = [s, o].filter(Boolean).join(" ")) } return { ...e, ...r } } function FC(e) { var n, s; let t = (n = Object.getOwnPropertyDescriptor(e.props, "ref")) == null ? void 0 : n.get, r = t && "isReactWarning" in t && t.isReactWarning; return r ? e.ref : (t = (s = Object.getOwnPropertyDescriptor(e, "ref")) == null ? void 0 : s.get, r = t && "isReactWarning" in t && t.isReactWarning, r ? e.props.ref : e.props.ref || e.ref) } var UC = ["a", "button", "div", "form", "h2", "h3", "img", "input", "label", "li", "nav", "ol", "p", "select", "span", "svg", "ul"], ce = UC.reduce((e, t) => { const r = IC(`Primitive.${t}`), n = f.forwardRef((s, o) => { const { asChild: a, ...l } = s, c = a ? r : t; return typeof window < "u" && (window[Symbol.for("radix-ui")] = !0), i.jsx(c, { ...l, ref: o }) }); return n.displayName = `Primitive.${t}`, { ...e, [t]: n } }, {}); function i0(e, t) { e && po.flushSync(() => e.dispatchEvent(t)) } function Xe(e) { const t = f.useRef(e); return f.useEffect(() => { t.current = e }), f.useMemo(() => (...r) => { var n; return (n = t.current) == null ? void 0 : n.call(t, ...r) }, []) } function zC(e, t = globalThis == null ? void 0 : globalThis.document) { const r = Xe(e); f.useEffect(() => { const n = s => { s.key === "Escape" && r(s) }; return t.addEventListener("keydown", n, { capture: !0 }), () => t.removeEventListener("keydown", n, { capture: !0 }) }, [r, t]) } var BC = "DismissableLayer", qh = "dismissableLayer.update", VC = "dismissableLayer.pointerDownOutside", HC = "dismissableLayer.focusOutside", cv, a0 = f.createContext({ layers: new Set, layersWithOutsidePointerEventsDisabled: new Set, branches: new Set }), qa = f.forwardRef((e, t) => { const { disableOutsidePointerEvents: r = !1, onEscapeKeyDown: n, onPointerDownOutside: s, onFocusOutside: o, onInteractOutside: a, onDismiss: l, ...c } = e, u = f.useContext(a0), [d, p] = f.useState(null), m = (d == null ? void 0 : d.ownerDocument) ?? (globalThis == null ? void 0 : globalThis.document), [, h] = f.useState({}), x = we(t, C => p(C)), g = Array.from(u.layers), [b] = [...u.layersWithOutsidePointerEventsDisabled].slice(-1), v = g.indexOf(b), y = d ? g.indexOf(d) : -1, w = u.layersWithOutsidePointerEventsDisabled.size > 0, j = y >= v, S = qC(C => { const k = C.target, E = [...u.branches].some(P => P.contains(k)); !j || E || (s == null || s(C), a == null || a(C), C.defaultPrevented || l == null || l()) }, m), _ = KC(C => { const k = C.target;[...u.branches].some(P => P.contains(k)) || (o == null || o(C), a == null || a(C), C.defaultPrevented || l == null || l()) }, m); return zC(C => { y === u.layers.size - 1 && (n == null || n(C), !C.defaultPrevented && l && (C.preventDefault(), l())) }, m), f.useEffect(() => { if (d) return r && (u.layersWithOutsidePointerEventsDisabled.size === 0 && (cv = m.body.style.pointerEvents, m.body.style.pointerEvents = "none"), u.layersWithOutsidePointerEventsDisabled.add(d)), u.layers.add(d), uv(), () => { r && u.layersWithOutsidePointerEventsDisabled.size === 1 && (m.body.style.pointerEvents = cv) } }, [d, m, r, u]), f.useEffect(() => () => { d && (u.layers.delete(d), u.layersWithOutsidePointerEventsDisabled.delete(d), uv()) }, [d, u]), f.useEffect(() => { const C = () => h({}); return document.addEventListener(qh, C), () => document.removeEventListener(qh, C) }, []), i.jsx(ce.div, { ...c, ref: x, style: { pointerEvents: w ? j ? "auto" : "none" : void 0, ...e.style }, onFocusCapture: se(e.onFocusCapture, _.onFocusCapture), onBlurCapture: se(e.onBlurCapture, _.onBlurCapture), onPointerDownCapture: se(e.onPointerDownCapture, S.onPointerDownCapture) }) }); qa.displayName = BC; var WC = "DismissableLayerBranch", l0 = f.forwardRef((e, t) => { const r = f.useContext(a0), n = f.useRef(null), s = we(t, n); return f.useEffect(() => { const o = n.current; if (o) return r.branches.add(o), () => { r.branches.delete(o) } }, [r.branches]), i.jsx(ce.div, { ...e, ref: s }) }); l0.displayName = WC; function qC(e, t = globalThis == null ? void 0 : globalThis.document) { const r = Xe(e), n = f.useRef(!1), s = f.useRef(() => { }); return f.useEffect(() => { const o = l => { if (l.target && !n.current) { let c = function () { c0(VC, r, u, { discrete: !0 }) }; const u = { originalEvent: l }; l.pointerType === "touch" ? (t.removeEventListener("click", s.current), s.current = c, t.addEventListener("click", s.current, { once: !0 })) : c() } else t.removeEventListener("click", s.current); n.current = !1 }, a = window.setTimeout(() => { t.addEventListener("pointerdown", o) }, 0); return () => { window.clearTimeout(a), t.removeEventListener("pointerdown", o), t.removeEventListener("click", s.current) } }, [t, r]), { onPointerDownCapture: () => n.current = !0 } } function KC(e, t = globalThis == null ? void 0 : globalThis.document) { const r = Xe(e), n = f.useRef(!1); return f.useEffect(() => { const s = o => { o.target && !n.current && c0(HC, r, { originalEvent: o }, { discrete: !1 }) }; return t.addEventListener("focusin", s), () => t.removeEventListener("focusin", s) }, [t, r]), { onFocusCapture: () => n.current = !0, onBlurCapture: () => n.current = !1 } } function uv() { const e = new CustomEvent(qh); document.dispatchEvent(e) } function c0(e, t, r, { discrete: n }) { const s = r.originalEvent.target, o = new CustomEvent(e, { bubbles: !1, cancelable: !0, detail: r }); t && s.addEventListener(e, t, { once: !0 }), n ? i0(s, o) : s.dispatchEvent(o) } var GC = qa, YC = l0, Ve = globalThis != null && globalThis.document ? f.useLayoutEffect : () => { }, QC = "Portal", bu = f.forwardRef((e, t) => { var l; const { container: r, ...n } = e, [s, o] = f.useState(!1); Ve(() => o(!0), []); const a = r || s && ((l = globalThis == null ? void 0 : globalThis.document) == null ? void 0 : l.body); return a ? s0.createPortal(i.jsx(ce.div, { ...n, ref: t }), a) : null }); bu.displayName = QC; function JC(e, t) { return f.useReducer((r, n) => t[r][n] ?? r, e) } var Nr = e => { const { present: t, children: r } = e, n = XC(t), s = typeof r == "function" ? r({ present: n.isPresent }) : f.Children.only(r), o = we(n.ref, ZC(s)); return typeof r == "function" || n.isPresent ? f.cloneElement(s, { ref: o }) : null }; Nr.displayName = "Presence"; function XC(e) { const [t, r] = f.useState(), n = f.useRef(null), s = f.useRef(e), o = f.useRef("none"), a = e ? "mounted" : "unmounted", [l, c] = JC(a, { mounted: { UNMOUNT: "unmounted", ANIMATION_OUT: "unmountSuspended" }, unmountSuspended: { MOUNT: "mounted", ANIMATION_END: "unmounted" }, unmounted: { MOUNT: "mounted" } }); return f.useEffect(() => { const u = jl(n.current); o.current = l === "mounted" ? u : "none" }, [l]), Ve(() => { const u = n.current, d = s.current; if (d !== e) { const m = o.current, h = jl(u); e ? c("MOUNT") : h === "none" || (u == null ? void 0 : u.display) === "none" ? c("UNMOUNT") : c(d && m !== h ? "ANIMATION_OUT" : "UNMOUNT"), s.current = e } }, [e, c]), Ve(() => { if (t) { let u; const d = t.ownerDocument.defaultView ?? window, p = h => { const g = jl(n.current).includes(CSS.escape(h.animationName)); if (h.target === t && g && (c("ANIMATION_END"), !s.current)) { const b = t.style.animationFillMode; t.style.animationFillMode = "forwards", u = d.setTimeout(() => { t.style.animationFillMode === "forwards" && (t.style.animationFillMode = b) }) } }, m = h => { h.target === t && (o.current = jl(n.current)) }; return t.addEventListener("animationstart", m), t.addEventListener("animationcancel", p), t.addEventListener("animationend", p), () => { d.clearTimeout(u), t.removeEventListener("animationstart", m), t.removeEventListener("animationcancel", p), t.removeEventListener("animationend", p) } } else c("ANIMATION_END") }, [t, c]), { isPresent: ["mounted", "unmountSuspended"].includes(l), ref: f.useCallback(u => { n.current = u ? getComputedStyle(u) : null, r(u) }, []) } } function jl(e) { return (e == null ? void 0 : e.animationName) || "none" } function ZC(e) { var n, s; let t = (n = Object.getOwnPropertyDescriptor(e.props, "ref")) == null ? void 0 : n.get, r = t && "isReactWarning" in t && t.isReactWarning; return r ? e.ref : (t = (s = Object.getOwnPropertyDescriptor(e, "ref")) == null ? void 0 : s.get, r = t && "isReactWarning" in t && t.isReactWarning, r ? e.props.ref : e.props.ref || e.ref) } var ek = ou[" useInsertionEffect ".trim().toString()] || Ve; function ls({ prop: e, defaultProp: t, onChange: r = () => { }, caller: n }) { const [s, o, a] = tk({ defaultProp: t, onChange: r }), l = e !== void 0, c = l ? e : s; { const d = f.useRef(e !== void 0); f.useEffect(() => { const p = d.current; p !== l && console.warn(`${n} is changing from ${p ? "controlled" : "uncontrolled"} to ${l ? "controlled" : "uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`), d.current = l }, [l, n]) } const u = f.useCallback(d => { var p; if (l) { const m = rk(d) ? d(e) : d; m !== e && ((p = a.current) == null || p.call(a, m)) } else o(d) }, [l, e, o, a]); return [c, u] } function tk({ defaultProp: e, onChange: t }) { const [r, n] = f.useState(e), s = f.useRef(r), o = f.useRef(t); return ek(() => { o.current = t }, [t]), f.useEffect(() => { var a; s.current !== r && ((a = o.current) == null || a.call(o, r), s.current = r) }, [r, s]), [r, n, o] } function rk(e) { return typeof e == "function" } var u0 = Object.freeze({ position: "absolute", border: 0, width: 1, height: 1, padding: 0, margin: -1, overflow: "hidden", clip: "rect(0, 0, 0, 0)", whiteSpace: "nowrap", wordWrap: "normal" }), nk = "VisuallyHidden", ju = f.forwardRef((e, t) => i.jsx(ce.span, { ...e, ref: t, style: { ...u0, ...e.style } })); ju.displayName = nk; var sk = ju, Mp = "ToastProvider", [Fp, ok, ik] = $p("Toast"), [d0] = Gr("Toast", [ik]), [ak, Su] = d0(Mp), h0 = e => { const { __scopeToast: t, label: r = "Notification", duration: n = 5e3, swipeDirection: s = "right", swipeThreshold: o = 50, children: a } = e, [l, c] = f.useState(null), [u, d] = f.useState(0), p = f.useRef(!1), m = f.useRef(!1); return r.trim() || console.error(`Invalid prop \`label\` supplied to \`${Mp}\`. Expected non-empty \`string\`.`), i.jsx(Fp.Provider, { scope: t, children: i.jsx(ak, { scope: t, label: r, duration: n, swipeDirection: s, swipeThreshold: o, toastCount: u, viewport: l, onViewportChange: c, onToastAdd: f.useCallback(() => d(h => h + 1), []), onToastRemove: f.useCallback(() => d(h => h - 1), []), isFocusedToastEscapeKeyDownRef: p, isClosePausedRef: m, children: a }) }) }; h0.displayName = Mp; var f0 = "ToastViewport", lk = ["F8"], Kh = "toast.viewportPause", Gh = "toast.viewportResume", p0 = f.forwardRef((e, t) => { const { __scopeToast: r, hotkey: n = lk, label: s = "Notifications ({hotkey})", ...o } = e, a = Su(f0, r), l = ok(r), c = f.useRef(null), u = f.useRef(null), d = f.useRef(null), p = f.useRef(null), m = we(t, p, a.onViewportChange), h = n.join("+").replace(/Key/g, "").replace(/Digit/g, ""), x = a.toastCount > 0; f.useEffect(() => { const b = v => { var w; n.length !== 0 && n.every(j => v[j] || v.code === j) && ((w = p.current) == null || w.focus()) }; return document.addEventListener("keydown", b), () => document.removeEventListener("keydown", b) }, [n]), f.useEffect(() => { const b = c.current, v = p.current; if (x && b && v) { const y = () => { if (!a.isClosePausedRef.current) { const _ = new CustomEvent(Kh); v.dispatchEvent(_), a.isClosePausedRef.current = !0 } }, w = () => { if (a.isClosePausedRef.current) { const _ = new CustomEvent(Gh); v.dispatchEvent(_), a.isClosePausedRef.current = !1 } }, j = _ => { !b.contains(_.relatedTarget) && w() }, S = () => { b.contains(document.activeElement) || w() }; return b.addEventListener("focusin", y), b.addEventListener("focusout", j), b.addEventListener("pointermove", y), b.addEventListener("pointerleave", S), window.addEventListener("blur", y), window.addEventListener("focus", w), () => { b.removeEventListener("focusin", y), b.removeEventListener("focusout", j), b.removeEventListener("pointermove", y), b.removeEventListener("pointerleave", S), window.removeEventListener("blur", y), window.removeEventListener("focus", w) } } }, [x, a.isClosePausedRef]); const g = f.useCallback(({ tabbingDirection: b }) => { const y = l().map(w => { const j = w.ref.current, S = [j, ...bk(j)]; return b === "forwards" ? S : S.reverse() }); return (b === "forwards" ? y.reverse() : y).flat() }, [l]); return f.useEffect(() => { const b = p.current; if (b) { const v = y => { var S, _, C; const w = y.altKey || y.ctrlKey || y.metaKey; if (y.key === "Tab" && !w) { const k = document.activeElement, E = y.shiftKey; if (y.target === b && E) { (S = u.current) == null || S.focus(); return } const T = g({ tabbingDirection: E ? "backwards" : "forwards" }), R = T.findIndex(O => O === k); Id(T.slice(R + 1)) ? y.preventDefault() : E ? (_ = u.current) == null || _.focus() : (C = d.current) == null || C.focus() } }; return b.addEventListener("keydown", v), () => b.removeEventListener("keydown", v) } }, [l, g]), i.jsxs(YC, { ref: c, role: "region", "aria-label": s.replace("{hotkey}", h), tabIndex: -1, style: { pointerEvents: x ? void 0 : "none" }, children: [x && i.jsx(Yh, { ref: u, onFocusFromOutsideViewport: () => { const b = g({ tabbingDirection: "forwards" }); Id(b) } }), i.jsx(Fp.Slot, { scope: r, children: i.jsx(ce.ol, { tabIndex: -1, ...o, ref: m }) }), x && i.jsx(Yh, { ref: d, onFocusFromOutsideViewport: () => { const b = g({ tabbingDirection: "backwards" }); Id(b) } })] }) }); p0.displayName = f0; var m0 = "ToastFocusProxy", Yh = f.forwardRef((e, t) => { const { __scopeToast: r, onFocusFromOutsideViewport: n, ...s } = e, o = Su(m0, r); return i.jsx(ju, { tabIndex: 0, ...s, ref: t, style: { position: "fixed" }, onFocus: a => { var u; const l = a.relatedTarget; !((u = o.viewport) != null && u.contains(l)) && n() } }) }); Yh.displayName = m0; var Ka = "Toast", ck = "toast.swipeStart", uk = "toast.swipeMove", dk = "toast.swipeCancel", hk = "toast.swipeEnd", g0 = f.forwardRef((e, t) => { const { forceMount: r, open: n, defaultOpen: s, onOpenChange: o, ...a } = e, [l, c] = ls({ prop: n, defaultProp: s ?? !0, onChange: o, caller: Ka }); return i.jsx(Nr, { present: r || l, children: i.jsx(mk, { open: l, ...a, ref: t, onClose: () => c(!1), onPause: Xe(e.onPause), onResume: Xe(e.onResume), onSwipeStart: se(e.onSwipeStart, u => { u.currentTarget.setAttribute("data-swipe", "start") }), onSwipeMove: se(e.onSwipeMove, u => { const { x: d, y: p } = u.detail.delta; u.currentTarget.setAttribute("data-swipe", "move"), u.currentTarget.style.setProperty("--radix-toast-swipe-move-x", `${d}px`), u.currentTarget.style.setProperty("--radix-toast-swipe-move-y", `${p}px`) }), onSwipeCancel: se(e.onSwipeCancel, u => { u.currentTarget.setAttribute("data-swipe", "cancel"), u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"), u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"), u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"), u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y") }), onSwipeEnd: se(e.onSwipeEnd, u => { const { x: d, y: p } = u.detail.delta; u.currentTarget.setAttribute("data-swipe", "end"), u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"), u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"), u.currentTarget.style.setProperty("--radix-toast-swipe-end-x", `${d}px`), u.currentTarget.style.setProperty("--radix-toast-swipe-end-y", `${p}px`), c(!1) }) }) }) }); g0.displayName = Ka; var [fk, pk] = d0(Ka, { onClose() { } }), mk = f.forwardRef((e, t) => { const { __scopeToast: r, type: n = "foreground", duration: s, open: o, onClose: a, onEscapeKeyDown: l, onPause: c, onResume: u, onSwipeStart: d, onSwipeMove: p, onSwipeCancel: m, onSwipeEnd: h, ...x } = e, g = Su(Ka, r), [b, v] = f.useState(null), y = we(t, O => v(O)), w = f.useRef(null), j = f.useRef(null), S = s || g.duration, _ = f.useRef(0), C = f.useRef(S), k = f.useRef(0), { onToastAdd: E, onToastRemove: P } = g, L = Xe(() => { var U; (b == null ? void 0 : b.contains(document.activeElement)) && ((U = g.viewport) == null || U.focus()), a() }), T = f.useCallback(O => { !O || O === 1 / 0 || (window.clearTimeout(k.current), _.current = new Date().getTime(), k.current = window.setTimeout(L, O)) }, [L]); f.useEffect(() => { const O = g.viewport; if (O) { const U = () => { T(C.current), u == null || u() }, z = () => { const K = new Date().getTime() - _.current; C.current = C.current - K, window.clearTimeout(k.current), c == null || c() }; return O.addEventListener(Kh, z), O.addEventListener(Gh, U), () => { O.removeEventListener(Kh, z), O.removeEventListener(Gh, U) } } }, [g.viewport, S, c, u, T]), f.useEffect(() => { o && !g.isClosePausedRef.current && T(S) }, [o, S, g.isClosePausedRef, T]), f.useEffect(() => (E(), () => P()), [E, P]); const R = f.useMemo(() => b ? S0(b) : null, [b]); return g.viewport ? i.jsxs(i.Fragment, { children: [R && i.jsx(gk, { __scopeToast: r, role: "status", "aria-live": n === "foreground" ? "assertive" : "polite", children: R }), i.jsx(fk, { scope: r, onClose: L, children: po.createPortal(i.jsx(Fp.ItemSlot, { scope: r, children: i.jsx(GC, { asChild: !0, onEscapeKeyDown: se(l, () => { g.isFocusedToastEscapeKeyDownRef.current || L(), g.isFocusedToastEscapeKeyDownRef.current = !1 }), children: i.jsx(ce.li, { tabIndex: 0, "data-state": o ? "open" : "closed", "data-swipe-direction": g.swipeDirection, ...x, ref: y, style: { userSelect: "none", touchAction: "none", ...e.style }, onKeyDown: se(e.onKeyDown, O => { O.key === "Escape" && (l == null || l(O.nativeEvent), O.nativeEvent.defaultPrevented || (g.isFocusedToastEscapeKeyDownRef.current = !0, L())) }), onPointerDown: se(e.onPointerDown, O => { O.button === 0 && (w.current = { x: O.clientX, y: O.clientY }) }), onPointerMove: se(e.onPointerMove, O => { if (!w.current) return; const U = O.clientX - w.current.x, z = O.clientY - w.current.y, K = !!j.current, I = ["left", "right"].includes(g.swipeDirection), N = ["left", "up"].includes(g.swipeDirection) ? Math.min : Math.max, $ = I ? N(0, U) : 0, Y = I ? 0 : N(0, z), G = O.pointerType === "touch" ? 10 : 2, re = { x: $, y: Y }, ne = { originalEvent: O, delta: re }; K ? (j.current = re, Sl(uk, p, ne, { discrete: !1 })) : dv(re, g.swipeDirection, G) ? (j.current = re, Sl(ck, d, ne, { discrete: !1 }), O.target.setPointerCapture(O.pointerId)) : (Math.abs(U) > G || Math.abs(z) > G) && (w.current = null) }), onPointerUp: se(e.onPointerUp, O => { const U = j.current, z = O.target; if (z.hasPointerCapture(O.pointerId) && z.releasePointerCapture(O.pointerId), j.current = null, w.current = null, U) { const K = O.currentTarget, I = { originalEvent: O, delta: U }; dv(U, g.swipeDirection, g.swipeThreshold) ? Sl(hk, h, I, { discrete: !0 }) : Sl(dk, m, I, { discrete: !0 }), K.addEventListener("click", N => N.preventDefault(), { once: !0 }) } }) }) }) }), g.viewport) })] }) : null }), gk = e => { const { __scopeToast: t, children: r, ...n } = e, s = Su(Ka, t), [o, a] = f.useState(!1), [l, c] = f.useState(!1); return xk(() => a(!0)), f.useEffect(() => { const u = window.setTimeout(() => c(!0), 1e3); return () => window.clearTimeout(u) }, []), l ? null : i.jsx(bu, { asChild: !0, children: i.jsx(ju, { ...n, children: o && i.jsxs(i.Fragment, { children: [s.label, " ", r] }) }) }) }, vk = "ToastTitle", v0 = f.forwardRef((e, t) => { const { __scopeToast: r, ...n } = e; return i.jsx(ce.div, { ...n, ref: t }) }); v0.displayName = vk; var yk = "ToastDescription", y0 = f.forwardRef((e, t) => { const { __scopeToast: r, ...n } = e; return i.jsx(ce.div, { ...n, ref: t }) }); y0.displayName = yk; var x0 = "ToastAction", w0 = f.forwardRef((e, t) => { const { altText: r, ...n } = e; return r.trim() ? i.jsx(j0, { altText: r, asChild: !0, children: i.jsx(Up, { ...n, ref: t }) }) : (console.error(`Invalid prop \`altText\` supplied to \`${x0}\`. Expected non-empty \`string\`.`), null) }); w0.displayName = x0; var b0 = "ToastClose", Up = f.forwardRef((e, t) => { const { __scopeToast: r, ...n } = e, s = pk(b0, r); return i.jsx(j0, { asChild: !0, children: i.jsx(ce.button, { type: "button", ...n, ref: t, onClick: se(e.onClick, s.onClose) }) }) }); Up.displayName = b0; var j0 = f.forwardRef((e, t) => { const { __scopeToast: r, altText: n, ...s } = e; return i.jsx(ce.div, { "data-radix-toast-announce-exclude": "", "data-radix-toast-announce-alt": n || void 0, ...s, ref: t }) }); function S0(e) { const t = []; return Array.from(e.childNodes).forEach(n => { if (n.nodeType === n.TEXT_NODE && n.textContent && t.push(n.textContent), wk(n)) { const s = n.ariaHidden || n.hidden || n.style.display === "none", o = n.dataset.radixToastAnnounceExclude === ""; if (!s) if (o) { const a = n.dataset.radixToastAnnounceAlt; a && t.push(a) } else t.push(...S0(n)) } }), t } function Sl(e, t, r, { discrete: n }) { const s = r.originalEvent.currentTarget, o = new CustomEvent(e, { bubbles: !0, cancelable: !0, detail: r }); t && s.addEventListener(e, t, { once: !0 }), n ? i0(s, o) : s.dispatchEvent(o) } var dv = (e, t, r = 0) => { const n = Math.abs(e.x), s = Math.abs(e.y), o = n > s; return t === "left" || t === "right" ? o && n > r : !o && s > r }; function xk(e = () => { }) { const t = Xe(e); Ve(() => { let r = 0, n = 0; return r = window.requestAnimationFrame(() => n = window.requestAnimationFrame(t)), () => { window.cancelAnimationFrame(r), window.cancelAnimationFrame(n) } }, [t]) } function wk(e) { return e.nodeType === e.ELEMENT_NODE } function bk(e) { const t = [], r = document.createTreeWalker(e, NodeFilter.SHOW_ELEMENT, { acceptNode: n => { const s = n.tagName === "INPUT" && n.type === "hidden"; return n.disabled || n.hidden || s ? NodeFilter.FILTER_SKIP : n.tabIndex >= 0 ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP } }); for (; r.nextNode();)t.push(r.currentNode); return t } function Id(e) { const t = document.activeElement; return e.some(r => r === t ? !0 : (r.focus(), document.activeElement !== t)) } var jk = h0, _0 = p0, N0 = g0, E0 = v0, C0 = y0, k0 = w0, P0 = Up; function T0(e) { var t, r, n = ""; if (typeof e == "string" || typeof e == "number") n += e; else if (typeof e == "object") if (Array.isArray(e)) { var s = e.length; for (t = 0; t < s; t++)e[t] && (r = T0(e[t])) && (n && (n += " "), n += r) } else for (r in e) e[r] && (n && (n += " "), n += r); return n } function R0() { for (var e, t, r = 0, n = "", s = arguments.length; r < s; r++)(e = arguments[r]) && (t = T0(e)) && (n && (n += " "), n += t); return n } const hv = e => typeof e == "boolean" ? `${e}` : e === 0 ? "0" : e, fv = R0, Ga = (e, t) => r => { var n; if ((t == null ? void 0 : t.variants) == null) return fv(e, r == null ? void 0 : r.class, r == null ? void 0 : r.className); const { variants: s, defaultVariants: o } = t, a = Object.keys(s).map(u => { const d = r == null ? void 0 : r[u], p = o == null ? void 0 : o[u]; if (d === null) return null; const m = hv(d) || hv(p); return s[u][m] }), l = r && Object.entries(r).reduce((u, d) => { let [p, m] = d; return m === void 0 || (u[p] = m), u }, {}), c = t == null || (n = t.compoundVariants) === null || n === void 0 ? void 0 : n.reduce((u, d) => { let { class: p, className: m, ...h } = d; return Object.entries(h).every(x => { let [g, b] = x; return Array.isArray(b) ? b.includes({ ...o, ...l }[g]) : { ...o, ...l }[g] === b }) ? [...u, p, m] : u }, []); return fv(e, a, c, r == null ? void 0 : r.class, r == null ? void 0 : r.className) };/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk = e => e.replace(/([a-z0-9])([A-Z])/g, "$1-$2").toLowerCase(), A0 = (...e) => e.filter((t, r, n) => !!t && t.trim() !== "" && n.indexOf(t) === r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _k = { xmlns: "http://www.w3.org/2000/svg", width: 24, height: 24, viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: 2, strokeLinecap: "round", strokeLinejoin: "round" };/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk = f.forwardRef(({ color: e = "currentColor", size: t = 24, strokeWidth: r = 2, absoluteStrokeWidth: n, className: s = "", children: o, iconNode: a, ...l }, c) => f.createElement("svg", { ref: c, ..._k, width: t, height: t, stroke: e, strokeWidth: n ? Number(r) * 24 / Number(t) : r, className: A0("lucide", s), ...l }, [...a.map(([u, d]) => f.createElement(u, d)), ...Array.isArray(o) ? o : [o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee = (e, t) => { const r = f.forwardRef(({ className: n, ...s }, o) => f.createElement(Nk, { ref: o, iconNode: t, className: A0(`lucide-${Sk(e)}`, n), ...s })); return r.displayName = `${e}`, r };/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh = ee("ArrowRight", [["path", { d: "M5 12h14", key: "1ays0h" }], ["path", { d: "m12 5 7 7-7 7", key: "xquz4c" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr = ee("Award", [["path", { d: "m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526", key: "1yiouv" }], ["circle", { cx: "12", cy: "8", r: "6", key: "1vp47v" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0 = ee("Bell", [["path", { d: "M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9", key: "1qo2s2" }], ["path", { d: "M10.3 21a1.94 1.94 0 0 0 3.4 0", key: "qgo35s" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn = ee("BookOpen", [["path", { d: "M12 7v14", key: "1akyts" }], ["path", { d: "M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z", key: "ruj8y" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv = ee("Bot", [["path", { d: "M12 8V4H8", key: "hb8ula" }], ["rect", { width: "16", height: "12", x: "4", y: "8", rx: "2", key: "enze0r" }], ["path", { d: "M2 14h2", key: "vft8re" }], ["path", { d: "M20 14h2", key: "4cs60a" }], ["path", { d: "M15 13v2", key: "1xurst" }], ["path", { d: "M9 13v2", key: "rq6x2g" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr = ee("Brain", [["path", { d: "M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z", key: "l5xja" }], ["path", { d: "M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z", key: "ep3f8r" }], ["path", { d: "M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4", key: "1p4c4q" }], ["path", { d: "M17.599 6.5a3 3 0 0 0 .399-1.375", key: "tmeiqw" }], ["path", { d: "M6.003 5.125A3 3 0 0 0 6.401 6.5", key: "105sqy" }], ["path", { d: "M3.477 10.896a4 4 0 0 1 .585-.396", key: "ql3yin" }], ["path", { d: "M19.938 10.5a4 4 0 0 1 .585.396", key: "1qfode" }], ["path", { d: "M6 18a4 4 0 0 1-1.967-.516", key: "2e4loj" }], ["path", { d: "M19.967 17.484A4 4 0 0 1 18 18", key: "159ez6" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek = ee("Briefcase", [["path", { d: "M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16", key: "jecpp" }], ["rect", { width: "20", height: "14", x: "2", y: "6", rx: "2", key: "i6l2r4" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh = ee("Calendar", [["path", { d: "M8 2v4", key: "1cmpym" }], ["path", { d: "M16 2v4", key: "4m81vk" }], ["rect", { width: "18", height: "18", x: "3", y: "4", rx: "2", key: "1hopcy" }], ["path", { d: "M3 10h18", key: "8toen8" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck = ee("Camera", [["path", { d: "M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z", key: "1tc9qg" }], ["circle", { cx: "12", cy: "13", r: "3", key: "1vg3eu" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs = ee("Check", [["path", { d: "M20 6 9 17l-5-5", key: "1gmf2c" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u = ee("ChevronDown", [["path", { d: "m6 9 6 6 6-6", key: "qrunsl" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0 = ee("ChevronLeft", [["path", { d: "m15 18-6-6 6-6", key: "1wnfg3" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya = ee("ChevronRight", [["path", { d: "m9 18 6-6-6-6", key: "mthhwq" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk = ee("ChevronUp", [["path", { d: "m18 15-6-6-6 6", key: "153udz" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0 = ee("CircleAlert", [["circle", { cx: "12", cy: "12", r: "10", key: "1mglay" }], ["line", { x1: "12", x2: "12", y1: "8", y2: "12", key: "1pkeuh" }], ["line", { x1: "12", x2: "12.01", y1: "16", y2: "16", key: "4dfq90" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic = ee("CircleCheckBig", [["path", { d: "M21.801 10A10 10 0 1 1 17 3.335", key: "yps3ct" }], ["path", { d: "m9 11 3 3L22 4", key: "1pflzl" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi = ee("CircleCheck", [["circle", { cx: "12", cy: "12", r: "10", key: "1mglay" }], ["path", { d: "m9 12 2 2 4-4", key: "dzmm74" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk = ee("CircleHelp", [["circle", { cx: "12", cy: "12", r: "10", key: "1mglay" }], ["path", { d: "M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3", key: "1u773s" }], ["path", { d: "M12 17h.01", key: "p32p05" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka = ee("Clock", [["circle", { cx: "12", cy: "12", r: "10", key: "1mglay" }], ["polyline", { points: "12 6 12 12 16 14", key: "68esgv" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk = ee("Code", [["polyline", { points: "16 18 22 12 16 6", key: "z7tu5w" }], ["polyline", { points: "8 6 2 12 8 18", key: "1eg1df" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk = ee("CreditCard", [["rect", { width: "20", height: "14", x: "2", y: "5", rx: "2", key: "ynyp8z" }], ["line", { x1: "2", x2: "22", y1: "10", y2: "10", key: "1b3vmo" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns = ee("Crown", [["path", { d: "M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z", key: "1vdc57" }], ["path", { d: "M5 21h14", key: "11awu3" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv = ee("DollarSign", [["line", { x1: "12", x2: "12", y1: "2", y2: "22", key: "7eqyqh" }], ["path", { d: "M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6", key: "1b0p4s" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0 = ee("Download", [["path", { d: "M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4", key: "ih7n3h" }], ["polyline", { points: "7 10 12 15 17 10", key: "2ggqvy" }], ["line", { x1: "12", x2: "12", y1: "15", y2: "3", key: "1vk2je" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0 = ee("Eye", [["path", { d: "M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0", key: "1nclc0" }], ["circle", { cx: "12", cy: "12", r: "3", key: "1v7zrd" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn = ee("FileText", [["path", { d: "M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z", key: "1rqfz7" }], ["path", { d: "M14 2v4a2 2 0 0 0 2 2h4", key: "tnqrlb" }], ["path", { d: "M10 9H8", key: "b1mrlr" }], ["path", { d: "M16 13H8", key: "t4e002" }], ["path", { d: "M16 17H8", key: "z1uh3a" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0 = ee("Filter", [["polygon", { points: "22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3", key: "1yg77f" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak = ee("GraduationCap", [["path", { d: "M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z", key: "j76jl0" }], ["path", { d: "M22 10v6", key: "1lu8f3" }], ["path", { d: "M6 12.5V16a6 3 0 0 0 12 0v-3.5", key: "1r8lef" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok = ee("Heart", [["path", { d: "M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z", key: "c3ymky" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni = ee("Layers", [["path", { d: "m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z", key: "8b97xw" }], ["path", { d: "m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65", key: "dd6zsq" }], ["path", { d: "m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65", key: "ep9fru" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0 = ee("LayoutDashboard", [["rect", { width: "7", height: "9", x: "3", y: "3", rx: "1", key: "10lvy0" }], ["rect", { width: "7", height: "5", x: "14", y: "3", rx: "1", key: "16une8" }], ["rect", { width: "7", height: "9", x: "14", y: "12", rx: "1", key: "1hutg5" }], ["rect", { width: "7", height: "5", x: "3", y: "16", rx: "1", key: "ldoo1y" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0 = ee("Lightbulb", [["path", { d: "M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5", key: "1gvzjb" }], ["path", { d: "M9 18h6", key: "x1upvd" }], ["path", { d: "M10 22h4", key: "ceow96" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik = ee("Link", [["path", { d: "M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71", key: "1cjeqo" }], ["path", { d: "M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71", key: "19qd67" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be = ee("LoaderCircle", [["path", { d: "M21 12a9 9 0 1 1-6.219-8.56", key: "13zald" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk = ee("LogOut", [["path", { d: "M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4", key: "1uf3rs" }], ["polyline", { points: "16 17 21 12 16 7", key: "1gabdz" }], ["line", { x1: "21", x2: "9", y1: "12", y2: "12", key: "1uyos4" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0 = ee("Mail", [["rect", { width: "20", height: "16", x: "2", y: "4", rx: "2", key: "18n3k1" }], ["path", { d: "m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7", key: "1ocrg3" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0 = ee("Moon", [["path", { d: "M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z", key: "a7tn18" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk = ee("Music", [["path", { d: "M9 18V5l12-2v13", key: "1jmyc2" }], ["circle", { cx: "6", cy: "18", r: "3", key: "fqmcym" }], ["circle", { cx: "18", cy: "16", r: "3", key: "1hluhg" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k = ee("Palette", [["circle", { cx: "13.5", cy: "6.5", r: ".5", fill: "currentColor", key: "1okk4w" }], ["circle", { cx: "17.5", cy: "10.5", r: ".5", fill: "currentColor", key: "f64h9f" }], ["circle", { cx: "8.5", cy: "7.5", r: ".5", fill: "currentColor", key: "fotxhn" }], ["circle", { cx: "6.5", cy: "12.5", r: ".5", fill: "currentColor", key: "qy21gx" }], ["path", { d: "M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z", key: "12rzf8" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0 = ee("Play", [["polygon", { points: "6 3 20 12 6 21 6 3", key: "1oa8hb" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At = ee("Plus", [["path", { d: "M5 12h14", key: "1ays0h" }], ["path", { d: "M12 5v14", key: "s699le" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk = ee("RefreshCw", [["path", { d: "M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8", key: "v9h5vc" }], ["path", { d: "M21 3v5h-5", key: "1q7to0" }], ["path", { d: "M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16", key: "3uifl3" }], ["path", { d: "M8 16H3v5", key: "1cv678" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk = ee("Rocket", [["path", { d: "M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z", key: "m3kijz" }], ["path", { d: "m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z", key: "1fmvmk" }], ["path", { d: "M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0", key: "1f8sc4" }], ["path", { d: "M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5", key: "qeys4" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv = ee("RotateCcw", [["path", { d: "M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8", key: "1357e3" }], ["path", { d: "M3 3v5h5", key: "1xhq8a" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo = ee("Search", [["circle", { cx: "11", cy: "11", r: "8", key: "4ej97u" }], ["path", { d: "m21 21-4.3-4.3", key: "1qie3q" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk = ee("Send", [["path", { d: "M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z", key: "1ffxy3" }], ["path", { d: "m21.854 2.147-10.94 10.939", key: "12cjpa" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk = ee("Settings", [["path", { d: "M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z", key: "1qme2f" }], ["circle", { cx: "12", cy: "12", r: "3", key: "1v7zrd" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs = ee("Shield", [["path", { d: "M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z", key: "oel41y" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk = ee("Shuffle", [["path", { d: "m18 14 4 4-4 4", key: "10pe0f" }], ["path", { d: "m18 2 4 4-4 4", key: "pucp1d" }], ["path", { d: "M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22", key: "1ailkh" }], ["path", { d: "M2 6h1.972a4 4 0 0 1 3.6 2.2", key: "km57vx" }], ["path", { d: "M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45", key: "os18l9" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei = ee("Sparkles", [["path", { d: "M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z", key: "4pj2yx" }], ["path", { d: "M20 3v4", key: "1olli1" }], ["path", { d: "M22 5h-4", key: "1gvqau" }], ["path", { d: "M4 17v2", key: "vumght" }], ["path", { d: "M5 18H3", key: "zchphs" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi = ee("SquarePen", [["path", { d: "M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7", key: "1m0v6g" }], ["path", { d: "M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z", key: "ohrbg2" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0 = ee("Star", [["path", { d: "M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z", key: "r04s7s" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0 = ee("Sun", [["circle", { cx: "12", cy: "12", r: "4", key: "4exip2" }], ["path", { d: "M12 2v2", key: "tus03m" }], ["path", { d: "M12 20v2", key: "1lh1kg" }], ["path", { d: "m4.93 4.93 1.41 1.41", key: "149t6j" }], ["path", { d: "m17.66 17.66 1.41 1.41", key: "ptbguv" }], ["path", { d: "M2 12h2", key: "1t8f8n" }], ["path", { d: "M20 12h2", key: "1q8mjw" }], ["path", { d: "m6.34 17.66-1.41 1.41", key: "1m8zz5" }], ["path", { d: "m19.07 4.93-1.41 1.41", key: "1shlcs" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk = ee("Target", [["circle", { cx: "12", cy: "12", r: "10", key: "1mglay" }], ["circle", { cx: "12", cy: "12", r: "6", key: "1vlfrh" }], ["circle", { cx: "12", cy: "12", r: "2", key: "1c9p78" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk = ee("Timer", [["line", { x1: "10", x2: "14", y1: "2", y2: "2", key: "14vaq8" }], ["line", { x1: "12", x2: "15", y1: "14", y2: "11", key: "17fdiu" }], ["circle", { cx: "12", cy: "14", r: "8", key: "1e1u0o" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so = ee("Trash2", [["path", { d: "M3 6h18", key: "d0wm0j" }], ["path", { d: "M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6", key: "4alrt4" }], ["path", { d: "M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2", key: "v07s0e" }], ["line", { x1: "10", x2: "10", y1: "11", y2: "17", key: "1uufr5" }], ["line", { x1: "14", x2: "14", y1: "11", y2: "17", key: "xtxkd" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0 = ee("TrendingUp", [["polyline", { points: "22 7 13.5 15.5 8.5 10.5 2 17", key: "126l90" }], ["polyline", { points: "16 7 22 7 22 13", key: "kwv8wd" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc = ee("Trophy", [["path", { d: "M6 9H4.5a2.5 2.5 0 0 1 0-5H6", key: "17hqa7" }], ["path", { d: "M18 9h1.5a2.5 2.5 0 0 0 0-5H18", key: "lmptdp" }], ["path", { d: "M4 22h16", key: "57wxv0" }], ["path", { d: "M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22", key: "1nw9bq" }], ["path", { d: "M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22", key: "1np0yb" }], ["path", { d: "M18 2H6v7a6 6 0 0 0 12 0V2Z", key: "u46fv3" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk = ee("Upload", [["path", { d: "M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4", key: "ih7n3h" }], ["polyline", { points: "17 8 12 3 7 8", key: "t8dd8p" }], ["line", { x1: "12", x2: "12", y1: "3", y2: "15", key: "widbto" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk = ee("UserCheck", [["path", { d: "M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2", key: "1yyitq" }], ["circle", { cx: "9", cy: "7", r: "4", key: "nufk8" }], ["polyline", { points: "16 11 18 13 22 9", key: "1pwet4" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk = ee("UserX", [["path", { d: "M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2", key: "1yyitq" }], ["circle", { cx: "9", cy: "7", r: "4", key: "nufk8" }], ["line", { x1: "17", x2: "22", y1: "8", y2: "13", key: "3nzzx3" }], ["line", { x1: "22", x2: "17", y1: "8", y2: "13", key: "1swrse" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0 = ee("User", [["path", { d: "M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2", key: "975kel" }], ["circle", { cx: "12", cy: "7", r: "4", key: "17ys0d" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp = ee("Users", [["path", { d: "M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2", key: "1yyitq" }], ["circle", { cx: "9", cy: "7", r: "4", key: "nufk8" }], ["path", { d: "M22 21v-2a4 4 0 0 0-3-3.87", key: "kshegd" }], ["path", { d: "M16 3.13a4 4 0 0 1 0 7.75", key: "1da9ce" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo = ee("X", [["path", { d: "M18 6 6 18", key: "1bl5f8" }], ["path", { d: "m6 6 12 12", key: "d8bk6v" }]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk = ee("Zap", [["path", { d: "M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z", key: "1xq2db" }]]), Bp = "-", Yk = e => { const t = Jk(e), { conflictingClassGroups: r, conflictingClassGroupModifiers: n } = e; return { getClassGroupId: a => { const l = a.split(Bp); return l[0] === "" && l.length !== 1 && l.shift(), G0(l, t) || Qk(a) }, getConflictingClassGroupIds: (a, l) => { const c = r[a] || []; return l && n[a] ? [...c, ...n[a]] : c } } }, G0 = (e, t) => { var a; if (e.length === 0) return t.classGroupId; const r = e[0], n = t.nextPart.get(r), s = n ? G0(e.slice(1), n) : void 0; if (s) return s; if (t.validators.length === 0) return; const o = e.join(Bp); return (a = t.validators.find(({ validator: l }) => l(o))) == null ? void 0 : a.classGroupId }, vv = /^\[(.+)\]$/, Qk = e => { if (vv.test(e)) { const t = vv.exec(e)[1], r = t == null ? void 0 : t.substring(0, t.indexOf(":")); if (r) return "arbitrary.." + r } }, Jk = e => { const { theme: t, prefix: r } = e, n = { nextPart: new Map, validators: [] }; return Zk(Object.entries(e.classGroups), r).forEach(([o, a]) => { Xh(a, n, o, t) }), n }, Xh = (e, t, r, n) => { e.forEach(s => { if (typeof s == "string") { const o = s === "" ? t : yv(t, s); o.classGroupId = r; return } if (typeof s == "function") { if (Xk(s)) { Xh(s(n), t, r, n); return } t.validators.push({ validator: s, classGroupId: r }); return } Object.entries(s).forEach(([o, a]) => { Xh(a, yv(t, o), r, n) }) }) }, yv = (e, t) => { let r = e; return t.split(Bp).forEach(n => { r.nextPart.has(n) || r.nextPart.set(n, { nextPart: new Map, validators: [] }), r = r.nextPart.get(n) }), r }, Xk = e => e.isThemeGetter, Zk = (e, t) => t ? e.map(([r, n]) => { const s = n.map(o => typeof o == "string" ? t + o : typeof o == "object" ? Object.fromEntries(Object.entries(o).map(([a, l]) => [t + a, l])) : o); return [r, s] }) : e, e2 = e => { if (e < 1) return { get: () => { }, set: () => { } }; let t = 0, r = new Map, n = new Map; const s = (o, a) => { r.set(o, a), t++, t > e && (t = 0, n = r, r = new Map) }; return { get(o) { let a = r.get(o); if (a !== void 0) return a; if ((a = n.get(o)) !== void 0) return s(o, a), a }, set(o, a) { r.has(o) ? r.set(o, a) : s(o, a) } } }, Y0 = "!", t2 = e => { const { separator: t, experimentalParseClassName: r } = e, n = t.length === 1, s = t[0], o = t.length, a = l => { const c = []; let u = 0, d = 0, p; for (let b = 0; b < l.length; b++) { let v = l[b]; if (u === 0) { if (v === s && (n || l.slice(b, b + o) === t)) { c.push(l.slice(d, b)), d = b + o; continue } if (v === "/") { p = b; continue } } v === "[" ? u++ : v === "]" && u-- } const m = c.length === 0 ? l : l.substring(d), h = m.startsWith(Y0), x = h ? m.substring(1) : m, g = p && p > d ? p - d : void 0; return { modifiers: c, hasImportantModifier: h, baseClassName: x, maybePostfixModifierPosition: g } }; return r ? l => r({ className: l, parseClassName: a }) : a }, r2 = e => { if (e.length <= 1) return e; const t = []; let r = []; return e.forEach(n => { n[0] === "[" ? (t.push(...r.sort(), n), r = []) : r.push(n) }), t.push(...r.sort()), t }, n2 = e => ({ cache: e2(e.cacheSize), parseClassName: t2(e), ...Yk(e) }), s2 = /\s+/, o2 = (e, t) => { const { parseClassName: r, getClassGroupId: n, getConflictingClassGroupIds: s } = t, o = [], a = e.trim().split(s2); let l = ""; for (let c = a.length - 1; c >= 0; c -= 1) { const u = a[c], { modifiers: d, hasImportantModifier: p, baseClassName: m, maybePostfixModifierPosition: h } = r(u); let x = !!h, g = n(x ? m.substring(0, h) : m); if (!g) { if (!x) { l = u + (l.length > 0 ? " " + l : l); continue } if (g = n(m), !g) { l = u + (l.length > 0 ? " " + l : l); continue } x = !1 } const b = r2(d).join(":"), v = p ? b + Y0 : b, y = v + g; if (o.includes(y)) continue; o.push(y); const w = s(g, x); for (let j = 0; j < w.length; ++j) { const S = w[j]; o.push(v + S) } l = u + (l.length > 0 ? " " + l : l) } return l }; function i2() { let e = 0, t, r, n = ""; for (; e < arguments.length;)(t = arguments[e++]) && (r = Q0(t)) && (n && (n += " "), n += r); return n } const Q0 = e => { if (typeof e == "string") return e; let t, r = ""; for (let n = 0; n < e.length; n++)e[n] && (t = Q0(e[n])) && (r && (r += " "), r += t); return r }; function a2(e, ...t) { let r, n, s, o = a; function a(c) { const u = t.reduce((d, p) => p(d), e()); return r = n2(u), n = r.cache.get, s = r.cache.set, o = l, l(c) } function l(c) { const u = n(c); if (u) return u; const d = o2(c, r); return s(c, d), d } return function () { return o(i2.apply(null, arguments)) } } const ke = e => { const t = r => r[e] || []; return t.isThemeGetter = !0, t }, J0 = /^\[(?:([a-z-]+):)?(.+)\]$/i, l2 = /^\d+\/\d+$/, c2 = new Set(["px", "full", "screen"]), u2 = /^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/, d2 = /\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/, h2 = /^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/, f2 = /^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/, p2 = /^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/, en = e => qo(e) || c2.has(e) || l2.test(e), Tn = e => Ci(e, "length", j2), qo = e => !!e && !Number.isNaN(Number(e)), Dd = e => Ci(e, "number", qo), Vi = e => !!e && Number.isInteger(Number(e)), m2 = e => e.endsWith("%") && qo(e.slice(0, -1)), fe = e => J0.test(e), Rn = e => u2.test(e), g2 = new Set(["length", "size", "percentage"]), v2 = e => Ci(e, g2, X0), y2 = e => Ci(e, "position", X0), x2 = new Set(["image", "url"]), w2 = e => Ci(e, x2, _2), b2 = e => Ci(e, "", S2), Hi = () => !0, Ci = (e, t, r) => { const n = J0.exec(e); return n ? n[1] ? typeof t == "string" ? n[1] === t : t.has(n[1]) : r(n[2]) : !1 }, j2 = e => d2.test(e) && !h2.test(e), X0 = () => !1, S2 = e => f2.test(e), _2 = e => p2.test(e), N2 = () => { const e = ke("colors"), t = ke("spacing"), r = ke("blur"), n = ke("brightness"), s = ke("borderColor"), o = ke("borderRadius"), a = ke("borderSpacing"), l = ke("borderWidth"), c = ke("contrast"), u = ke("grayscale"), d = ke("hueRotate"), p = ke("invert"), m = ke("gap"), h = ke("gradientColorStops"), x = ke("gradientColorStopPositions"), g = ke("inset"), b = ke("margin"), v = ke("opacity"), y = ke("padding"), w = ke("saturate"), j = ke("scale"), S = ke("sepia"), _ = ke("skew"), C = ke("space"), k = ke("translate"), E = () => ["auto", "contain", "none"], P = () => ["auto", "hidden", "clip", "visible", "scroll"], L = () => ["auto", fe, t], T = () => [fe, t], R = () => ["", en, Tn], O = () => ["auto", qo, fe], U = () => ["bottom", "center", "left", "left-bottom", "left-top", "right", "right-bottom", "right-top", "top"], z = () => ["solid", "dashed", "dotted", "double", "none"], K = () => ["normal", "multiply", "screen", "overlay", "darken", "lighten", "color-dodge", "color-burn", "hard-light", "soft-light", "difference", "exclusion", "hue", "saturation", "color", "luminosity"], I = () => ["start", "end", "center", "between", "around", "evenly", "stretch"], N = () => ["", "0", fe], $ = () => ["auto", "avoid", "all", "avoid-page", "page", "left", "right", "column"], Y = () => [qo, fe]; return { cacheSize: 500, separator: ":", theme: { colors: [Hi], spacing: [en, Tn], blur: ["none", "", Rn, fe], brightness: Y(), borderColor: [e], borderRadius: ["none", "", "full", Rn, fe], borderSpacing: T(), borderWidth: R(), contrast: Y(), grayscale: N(), hueRotate: Y(), invert: N(), gap: T(), gradientColorStops: [e], gradientColorStopPositions: [m2, Tn], inset: L(), margin: L(), opacity: Y(), padding: T(), saturate: Y(), scale: Y(), sepia: N(), skew: Y(), space: T(), translate: T() }, classGroups: { aspect: [{ aspect: ["auto", "square", "video", fe] }], container: ["container"], columns: [{ columns: [Rn] }], "break-after": [{ "break-after": $() }], "break-before": [{ "break-before": $() }], "break-inside": [{ "break-inside": ["auto", "avoid", "avoid-page", "avoid-column"] }], "box-decoration": [{ "box-decoration": ["slice", "clone"] }], box: [{ box: ["border", "content"] }], display: ["block", "inline-block", "inline", "flex", "inline-flex", "table", "inline-table", "table-caption", "table-cell", "table-column", "table-column-group", "table-footer-group", "table-header-group", "table-row-group", "table-row", "flow-root", "grid", "inline-grid", "contents", "list-item", "hidden"], float: [{ float: ["right", "left", "none", "start", "end"] }], clear: [{ clear: ["left", "right", "both", "none", "start", "end"] }], isolation: ["isolate", "isolation-auto"], "object-fit": [{ object: ["contain", "cover", "fill", "none", "scale-down"] }], "object-position": [{ object: [...U(), fe] }], overflow: [{ overflow: P() }], "overflow-x": [{ "overflow-x": P() }], "overflow-y": [{ "overflow-y": P() }], overscroll: [{ overscroll: E() }], "overscroll-x": [{ "overscroll-x": E() }], "overscroll-y": [{ "overscroll-y": E() }], position: ["static", "fixed", "absolute", "relative", "sticky"], inset: [{ inset: [g] }], "inset-x": [{ "inset-x": [g] }], "inset-y": [{ "inset-y": [g] }], start: [{ start: [g] }], end: [{ end: [g] }], top: [{ top: [g] }], right: [{ right: [g] }], bottom: [{ bottom: [g] }], left: [{ left: [g] }], visibility: ["visible", "invisible", "collapse"], z: [{ z: ["auto", Vi, fe] }], basis: [{ basis: L() }], "flex-direction": [{ flex: ["row", "row-reverse", "col", "col-reverse"] }], "flex-wrap": [{ flex: ["wrap", "wrap-reverse", "nowrap"] }], flex: [{ flex: ["1", "auto", "initial", "none", fe] }], grow: [{ grow: N() }], shrink: [{ shrink: N() }], order: [{ order: ["first", "last", "none", Vi, fe] }], "grid-cols": [{ "grid-cols": [Hi] }], "col-start-end": [{ col: ["auto", { span: ["full", Vi, fe] }, fe] }], "col-start": [{ "col-start": O() }], "col-end": [{ "col-end": O() }], "grid-rows": [{ "grid-rows": [Hi] }], "row-start-end": [{ row: ["auto", { span: [Vi, fe] }, fe] }], "row-start": [{ "row-start": O() }], "row-end": [{ "row-end": O() }], "grid-flow": [{ "grid-flow": ["row", "col", "dense", "row-dense", "col-dense"] }], "auto-cols": [{ "auto-cols": ["auto", "min", "max", "fr", fe] }], "auto-rows": [{ "auto-rows": ["auto", "min", "max", "fr", fe] }], gap: [{ gap: [m] }], "gap-x": [{ "gap-x": [m] }], "gap-y": [{ "gap-y": [m] }], "justify-content": [{ justify: ["normal", ...I()] }], "justify-items": [{ "justify-items": ["start", "end", "center", "stretch"] }], "justify-self": [{ "justify-self": ["auto", "start", "end", "center", "stretch"] }], "align-content": [{ content: ["normal", ...I(), "baseline"] }], "align-items": [{ items: ["start", "end", "center", "baseline", "stretch"] }], "align-self": [{ self: ["auto", "start", "end", "center", "stretch", "baseline"] }], "place-content": [{ "place-content": [...I(), "baseline"] }], "place-items": [{ "place-items": ["start", "end", "center", "baseline", "stretch"] }], "place-self": [{ "place-self": ["auto", "start", "end", "center", "stretch"] }], p: [{ p: [y] }], px: [{ px: [y] }], py: [{ py: [y] }], ps: [{ ps: [y] }], pe: [{ pe: [y] }], pt: [{ pt: [y] }], pr: [{ pr: [y] }], pb: [{ pb: [y] }], pl: [{ pl: [y] }], m: [{ m: [b] }], mx: [{ mx: [b] }], my: [{ my: [b] }], ms: [{ ms: [b] }], me: [{ me: [b] }], mt: [{ mt: [b] }], mr: [{ mr: [b] }], mb: [{ mb: [b] }], ml: [{ ml: [b] }], "space-x": [{ "space-x": [C] }], "space-x-reverse": ["space-x-reverse"], "space-y": [{ "space-y": [C] }], "space-y-reverse": ["space-y-reverse"], w: [{ w: ["auto", "min", "max", "fit", "svw", "lvw", "dvw", fe, t] }], "min-w": [{ "min-w": [fe, t, "min", "max", "fit"] }], "max-w": [{ "max-w": [fe, t, "none", "full", "min", "max", "fit", "prose", { screen: [Rn] }, Rn] }], h: [{ h: [fe, t, "auto", "min", "max", "fit", "svh", "lvh", "dvh"] }], "min-h": [{ "min-h": [fe, t, "min", "max", "fit", "svh", "lvh", "dvh"] }], "max-h": [{ "max-h": [fe, t, "min", "max", "fit", "svh", "lvh", "dvh"] }], size: [{ size: [fe, t, "auto", "min", "max", "fit"] }], "font-size": [{ text: ["base", Rn, Tn] }], "font-smoothing": ["antialiased", "subpixel-antialiased"], "font-style": ["italic", "not-italic"], "font-weight": [{ font: ["thin", "extralight", "light", "normal", "medium", "semibold", "bold", "extrabold", "black", Dd] }], "font-family": [{ font: [Hi] }], "fvn-normal": ["normal-nums"], "fvn-ordinal": ["ordinal"], "fvn-slashed-zero": ["slashed-zero"], "fvn-figure": ["lining-nums", "oldstyle-nums"], "fvn-spacing": ["proportional-nums", "tabular-nums"], "fvn-fraction": ["diagonal-fractions", "stacked-fractions"], tracking: [{ tracking: ["tighter", "tight", "normal", "wide", "wider", "widest", fe] }], "line-clamp": [{ "line-clamp": ["none", qo, Dd] }], leading: [{ leading: ["none", "tight", "snug", "normal", "relaxed", "loose", en, fe] }], "list-image": [{ "list-image": ["none", fe] }], "list-style-type": [{ list: ["none", "disc", "decimal", fe] }], "list-style-position": [{ list: ["inside", "outside"] }], "placeholder-color": [{ placeholder: [e] }], "placeholder-opacity": [{ "placeholder-opacity": [v] }], "text-alignment": [{ text: ["left", "center", "right", "justify", "start", "end"] }], "text-color": [{ text: [e] }], "text-opacity": [{ "text-opacity": [v] }], "text-decoration": ["underline", "overline", "line-through", "no-underline"], "text-decoration-style": [{ decoration: [...z(), "wavy"] }], "text-decoration-thickness": [{ decoration: ["auto", "from-font", en, Tn] }], "underline-offset": [{ "underline-offset": ["auto", en, fe] }], "text-decoration-color": [{ decoration: [e] }], "text-transform": ["uppercase", "lowercase", "capitalize", "normal-case"], "text-overflow": ["truncate", "text-ellipsis", "text-clip"], "text-wrap": [{ text: ["wrap", "nowrap", "balance", "pretty"] }], indent: [{ indent: T() }], "vertical-align": [{ align: ["baseline", "top", "middle", "bottom", "text-top", "text-bottom", "sub", "super", fe] }], whitespace: [{ whitespace: ["normal", "nowrap", "pre", "pre-line", "pre-wrap", "break-spaces"] }], break: [{ break: ["normal", "words", "all", "keep"] }], hyphens: [{ hyphens: ["none", "manual", "auto"] }], content: [{ content: ["none", fe] }], "bg-attachment": [{ bg: ["fixed", "local", "scroll"] }], "bg-clip": [{ "bg-clip": ["border", "padding", "content", "text"] }], "bg-opacity": [{ "bg-opacity": [v] }], "bg-origin": [{ "bg-origin": ["border", "padding", "content"] }], "bg-position": [{ bg: [...U(), y2] }], "bg-repeat": [{ bg: ["no-repeat", { repeat: ["", "x", "y", "round", "space"] }] }], "bg-size": [{ bg: ["auto", "cover", "contain", v2] }], "bg-image": [{ bg: ["none", { "gradient-to": ["t", "tr", "r", "br", "b", "bl", "l", "tl"] }, w2] }], "bg-color": [{ bg: [e] }], "gradient-from-pos": [{ from: [x] }], "gradient-via-pos": [{ via: [x] }], "gradient-to-pos": [{ to: [x] }], "gradient-from": [{ from: [h] }], "gradient-via": [{ via: [h] }], "gradient-to": [{ to: [h] }], rounded: [{ rounded: [o] }], "rounded-s": [{ "rounded-s": [o] }], "rounded-e": [{ "rounded-e": [o] }], "rounded-t": [{ "rounded-t": [o] }], "rounded-r": [{ "rounded-r": [o] }], "rounded-b": [{ "rounded-b": [o] }], "rounded-l": [{ "rounded-l": [o] }], "rounded-ss": [{ "rounded-ss": [o] }], "rounded-se": [{ "rounded-se": [o] }], "rounded-ee": [{ "rounded-ee": [o] }], "rounded-es": [{ "rounded-es": [o] }], "rounded-tl": [{ "rounded-tl": [o] }], "rounded-tr": [{ "rounded-tr": [o] }], "rounded-br": [{ "rounded-br": [o] }], "rounded-bl": [{ "rounded-bl": [o] }], "border-w": [{ border: [l] }], "border-w-x": [{ "border-x": [l] }], "border-w-y": [{ "border-y": [l] }], "border-w-s": [{ "border-s": [l] }], "border-w-e": [{ "border-e": [l] }], "border-w-t": [{ "border-t": [l] }], "border-w-r": [{ "border-r": [l] }], "border-w-b": [{ "border-b": [l] }], "border-w-l": [{ "border-l": [l] }], "border-opacity": [{ "border-opacity": [v] }], "border-style": [{ border: [...z(), "hidden"] }], "divide-x": [{ "divide-x": [l] }], "divide-x-reverse": ["divide-x-reverse"], "divide-y": [{ "divide-y": [l] }], "divide-y-reverse": ["divide-y-reverse"], "divide-opacity": [{ "divide-opacity": [v] }], "divide-style": [{ divide: z() }], "border-color": [{ border: [s] }], "border-color-x": [{ "border-x": [s] }], "border-color-y": [{ "border-y": [s] }], "border-color-s": [{ "border-s": [s] }], "border-color-e": [{ "border-e": [s] }], "border-color-t": [{ "border-t": [s] }], "border-color-r": [{ "border-r": [s] }], "border-color-b": [{ "border-b": [s] }], "border-color-l": [{ "border-l": [s] }], "divide-color": [{ divide: [s] }], "outline-style": [{ outline: ["", ...z()] }], "outline-offset": [{ "outline-offset": [en, fe] }], "outline-w": [{ outline: [en, Tn] }], "outline-color": [{ outline: [e] }], "ring-w": [{ ring: R() }], "ring-w-inset": ["ring-inset"], "ring-color": [{ ring: [e] }], "ring-opacity": [{ "ring-opacity": [v] }], "ring-offset-w": [{ "ring-offset": [en, Tn] }], "ring-offset-color": [{ "ring-offset": [e] }], shadow: [{ shadow: ["", "inner", "none", Rn, b2] }], "shadow-color": [{ shadow: [Hi] }], opacity: [{ opacity: [v] }], "mix-blend": [{ "mix-blend": [...K(), "plus-lighter", "plus-darker"] }], "bg-blend": [{ "bg-blend": K() }], filter: [{ filter: ["", "none"] }], blur: [{ blur: [r] }], brightness: [{ brightness: [n] }], contrast: [{ contrast: [c] }], "drop-shadow": [{ "drop-shadow": ["", "none", Rn, fe] }], grayscale: [{ grayscale: [u] }], "hue-rotate": [{ "hue-rotate": [d] }], invert: [{ invert: [p] }], saturate: [{ saturate: [w] }], sepia: [{ sepia: [S] }], "backdrop-filter": [{ "backdrop-filter": ["", "none"] }], "backdrop-blur": [{ "backdrop-blur": [r] }], "backdrop-brightness": [{ "backdrop-brightness": [n] }], "backdrop-contrast": [{ "backdrop-contrast": [c] }], "backdrop-grayscale": [{ "backdrop-grayscale": [u] }], "backdrop-hue-rotate": [{ "backdrop-hue-rotate": [d] }], "backdrop-invert": [{ "backdrop-invert": [p] }], "backdrop-opacity": [{ "backdrop-opacity": [v] }], "backdrop-saturate": [{ "backdrop-saturate": [w] }], "backdrop-sepia": [{ "backdrop-sepia": [S] }], "border-collapse": [{ border: ["collapse", "separate"] }], "border-spacing": [{ "border-spacing": [a] }], "border-spacing-x": [{ "border-spacing-x": [a] }], "border-spacing-y": [{ "border-spacing-y": [a] }], "table-layout": [{ table: ["auto", "fixed"] }], caption: [{ caption: ["top", "bottom"] }], transition: [{ transition: ["none", "all", "", "colors", "opacity", "shadow", "transform", fe] }], duration: [{ duration: Y() }], ease: [{ ease: ["linear", "in", "out", "in-out", fe] }], delay: [{ delay: Y() }], animate: [{ animate: ["none", "spin", "ping", "pulse", "bounce", fe] }], transform: [{ transform: ["", "gpu", "none"] }], scale: [{ scale: [j] }], "scale-x": [{ "scale-x": [j] }], "scale-y": [{ "scale-y": [j] }], rotate: [{ rotate: [Vi, fe] }], "translate-x": [{ "translate-x": [k] }], "translate-y": [{ "translate-y": [k] }], "skew-x": [{ "skew-x": [_] }], "skew-y": [{ "skew-y": [_] }], "transform-origin": [{ origin: ["center", "top", "top-right", "right", "bottom-right", "bottom", "bottom-left", "left", "top-left", fe] }], accent: [{ accent: ["auto", e] }], appearance: [{ appearance: ["none", "auto"] }], cursor: [{ cursor: ["auto", "default", "pointer", "wait", "text", "move", "help", "not-allowed", "none", "context-menu", "progress", "cell", "crosshair", "vertical-text", "alias", "copy", "no-drop", "grab", "grabbing", "all-scroll", "col-resize", "row-resize", "n-resize", "e-resize", "s-resize", "w-resize", "ne-resize", "nw-resize", "se-resize", "sw-resize", "ew-resize", "ns-resize", "nesw-resize", "nwse-resize", "zoom-in", "zoom-out", fe] }], "caret-color": [{ caret: [e] }], "pointer-events": [{ "pointer-events": ["none", "auto"] }], resize: [{ resize: ["none", "y", "x", ""] }], "scroll-behavior": [{ scroll: ["auto", "smooth"] }], "scroll-m": [{ "scroll-m": T() }], "scroll-mx": [{ "scroll-mx": T() }], "scroll-my": [{ "scroll-my": T() }], "scroll-ms": [{ "scroll-ms": T() }], "scroll-me": [{ "scroll-me": T() }], "scroll-mt": [{ "scroll-mt": T() }], "scroll-mr": [{ "scroll-mr": T() }], "scroll-mb": [{ "scroll-mb": T() }], "scroll-ml": [{ "scroll-ml": T() }], "scroll-p": [{ "scroll-p": T() }], "scroll-px": [{ "scroll-px": T() }], "scroll-py": [{ "scroll-py": T() }], "scroll-ps": [{ "scroll-ps": T() }], "scroll-pe": [{ "scroll-pe": T() }], "scroll-pt": [{ "scroll-pt": T() }], "scroll-pr": [{ "scroll-pr": T() }], "scroll-pb": [{ "scroll-pb": T() }], "scroll-pl": [{ "scroll-pl": T() }], "snap-align": [{ snap: ["start", "end", "center", "align-none"] }], "snap-stop": [{ snap: ["normal", "always"] }], "snap-type": [{ snap: ["none", "x", "y", "both"] }], "snap-strictness": [{ snap: ["mandatory", "proximity"] }], touch: [{ touch: ["auto", "none", "manipulation"] }], "touch-x": [{ "touch-pan": ["x", "left", "right"] }], "touch-y": [{ "touch-pan": ["y", "up", "down"] }], "touch-pz": ["touch-pinch-zoom"], select: [{ select: ["none", "text", "all", "auto"] }], "will-change": [{ "will-change": ["auto", "scroll", "contents", "transform", fe] }], fill: [{ fill: [e, "none"] }], "stroke-w": [{ stroke: [en, Tn, Dd] }], stroke: [{ stroke: [e, "none"] }], sr: ["sr-only", "not-sr-only"], "forced-color-adjust": [{ "forced-color-adjust": ["auto", "none"] }] }, conflictingClassGroups: { overflow: ["overflow-x", "overflow-y"], overscroll: ["overscroll-x", "overscroll-y"], inset: ["inset-x", "inset-y", "start", "end", "top", "right", "bottom", "left"], "inset-x": ["right", "left"], "inset-y": ["top", "bottom"], flex: ["basis", "grow", "shrink"], gap: ["gap-x", "gap-y"], p: ["px", "py", "ps", "pe", "pt", "pr", "pb", "pl"], px: ["pr", "pl"], py: ["pt", "pb"], m: ["mx", "my", "ms", "me", "mt", "mr", "mb", "ml"], mx: ["mr", "ml"], my: ["mt", "mb"], size: ["w", "h"], "font-size": ["leading"], "fvn-normal": ["fvn-ordinal", "fvn-slashed-zero", "fvn-figure", "fvn-spacing", "fvn-fraction"], "fvn-ordinal": ["fvn-normal"], "fvn-slashed-zero": ["fvn-normal"], "fvn-figure": ["fvn-normal"], "fvn-spacing": ["fvn-normal"], "fvn-fraction": ["fvn-normal"], "line-clamp": ["display", "overflow"], rounded: ["rounded-s", "rounded-e", "rounded-t", "rounded-r", "rounded-b", "rounded-l", "rounded-ss", "rounded-se", "rounded-ee", "rounded-es", "rounded-tl", "rounded-tr", "rounded-br", "rounded-bl"], "rounded-s": ["rounded-ss", "rounded-es"], "rounded-e": ["rounded-se", "rounded-ee"], "rounded-t": ["rounded-tl", "rounded-tr"], "rounded-r": ["rounded-tr", "rounded-br"], "rounded-b": ["rounded-br", "rounded-bl"], "rounded-l": ["rounded-tl", "rounded-bl"], "border-spacing": ["border-spacing-x", "border-spacing-y"], "border-w": ["border-w-s", "border-w-e", "border-w-t", "border-w-r", "border-w-b", "border-w-l"], "border-w-x": ["border-w-r", "border-w-l"], "border-w-y": ["border-w-t", "border-w-b"], "border-color": ["border-color-s", "border-color-e", "border-color-t", "border-color-r", "border-color-b", "border-color-l"], "border-color-x": ["border-color-r", "border-color-l"], "border-color-y": ["border-color-t", "border-color-b"], "scroll-m": ["scroll-mx", "scroll-my", "scroll-ms", "scroll-me", "scroll-mt", "scroll-mr", "scroll-mb", "scroll-ml"], "scroll-mx": ["scroll-mr", "scroll-ml"], "scroll-my": ["scroll-mt", "scroll-mb"], "scroll-p": ["scroll-px", "scroll-py", "scroll-ps", "scroll-pe", "scroll-pt", "scroll-pr", "scroll-pb", "scroll-pl"], "scroll-px": ["scroll-pr", "scroll-pl"], "scroll-py": ["scroll-pt", "scroll-pb"], touch: ["touch-x", "touch-y", "touch-pz"], "touch-x": ["touch"], "touch-y": ["touch"], "touch-pz": ["touch"] }, conflictingClassGroupModifiers: { "font-size": ["leading"] } } }, E2 = a2(N2); function F(...e) { return E2(R0(e)) } const C2 = jk, Z0 = f.forwardRef(({ className: e, ...t }, r) => i.jsx(_0, { ref: r, className: F("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]", e), ...t })); Z0.displayName = _0.displayName; const k2 = Ga("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full", { variants: { variant: { default: "border bg-background text-foreground", destructive: "destructive group border-destructive bg-destructive text-destructive-foreground" } }, defaultVariants: { variant: "default" } }), eb = f.forwardRef(({ className: e, variant: t, ...r }, n) => i.jsx(N0, { ref: n, className: F(k2({ variant: t }), e), ...r })); eb.displayName = N0.displayName; const P2 = f.forwardRef(({ className: e, ...t }, r) => i.jsx(k0, { ref: r, className: F("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50", e), ...t })); P2.displayName = k0.displayName; const tb = f.forwardRef(({ className: e, ...t }, r) => i.jsx(P0, { ref: r, className: F("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600", e), "toast-close": "", ...t, children: i.jsx(oo, { className: "h-4 w-4" }) })); tb.displayName = P0.displayName; const rb = f.forwardRef(({ className: e, ...t }, r) => i.jsx(E0, { ref: r, className: F("text-sm font-semibold", e), ...t })); rb.displayName = E0.displayName; const nb = f.forwardRef(({ className: e, ...t }, r) => i.jsx(C0, { ref: r, className: F("text-sm opacity-90", e), ...t })); nb.displayName = C0.displayName; function T2() { const { toasts: e } = bn(); return i.jsxs(C2, { children: [e.map(function ({ id: t, title: r, description: n, action: s, ...o }) { return i.jsxs(eb, { ...o, children: [i.jsxs("div", { className: "grid gap-1", children: [r && i.jsx(rb, { children: r }), n && i.jsx(nb, { children: n })] }), s, i.jsx(tb, {})] }, t) }), i.jsx(Z0, {})] }) } var xv = ["light", "dark"], R2 = "(prefers-color-scheme: dark)", A2 = f.createContext(void 0), O2 = { setTheme: e => { }, themes: [] }, I2 = () => { var e; return (e = f.useContext(A2)) != null ? e : O2 }; f.memo(({ forcedTheme: e, storageKey: t, attribute: r, enableSystem: n, enableColorScheme: s, defaultTheme: o, value: a, attrs: l, nonce: c }) => { let u = o === "system", d = r === "class" ? `var d=document.documentElement,c=d.classList;${`c.remove(${l.map(x => `'${x}'`).join(",")})`};` : `var d=document.documentElement,n='${r}',s='setAttribute';`, p = s ? xv.includes(o) && o ? `if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'` : "if(e==='light'||e==='dark')d.style.colorScheme=e" : "", m = (x, g = !1, b = !0) => { let v = a ? a[x] : x, y = g ? x + "|| ''" : `'${v}'`, w = ""; return s && b && !g && xv.includes(x) && (w += `d.style.colorScheme = '${x}';`), r === "class" ? g || v ? w += `c.add(${y})` : w += "null" : v && (w += `d[s](n,${y})`), w }, h = e ? `!function(){${d}${m(e)}}()` : n ? `!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${R2}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${a ? `var x=${JSON.stringify(a)};` : ""}${m(a ? "x[e]" : "e", !0)}}${u ? "" : "else{" + m(o, !1, !1) + "}"}${p}}catch(e){}}()` : `!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${a ? `var x=${JSON.stringify(a)};` : ""}${m(a ? "x[e]" : "e", !0)}}else{${m(o, !1, !1)};}${p}}catch(t){}}();`; return f.createElement("script", { nonce: c, dangerouslySetInnerHTML: { __html: h } }) }); var D2 = e => { switch (e) { case "success": return M2; case "info": return U2; case "warning": return F2; case "error": return z2; default: return null } }, L2 = Array(12).fill(0), $2 = ({ visible: e, className: t }) => V.createElement("div", { className: ["sonner-loading-wrapper", t].filter(Boolean).join(" "), "data-visible": e }, V.createElement("div", { className: "sonner-spinner" }, L2.map((r, n) => V.createElement("div", { className: "sonner-loading-bar", key: `spinner-bar-${n}` })))), M2 = V.createElement("svg", { xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 20 20", fill: "currentColor", height: "20", width: "20" }, V.createElement("path", { fillRule: "evenodd", d: "M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z", clipRule: "evenodd" })), F2 = V.createElement("svg", { xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 24 24", fill: "currentColor", height: "20", width: "20" }, V.createElement("path", { fillRule: "evenodd", d: "M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z", clipRule: "evenodd" })), U2 = V.createElement("svg", { xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 20 20", fill: "currentColor", height: "20", width: "20" }, V.createElement("path", { fillRule: "evenodd", d: "M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z", clipRule: "evenodd" })), z2 = V.createElement("svg", { xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 20 20", fill: "currentColor", height: "20", width: "20" }, V.createElement("path", { fillRule: "evenodd", d: "M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z", clipRule: "evenodd" })), B2 = V.createElement("svg", { xmlns: "http://www.w3.org/2000/svg", width: "12", height: "12", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: "1.5", strokeLinecap: "round", strokeLinejoin: "round" }, V.createElement("line", { x1: "18", y1: "6", x2: "6", y2: "18" }), V.createElement("line", { x1: "6", y1: "6", x2: "18", y2: "18" })), V2 = () => { let [e, t] = V.useState(document.hidden); return V.useEffect(() => { let r = () => { t(document.hidden) }; return document.addEventListener("visibilitychange", r), () => window.removeEventListener("visibilitychange", r) }, []), e }, Zh = 1, H2 = class { constructor() { this.subscribe = e => (this.subscribers.push(e), () => { let t = this.subscribers.indexOf(e); this.subscribers.splice(t, 1) }), this.publish = e => { this.subscribers.forEach(t => t(e)) }, this.addToast = e => { this.publish(e), this.toasts = [...this.toasts, e] }, this.create = e => { var t; let { message: r, ...n } = e, s = typeof (e == null ? void 0 : e.id) == "number" || ((t = e.id) == null ? void 0 : t.length) > 0 ? e.id : Zh++, o = this.toasts.find(l => l.id === s), a = e.dismissible === void 0 ? !0 : e.dismissible; return this.dismissedToasts.has(s) && this.dismissedToasts.delete(s), o ? this.toasts = this.toasts.map(l => l.id === s ? (this.publish({ ...l, ...e, id: s, title: r }), { ...l, ...e, id: s, dismissible: a, title: r }) : l) : this.addToast({ title: r, ...n, dismissible: a, id: s }), s }, this.dismiss = e => (this.dismissedToasts.add(e), e || this.toasts.forEach(t => { this.subscribers.forEach(r => r({ id: t.id, dismiss: !0 })) }), this.subscribers.forEach(t => t({ id: e, dismiss: !0 })), e), this.message = (e, t) => this.create({ ...t, message: e }), this.error = (e, t) => this.create({ ...t, message: e, type: "error" }), this.success = (e, t) => this.create({ ...t, type: "success", message: e }), this.info = (e, t) => this.create({ ...t, type: "info", message: e }), this.warning = (e, t) => this.create({ ...t, type: "warning", message: e }), this.loading = (e, t) => this.create({ ...t, type: "loading", message: e }), this.promise = (e, t) => { if (!t) return; let r; t.loading !== void 0 && (r = this.create({ ...t, promise: e, type: "loading", message: t.loading, description: typeof t.description != "function" ? t.description : void 0 })); let n = e instanceof Promise ? e : e(), s = r !== void 0, o, a = n.then(async c => { if (o = ["resolve", c], V.isValidElement(c)) s = !1, this.create({ id: r, type: "default", message: c }); else if (q2(c) && !c.ok) { s = !1; let u = typeof t.error == "function" ? await t.error(`HTTP error! status: ${c.status}`) : t.error, d = typeof t.description == "function" ? await t.description(`HTTP error! status: ${c.status}`) : t.description; this.create({ id: r, type: "error", message: u, description: d }) } else if (t.success !== void 0) { s = !1; let u = typeof t.success == "function" ? await t.success(c) : t.success, d = typeof t.description == "function" ? await t.description(c) : t.description; this.create({ id: r, type: "success", message: u, description: d }) } }).catch(async c => { if (o = ["reject", c], t.error !== void 0) { s = !1; let u = typeof t.error == "function" ? await t.error(c) : t.error, d = typeof t.description == "function" ? await t.description(c) : t.description; this.create({ id: r, type: "error", message: u, description: d }) } }).finally(() => { var c; s && (this.dismiss(r), r = void 0), (c = t.finally) == null || c.call(t) }), l = () => new Promise((c, u) => a.then(() => o[0] === "reject" ? u(o[1]) : c(o[1])).catch(u)); return typeof r != "string" && typeof r != "number" ? { unwrap: l } : Object.assign(r, { unwrap: l }) }, this.custom = (e, t) => { let r = (t == null ? void 0 : t.id) || Zh++; return this.create({ jsx: e(r), id: r, ...t }), r }, this.getActiveToasts = () => this.toasts.filter(e => !this.dismissedToasts.has(e.id)), this.subscribers = [], this.toasts = [], this.dismissedToasts = new Set } }, Pt = new H2, W2 = (e, t) => { let r = (t == null ? void 0 : t.id) || Zh++; return Pt.addToast({ title: e, ...t, id: r }), r }, q2 = e => e && typeof e == "object" && "ok" in e && typeof e.ok == "boolean" && "status" in e && typeof e.status == "number", K2 = W2, G2 = () => Pt.toasts, Y2 = () => Pt.getActiveToasts(), De = Object.assign(K2, { success: Pt.success, info: Pt.info, warning: Pt.warning, error: Pt.error, custom: Pt.custom, message: Pt.message, promise: Pt.promise, dismiss: Pt.dismiss, loading: Pt.loading }, { getHistory: G2, getToasts: Y2 }); function Q2(e, { insertAt: t } = {}) { if (typeof document > "u") return; let r = document.head || document.getElementsByTagName("head")[0], n = document.createElement("style"); n.type = "text/css", t === "top" && r.firstChild ? r.insertBefore(n, r.firstChild) : r.appendChild(n), n.styleSheet ? n.styleSheet.cssText = e : n.appendChild(document.createTextNode(e)) } Q2(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`); function _l(e) { return e.label !== void 0 } var J2 = 3, X2 = "32px", Z2 = "16px", wv = 4e3, eP = 356, tP = 14, rP = 20, nP = 200; function cr(...e) { return e.filter(Boolean).join(" ") } function sP(e) { let [t, r] = e.split("-"), n = []; return t && n.push(t), r && n.push(r), n } var oP = e => { var t, r, n, s, o, a, l, c, u, d, p; let { invert: m, toast: h, unstyled: x, interacting: g, setHeights: b, visibleToasts: v, heights: y, index: w, toasts: j, expanded: S, removeToast: _, defaultRichColors: C, closeButton: k, style: E, cancelButtonStyle: P, actionButtonStyle: L, className: T = "", descriptionClassName: R = "", duration: O, position: U, gap: z, loadingIcon: K, expandByDefault: I, classNames: N, icons: $, closeButtonAriaLabel: Y = "Close toast", pauseWhenPageIsHidden: G } = e, [re, ne] = V.useState(null), [be, q] = V.useState(null), [B, he] = V.useState(!1), [Se, ve] = V.useState(!1), [pe, me] = V.useState(!1), [et, Ct] = V.useState(!1), [Jr, kr] = V.useState(!1), [Xr, _s] = V.useState(0), [Nn, el] = V.useState(0), Ns = V.useRef(h.duration || O || wv), tl = V.useRef(null), Pr = V.useRef(null), nd = w === 0, rl = w + 1 <= v, vt = h.type, Zr = h.dismissible !== !1, A = h.className || "", M = h.descriptionClassName || "", Q = V.useMemo(() => y.findIndex(de => de.toastId === h.id) || 0, [y, h.id]), J = V.useMemo(() => { var de; return (de = h.closeButton) != null ? de : k }, [h.closeButton, k]), ue = V.useMemo(() => h.duration || O || wv, [h.duration, O]), ge = V.useRef(0), Re = V.useRef(0), Gt = V.useRef(0), Yt = V.useRef(null), [nl, G_] = U.split("-"), Gm = V.useMemo(() => y.reduce((de, Ne, Ae) => Ae >= Q ? de : de + Ne.height, 0), [y, Q]), Ym = V2(), Y_ = h.invert || m, sd = vt === "loading"; Re.current = V.useMemo(() => Q * z + Gm, [Q, Gm]), V.useEffect(() => { Ns.current = ue }, [ue]), V.useEffect(() => { he(!0) }, []), V.useEffect(() => { let de = Pr.current; if (de) { let Ne = de.getBoundingClientRect().height; return el(Ne), b(Ae => [{ toastId: h.id, height: Ne, position: h.position }, ...Ae]), () => b(Ae => Ae.filter(or => or.toastId !== h.id)) } }, [b, h.id]), V.useLayoutEffect(() => { if (!B) return; let de = Pr.current, Ne = de.style.height; de.style.height = "auto"; let Ae = de.getBoundingClientRect().height; de.style.height = Ne, el(Ae), b(or => or.find(ir => ir.toastId === h.id) ? or.map(ir => ir.toastId === h.id ? { ...ir, height: Ae } : ir) : [{ toastId: h.id, height: Ae, position: h.position }, ...or]) }, [B, h.title, h.description, b, h.id]); let En = V.useCallback(() => { ve(!0), _s(Re.current), b(de => de.filter(Ne => Ne.toastId !== h.id)), setTimeout(() => { _(h) }, nP) }, [h, _, b, Re]); V.useEffect(() => { if (h.promise && vt === "loading" || h.duration === 1 / 0 || h.type === "loading") return; let de; return S || g || G && Ym ? (() => { if (Gt.current < ge.current) { let Ne = new Date().getTime() - ge.current; Ns.current = Ns.current - Ne } Gt.current = new Date().getTime() })() : Ns.current !== 1 / 0 && (ge.current = new Date().getTime(), de = setTimeout(() => { var Ne; (Ne = h.onAutoClose) == null || Ne.call(h, h), En() }, Ns.current)), () => clearTimeout(de) }, [S, g, h, vt, G, Ym, En]), V.useEffect(() => { h.delete && En() }, [En, h.delete]); function Q_() { var de, Ne, Ae; return $ != null && $.loading ? V.createElement("div", { className: cr(N == null ? void 0 : N.loader, (de = h == null ? void 0 : h.classNames) == null ? void 0 : de.loader, "sonner-loader"), "data-visible": vt === "loading" }, $.loading) : K ? V.createElement("div", { className: cr(N == null ? void 0 : N.loader, (Ne = h == null ? void 0 : h.classNames) == null ? void 0 : Ne.loader, "sonner-loader"), "data-visible": vt === "loading" }, K) : V.createElement($2, { className: cr(N == null ? void 0 : N.loader, (Ae = h == null ? void 0 : h.classNames) == null ? void 0 : Ae.loader), visible: vt === "loading" }) } return V.createElement("li", { tabIndex: 0, ref: Pr, className: cr(T, A, N == null ? void 0 : N.toast, (t = h == null ? void 0 : h.classNames) == null ? void 0 : t.toast, N == null ? void 0 : N.default, N == null ? void 0 : N[vt], (r = h == null ? void 0 : h.classNames) == null ? void 0 : r[vt]), "data-sonner-toast": "", "data-rich-colors": (n = h.richColors) != null ? n : C, "data-styled": !(h.jsx || h.unstyled || x), "data-mounted": B, "data-promise": !!h.promise, "data-swiped": Jr, "data-removed": Se, "data-visible": rl, "data-y-position": nl, "data-x-position": G_, "data-index": w, "data-front": nd, "data-swiping": pe, "data-dismissible": Zr, "data-type": vt, "data-invert": Y_, "data-swipe-out": et, "data-swipe-direction": be, "data-expanded": !!(S || I && B), style: { "--index": w, "--toasts-before": w, "--z-index": j.length - w, "--offset": `${Se ? Xr : Re.current}px`, "--initial-height": I ? "auto" : `${Nn}px`, ...E, ...h.style }, onDragEnd: () => { me(!1), ne(null), Yt.current = null }, onPointerDown: de => { sd || !Zr || (tl.current = new Date, _s(Re.current), de.target.setPointerCapture(de.pointerId), de.target.tagName !== "BUTTON" && (me(!0), Yt.current = { x: de.clientX, y: de.clientY })) }, onPointerUp: () => { var de, Ne, Ae, or; if (et || !Zr) return; Yt.current = null; let ir = Number(((de = Pr.current) == null ? void 0 : de.style.getPropertyValue("--swipe-amount-x").replace("px", "")) || 0), Cn = Number(((Ne = Pr.current) == null ? void 0 : Ne.style.getPropertyValue("--swipe-amount-y").replace("px", "")) || 0), Es = new Date().getTime() - ((Ae = tl.current) == null ? void 0 : Ae.getTime()), ar = re === "x" ? ir : Cn, kn = Math.abs(ar) / Es; if (Math.abs(ar) >= rP || kn > .11) { _s(Re.current), (or = h.onDismiss) == null || or.call(h, h), q(re === "x" ? ir > 0 ? "right" : "left" : Cn > 0 ? "down" : "up"), En(), Ct(!0), kr(!1); return } me(!1), ne(null) }, onPointerMove: de => { var Ne, Ae, or, ir; if (!Yt.current || !Zr || ((Ne = window.getSelection()) == null ? void 0 : Ne.toString().length) > 0) return; let Cn = de.clientY - Yt.current.y, Es = de.clientX - Yt.current.x, ar = (Ae = e.swipeDirections) != null ? Ae : sP(U); !re && (Math.abs(Es) > 1 || Math.abs(Cn) > 1) && ne(Math.abs(Es) > Math.abs(Cn) ? "x" : "y"); let kn = { x: 0, y: 0 }; re === "y" ? (ar.includes("top") || ar.includes("bottom")) && (ar.includes("top") && Cn < 0 || ar.includes("bottom") && Cn > 0) && (kn.y = Cn) : re === "x" && (ar.includes("left") || ar.includes("right")) && (ar.includes("left") && Es < 0 || ar.includes("right") && Es > 0) && (kn.x = Es), (Math.abs(kn.x) > 0 || Math.abs(kn.y) > 0) && kr(!0), (or = Pr.current) == null || or.style.setProperty("--swipe-amount-x", `${kn.x}px`), (ir = Pr.current) == null || ir.style.setProperty("--swipe-amount-y", `${kn.y}px`) } }, J && !h.jsx ? V.createElement("button", { "aria-label": Y, "data-disabled": sd, "data-close-button": !0, onClick: sd || !Zr ? () => { } : () => { var de; En(), (de = h.onDismiss) == null || de.call(h, h) }, className: cr(N == null ? void 0 : N.closeButton, (s = h == null ? void 0 : h.classNames) == null ? void 0 : s.closeButton) }, (o = $ == null ? void 0 : $.close) != null ? o : B2) : null, h.jsx || f.isValidElement(h.title) ? h.jsx ? h.jsx : typeof h.title == "function" ? h.title() : h.title : V.createElement(V.Fragment, null, vt || h.icon || h.promise ? V.createElement("div", { "data-icon": "", className: cr(N == null ? void 0 : N.icon, (a = h == null ? void 0 : h.classNames) == null ? void 0 : a.icon) }, h.promise || h.type === "loading" && !h.icon ? h.icon || Q_() : null, h.type !== "loading" ? h.icon || ($ == null ? void 0 : $[vt]) || D2(vt) : null) : null, V.createElement("div", { "data-content": "", className: cr(N == null ? void 0 : N.content, (l = h == null ? void 0 : h.classNames) == null ? void 0 : l.content) }, V.createElement("div", { "data-title": "", className: cr(N == null ? void 0 : N.title, (c = h == null ? void 0 : h.classNames) == null ? void 0 : c.title) }, typeof h.title == "function" ? h.title() : h.title), h.description ? V.createElement("div", { "data-description": "", className: cr(R, M, N == null ? void 0 : N.description, (u = h == null ? void 0 : h.classNames) == null ? void 0 : u.description) }, typeof h.description == "function" ? h.description() : h.description) : null), f.isValidElement(h.cancel) ? h.cancel : h.cancel && _l(h.cancel) ? V.createElement("button", { "data-button": !0, "data-cancel": !0, style: h.cancelButtonStyle || P, onClick: de => { var Ne, Ae; _l(h.cancel) && Zr && ((Ae = (Ne = h.cancel).onClick) == null || Ae.call(Ne, de), En()) }, className: cr(N == null ? void 0 : N.cancelButton, (d = h == null ? void 0 : h.classNames) == null ? void 0 : d.cancelButton) }, h.cancel.label) : null, f.isValidElement(h.action) ? h.action : h.action && _l(h.action) ? V.createElement("button", { "data-button": !0, "data-action": !0, style: h.actionButtonStyle || L, onClick: de => { var Ne, Ae; _l(h.action) && ((Ae = (Ne = h.action).onClick) == null || Ae.call(Ne, de), !de.defaultPrevented && En()) }, className: cr(N == null ? void 0 : N.actionButton, (p = h == null ? void 0 : h.classNames) == null ? void 0 : p.actionButton) }, h.action.label) : null)) }; function bv() { if (typeof window > "u" || typeof document > "u") return "ltr"; let e = document.documentElement.getAttribute("dir"); return e === "auto" || !e ? window.getComputedStyle(document.documentElement).direction : e } function iP(e, t) { let r = {}; return [e, t].forEach((n, s) => { let o = s === 1, a = o ? "--mobile-offset" : "--offset", l = o ? Z2 : X2; function c(u) { ["top", "right", "bottom", "left"].forEach(d => { r[`${a}-${d}`] = typeof u == "number" ? `${u}px` : u }) } typeof n == "number" || typeof n == "string" ? c(n) : typeof n == "object" ? ["top", "right", "bottom", "left"].forEach(u => { n[u] === void 0 ? r[`${a}-${u}`] = l : r[`${a}-${u}`] = typeof n[u] == "number" ? `${n[u]}px` : n[u] }) : c(l) }), r } var aP = f.forwardRef(function (e, t) { let { invert: r, position: n = "bottom-right", hotkey: s = ["altKey", "KeyT"], expand: o, closeButton: a, className: l, offset: c, mobileOffset: u, theme: d = "light", richColors: p, duration: m, style: h, visibleToasts: x = J2, toastOptions: g, dir: b = bv(), gap: v = tP, loadingIcon: y, icons: w, containerAriaLabel: j = "Notifications", pauseWhenPageIsHidden: S } = e, [_, C] = V.useState([]), k = V.useMemo(() => Array.from(new Set([n].concat(_.filter(G => G.position).map(G => G.position)))), [_, n]), [E, P] = V.useState([]), [L, T] = V.useState(!1), [R, O] = V.useState(!1), [U, z] = V.useState(d !== "system" ? d : typeof window < "u" && window.matchMedia && window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light"), K = V.useRef(null), I = s.join("+").replace(/Key/g, "").replace(/Digit/g, ""), N = V.useRef(null), $ = V.useRef(!1), Y = V.useCallback(G => { C(re => { var ne; return (ne = re.find(be => be.id === G.id)) != null && ne.delete || Pt.dismiss(G.id), re.filter(({ id: be }) => be !== G.id) }) }, []); return V.useEffect(() => Pt.subscribe(G => { if (G.dismiss) { C(re => re.map(ne => ne.id === G.id ? { ...ne, delete: !0 } : ne)); return } setTimeout(() => { s0.flushSync(() => { C(re => { let ne = re.findIndex(be => be.id === G.id); return ne !== -1 ? [...re.slice(0, ne), { ...re[ne], ...G }, ...re.slice(ne + 1)] : [G, ...re] }) }) }) }), []), V.useEffect(() => { if (d !== "system") { z(d); return } if (d === "system" && (window.matchMedia && window.matchMedia("(prefers-color-scheme: dark)").matches ? z("dark") : z("light")), typeof window > "u") return; let G = window.matchMedia("(prefers-color-scheme: dark)"); try { G.addEventListener("change", ({ matches: re }) => { z(re ? "dark" : "light") }) } catch { G.addListener(({ matches: ne }) => { try { z(ne ? "dark" : "light") } catch (be) { console.error(be) } }) } }, [d]), V.useEffect(() => { _.length <= 1 && T(!1) }, [_]), V.useEffect(() => { let G = re => { var ne, be; s.every(q => re[q] || re.code === q) && (T(!0), (ne = K.current) == null || ne.focus()), re.code === "Escape" && (document.activeElement === K.current || (be = K.current) != null && be.contains(document.activeElement)) && T(!1) }; return document.addEventListener("keydown", G), () => document.removeEventListener("keydown", G) }, [s]), V.useEffect(() => { if (K.current) return () => { N.current && (N.current.focus({ preventScroll: !0 }), N.current = null, $.current = !1) } }, [K.current]), V.createElement("section", { ref: t, "aria-label": `${j} ${I}`, tabIndex: -1, "aria-live": "polite", "aria-relevant": "additions text", "aria-atomic": "false", suppressHydrationWarning: !0 }, k.map((G, re) => { var ne; let [be, q] = G.split("-"); return _.length ? V.createElement("ol", { key: G, dir: b === "auto" ? bv() : b, tabIndex: -1, ref: K, className: l, "data-sonner-toaster": !0, "data-theme": U, "data-y-position": be, "data-lifted": L && _.length > 1 && !o, "data-x-position": q, style: { "--front-toast-height": `${((ne = E[0]) == null ? void 0 : ne.height) || 0}px`, "--width": `${eP}px`, "--gap": `${v}px`, ...h, ...iP(c, u) }, onBlur: B => { $.current && !B.currentTarget.contains(B.relatedTarget) && ($.current = !1, N.current && (N.current.focus({ preventScroll: !0 }), N.current = null)) }, onFocus: B => { B.target instanceof HTMLElement && B.target.dataset.dismissible === "false" || $.current || ($.current = !0, N.current = B.relatedTarget) }, onMouseEnter: () => T(!0), onMouseMove: () => T(!0), onMouseLeave: () => { R || T(!1) }, onDragEnd: () => T(!1), onPointerDown: B => { B.target instanceof HTMLElement && B.target.dataset.dismissible === "false" || O(!0) }, onPointerUp: () => O(!1) }, _.filter(B => !B.position && re === 0 || B.position === G).map((B, he) => { var Se, ve; return V.createElement(oP, { key: B.id, icons: w, index: he, toast: B, defaultRichColors: p, duration: (Se = g == null ? void 0 : g.duration) != null ? Se : m, className: g == null ? void 0 : g.className, descriptionClassName: g == null ? void 0 : g.descriptionClassName, invert: r, visibleToasts: x, closeButton: (ve = g == null ? void 0 : g.closeButton) != null ? ve : a, interacting: R, position: G, style: g == null ? void 0 : g.style, unstyled: g == null ? void 0 : g.unstyled, classNames: g == null ? void 0 : g.classNames, cancelButtonStyle: g == null ? void 0 : g.cancelButtonStyle, actionButtonStyle: g == null ? void 0 : g.actionButtonStyle, removeToast: Y, toasts: _.filter(pe => pe.position == B.position), heights: E.filter(pe => pe.position == B.position), setHeights: P, expandByDefault: o, gap: v, loadingIcon: y, expanded: L, pauseWhenPageIsHidden: S, swipeDirections: e.swipeDirections }) })) : null })) }); const lP = ({ ...e }) => { const { theme: t = "system" } = I2(); return i.jsx(aP, { theme: t, className: "toaster group", toastOptions: { classNames: { toast: "group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg", description: "group-[.toast]:text-muted-foreground", actionButton: "group-[.toast]:bg-primary group-[.toast]:text-primary-foreground", cancelButton: "group-[.toast]:bg-muted group-[.toast]:text-muted-foreground" } }, ...e }) }; var cP = ou[" useId ".trim().toString()] || (() => { }), uP = 0; function ss(e) { const [t, r] = f.useState(cP()); return Ve(() => { r(n => n ?? String(uP++)) }, [e]), t ? `radix-${t}` : "" } const dP = ["top", "right", "bottom", "left"], cs = Math.min, Ft = Math.max, Dc = Math.round, Nl = Math.floor, Hr = e => ({ x: e, y: e }), hP = { left: "right", right: "left", bottom: "top", top: "bottom" }, fP = { start: "end", end: "start" }; function ef(e, t, r) { return Ft(e, cs(t, r)) } function gn(e, t) { return typeof e == "function" ? e(t) : e } function vn(e) { return e.split("-")[0] } function ki(e) { return e.split("-")[1] } function Vp(e) { return e === "x" ? "y" : "x" } function Hp(e) { return e === "y" ? "height" : "width" } const pP = new Set(["top", "bottom"]); function Ur(e) { return pP.has(vn(e)) ? "y" : "x" } function Wp(e) { return Vp(Ur(e)) } function mP(e, t, r) { r === void 0 && (r = !1); const n = ki(e), s = Wp(e), o = Hp(s); let a = s === "x" ? n === (r ? "end" : "start") ? "right" : "left" : n === "start" ? "bottom" : "top"; return t.reference[o] > t.floating[o] && (a = Lc(a)), [a, Lc(a)] } function gP(e) { const t = Lc(e); return [tf(e), t, tf(t)] } function tf(e) { return e.replace(/start|end/g, t => fP[t]) } const jv = ["left", "right"], Sv = ["right", "left"], vP = ["top", "bottom"], yP = ["bottom", "top"]; function xP(e, t, r) { switch (e) { case "top": case "bottom": return r ? t ? Sv : jv : t ? jv : Sv; case "left": case "right": return t ? vP : yP; default: return [] } } function wP(e, t, r, n) { const s = ki(e); let o = xP(vn(e), r === "start", n); return s && (o = o.map(a => a + "-" + s), t && (o = o.concat(o.map(tf)))), o } function Lc(e) { return e.replace(/left|right|bottom|top/g, t => hP[t]) } function bP(e) { return { top: 0, right: 0, bottom: 0, left: 0, ...e } } function sb(e) { return typeof e != "number" ? bP(e) : { top: e, right: e, bottom: e, left: e } } function $c(e) { const { x: t, y: r, width: n, height: s } = e; return { width: n, height: s, top: r, left: t, right: t + n, bottom: r + s, x: t, y: r } } function _v(e, t, r) { let { reference: n, floating: s } = e; const o = Ur(t), a = Wp(t), l = Hp(a), c = vn(t), u = o === "y", d = n.x + n.width / 2 - s.width / 2, p = n.y + n.height / 2 - s.height / 2, m = n[l] / 2 - s[l] / 2; let h; switch (c) { case "top": h = { x: d, y: n.y - s.height }; break; case "bottom": h = { x: d, y: n.y + n.height }; break; case "right": h = { x: n.x + n.width, y: p }; break; case "left": h = { x: n.x - s.width, y: p }; break; default: h = { x: n.x, y: n.y } }switch (ki(t)) { case "start": h[a] -= m * (r && u ? -1 : 1); break; case "end": h[a] += m * (r && u ? -1 : 1); break }return h } const jP = async (e, t, r) => { const { placement: n = "bottom", strategy: s = "absolute", middleware: o = [], platform: a } = r, l = o.filter(Boolean), c = await (a.isRTL == null ? void 0 : a.isRTL(t)); let u = await a.getElementRects({ reference: e, floating: t, strategy: s }), { x: d, y: p } = _v(u, n, c), m = n, h = {}, x = 0; for (let g = 0; g < l.length; g++) { const { name: b, fn: v } = l[g], { x: y, y: w, data: j, reset: S } = await v({ x: d, y: p, initialPlacement: n, placement: m, strategy: s, middlewareData: h, rects: u, platform: a, elements: { reference: e, floating: t } }); d = y ?? d, p = w ?? p, h = { ...h, [b]: { ...h[b], ...j } }, S && x <= 50 && (x++, typeof S == "object" && (S.placement && (m = S.placement), S.rects && (u = S.rects === !0 ? await a.getElementRects({ reference: e, floating: t, strategy: s }) : S.rects), { x: d, y: p } = _v(u, m, c)), g = -1) } return { x: d, y: p, placement: m, strategy: s, middlewareData: h } }; async function Pa(e, t) { var r; t === void 0 && (t = {}); const { x: n, y: s, platform: o, rects: a, elements: l, strategy: c } = e, { boundary: u = "clippingAncestors", rootBoundary: d = "viewport", elementContext: p = "floating", altBoundary: m = !1, padding: h = 0 } = gn(t, e), x = sb(h), b = l[m ? p === "floating" ? "reference" : "floating" : p], v = $c(await o.getClippingRect({ element: (r = await (o.isElement == null ? void 0 : o.isElement(b))) == null || r ? b : b.contextElement || await (o.getDocumentElement == null ? void 0 : o.getDocumentElement(l.floating)), boundary: u, rootBoundary: d, strategy: c })), y = p === "floating" ? { x: n, y: s, width: a.floating.width, height: a.floating.height } : a.reference, w = await (o.getOffsetParent == null ? void 0 : o.getOffsetParent(l.floating)), j = await (o.isElement == null ? void 0 : o.isElement(w)) ? await (o.getScale == null ? void 0 : o.getScale(w)) || { x: 1, y: 1 } : { x: 1, y: 1 }, S = $c(o.convertOffsetParentRelativeRectToViewportRelativeRect ? await o.convertOffsetParentRelativeRectToViewportRelativeRect({ elements: l, rect: y, offsetParent: w, strategy: c }) : y); return { top: (v.top - S.top + x.top) / j.y, bottom: (S.bottom - v.bottom + x.bottom) / j.y, left: (v.left - S.left + x.left) / j.x, right: (S.right - v.right + x.right) / j.x } } const SP = e => ({ name: "arrow", options: e, async fn(t) { const { x: r, y: n, placement: s, rects: o, platform: a, elements: l, middlewareData: c } = t, { element: u, padding: d = 0 } = gn(e, t) || {}; if (u == null) return {}; const p = sb(d), m = { x: r, y: n }, h = Wp(s), x = Hp(h), g = await a.getDimensions(u), b = h === "y", v = b ? "top" : "left", y = b ? "bottom" : "right", w = b ? "clientHeight" : "clientWidth", j = o.reference[x] + o.reference[h] - m[h] - o.floating[x], S = m[h] - o.reference[h], _ = await (a.getOffsetParent == null ? void 0 : a.getOffsetParent(u)); let C = _ ? _[w] : 0; (!C || !await (a.isElement == null ? void 0 : a.isElement(_))) && (C = l.floating[w] || o.floating[x]); const k = j / 2 - S / 2, E = C / 2 - g[x] / 2 - 1, P = cs(p[v], E), L = cs(p[y], E), T = P, R = C - g[x] - L, O = C / 2 - g[x] / 2 + k, U = ef(T, O, R), z = !c.arrow && ki(s) != null && O !== U && o.reference[x] / 2 - (O < T ? P : L) - g[x] / 2 < 0, K = z ? O < T ? O - T : O - R : 0; return { [h]: m[h] + K, data: { [h]: U, centerOffset: O - U - K, ...z && { alignmentOffset: K } }, reset: z } } }), _P = function (e) { return e === void 0 && (e = {}), { name: "flip", options: e, async fn(t) { var r, n; const { placement: s, middlewareData: o, rects: a, initialPlacement: l, platform: c, elements: u } = t, { mainAxis: d = !0, crossAxis: p = !0, fallbackPlacements: m, fallbackStrategy: h = "bestFit", fallbackAxisSideDirection: x = "none", flipAlignment: g = !0, ...b } = gn(e, t); if ((r = o.arrow) != null && r.alignmentOffset) return {}; const v = vn(s), y = Ur(l), w = vn(l) === l, j = await (c.isRTL == null ? void 0 : c.isRTL(u.floating)), S = m || (w || !g ? [Lc(l)] : gP(l)), _ = x !== "none"; !m && _ && S.push(...wP(l, g, x, j)); const C = [l, ...S], k = await Pa(t, b), E = []; let P = ((n = o.flip) == null ? void 0 : n.overflows) || []; if (d && E.push(k[v]), p) { const O = mP(s, a, j); E.push(k[O[0]], k[O[1]]) } if (P = [...P, { placement: s, overflows: E }], !E.every(O => O <= 0)) { var L, T; const O = (((L = o.flip) == null ? void 0 : L.index) || 0) + 1, U = C[O]; if (U && (!(p === "alignment" ? y !== Ur(U) : !1) || P.every(I => Ur(I.placement) === y ? I.overflows[0] > 0 : !0))) return { data: { index: O, overflows: P }, reset: { placement: U } }; let z = (T = P.filter(K => K.overflows[0] <= 0).sort((K, I) => K.overflows[1] - I.overflows[1])[0]) == null ? void 0 : T.placement; if (!z) switch (h) { case "bestFit": { var R; const K = (R = P.filter(I => { if (_) { const N = Ur(I.placement); return N === y || N === "y" } return !0 }).map(I => [I.placement, I.overflows.filter(N => N > 0).reduce((N, $) => N + $, 0)]).sort((I, N) => I[1] - N[1])[0]) == null ? void 0 : R[0]; K && (z = K); break } case "initialPlacement": z = l; break }if (s !== z) return { reset: { placement: z } } } return {} } } }; function Nv(e, t) { return { top: e.top - t.height, right: e.right - t.width, bottom: e.bottom - t.height, left: e.left - t.width } } function Ev(e) { return dP.some(t => e[t] >= 0) } const NP = function (e) { return e === void 0 && (e = {}), { name: "hide", options: e, async fn(t) { const { rects: r } = t, { strategy: n = "referenceHidden", ...s } = gn(e, t); switch (n) { case "referenceHidden": { const o = await Pa(t, { ...s, elementContext: "reference" }), a = Nv(o, r.reference); return { data: { referenceHiddenOffsets: a, referenceHidden: Ev(a) } } } case "escaped": { const o = await Pa(t, { ...s, altBoundary: !0 }), a = Nv(o, r.floating); return { data: { escapedOffsets: a, escaped: Ev(a) } } } default: return {} } } } }, ob = new Set(["left", "top"]); async function EP(e, t) { const { placement: r, platform: n, elements: s } = e, o = await (n.isRTL == null ? void 0 : n.isRTL(s.floating)), a = vn(r), l = ki(r), c = Ur(r) === "y", u = ob.has(a) ? -1 : 1, d = o && c ? -1 : 1, p = gn(t, e); let { mainAxis: m, crossAxis: h, alignmentAxis: x } = typeof p == "number" ? { mainAxis: p, crossAxis: 0, alignmentAxis: null } : { mainAxis: p.mainAxis || 0, crossAxis: p.crossAxis || 0, alignmentAxis: p.alignmentAxis }; return l && typeof x == "number" && (h = l === "end" ? x * -1 : x), c ? { x: h * d, y: m * u } : { x: m * u, y: h * d } } const CP = function (e) { return e === void 0 && (e = 0), { name: "offset", options: e, async fn(t) { var r, n; const { x: s, y: o, placement: a, middlewareData: l } = t, c = await EP(t, e); return a === ((r = l.offset) == null ? void 0 : r.placement) && (n = l.arrow) != null && n.alignmentOffset ? {} : { x: s + c.x, y: o + c.y, data: { ...c, placement: a } } } } }, kP = function (e) { return e === void 0 && (e = {}), { name: "shift", options: e, async fn(t) { const { x: r, y: n, placement: s } = t, { mainAxis: o = !0, crossAxis: a = !1, limiter: l = { fn: b => { let { x: v, y } = b; return { x: v, y } } }, ...c } = gn(e, t), u = { x: r, y: n }, d = await Pa(t, c), p = Ur(vn(s)), m = Vp(p); let h = u[m], x = u[p]; if (o) { const b = m === "y" ? "top" : "left", v = m === "y" ? "bottom" : "right", y = h + d[b], w = h - d[v]; h = ef(y, h, w) } if (a) { const b = p === "y" ? "top" : "left", v = p === "y" ? "bottom" : "right", y = x + d[b], w = x - d[v]; x = ef(y, x, w) } const g = l.fn({ ...t, [m]: h, [p]: x }); return { ...g, data: { x: g.x - r, y: g.y - n, enabled: { [m]: o, [p]: a } } } } } }, PP = function (e) { return e === void 0 && (e = {}), { options: e, fn(t) { const { x: r, y: n, placement: s, rects: o, middlewareData: a } = t, { offset: l = 0, mainAxis: c = !0, crossAxis: u = !0 } = gn(e, t), d = { x: r, y: n }, p = Ur(s), m = Vp(p); let h = d[m], x = d[p]; const g = gn(l, t), b = typeof g == "number" ? { mainAxis: g, crossAxis: 0 } : { mainAxis: 0, crossAxis: 0, ...g }; if (c) { const w = m === "y" ? "height" : "width", j = o.reference[m] - o.floating[w] + b.mainAxis, S = o.reference[m] + o.reference[w] - b.mainAxis; h < j ? h = j : h > S && (h = S) } if (u) { var v, y; const w = m === "y" ? "width" : "height", j = ob.has(vn(s)), S = o.reference[p] - o.floating[w] + (j && ((v = a.offset) == null ? void 0 : v[p]) || 0) + (j ? 0 : b.crossAxis), _ = o.reference[p] + o.reference[w] + (j ? 0 : ((y = a.offset) == null ? void 0 : y[p]) || 0) - (j ? b.crossAxis : 0); x < S ? x = S : x > _ && (x = _) } return { [m]: h, [p]: x } } } }, TP = function (e) { return e === void 0 && (e = {}), { name: "size", options: e, async fn(t) { var r, n; const { placement: s, rects: o, platform: a, elements: l } = t, { apply: c = () => { }, ...u } = gn(e, t), d = await Pa(t, u), p = vn(s), m = ki(s), h = Ur(s) === "y", { width: x, height: g } = o.floating; let b, v; p === "top" || p === "bottom" ? (b = p, v = m === (await (a.isRTL == null ? void 0 : a.isRTL(l.floating)) ? "start" : "end") ? "left" : "right") : (v = p, b = m === "end" ? "top" : "bottom"); const y = g - d.top - d.bottom, w = x - d.left - d.right, j = cs(g - d[b], y), S = cs(x - d[v], w), _ = !t.middlewareData.shift; let C = j, k = S; if ((r = t.middlewareData.shift) != null && r.enabled.x && (k = w), (n = t.middlewareData.shift) != null && n.enabled.y && (C = y), _ && !m) { const P = Ft(d.left, 0), L = Ft(d.right, 0), T = Ft(d.top, 0), R = Ft(d.bottom, 0); h ? k = x - 2 * (P !== 0 || L !== 0 ? P + L : Ft(d.left, d.right)) : C = g - 2 * (T !== 0 || R !== 0 ? T + R : Ft(d.top, d.bottom)) } await c({ ...t, availableWidth: k, availableHeight: C }); const E = await a.getDimensions(l.floating); return x !== E.width || g !== E.height ? { reset: { rects: !0 } } : {} } } }; function Nu() { return typeof window < "u" } function Pi(e) { return ib(e) ? (e.nodeName || "").toLowerCase() : "#document" } function Vt(e) { var t; return (e == null || (t = e.ownerDocument) == null ? void 0 : t.defaultView) || window } function Yr(e) { var t; return (t = (ib(e) ? e.ownerDocument : e.document) || window.document) == null ? void 0 : t.documentElement } function ib(e) { return Nu() ? e instanceof Node || e instanceof Vt(e).Node : !1 } function Sr(e) { return Nu() ? e instanceof Element || e instanceof Vt(e).Element : !1 } function Wr(e) { return Nu() ? e instanceof HTMLElement || e instanceof Vt(e).HTMLElement : !1 } function Cv(e) { return !Nu() || typeof ShadowRoot > "u" ? !1 : e instanceof ShadowRoot || e instanceof Vt(e).ShadowRoot } const RP = new Set(["inline", "contents"]); function Qa(e) { const { overflow: t, overflowX: r, overflowY: n, display: s } = _r(e); return /auto|scroll|overlay|hidden|clip/.test(t + n + r) && !RP.has(s) } const AP = new Set(["table", "td", "th"]); function OP(e) { return AP.has(Pi(e)) } const IP = [":popover-open", ":modal"]; function Eu(e) { return IP.some(t => { try { return e.matches(t) } catch { return !1 } }) } const DP = ["transform", "translate", "scale", "rotate", "perspective"], LP = ["transform", "translate", "scale", "rotate", "perspective", "filter"], $P = ["paint", "layout", "strict", "content"]; function qp(e) { const t = Kp(), r = Sr(e) ? _r(e) : e; return DP.some(n => r[n] ? r[n] !== "none" : !1) || (r.containerType ? r.containerType !== "normal" : !1) || !t && (r.backdropFilter ? r.backdropFilter !== "none" : !1) || !t && (r.filter ? r.filter !== "none" : !1) || LP.some(n => (r.willChange || "").includes(n)) || $P.some(n => (r.contain || "").includes(n)) } function MP(e) { let t = us(e); for (; Wr(t) && !fi(t);) { if (qp(t)) return t; if (Eu(t)) return null; t = us(t) } return null } function Kp() { return typeof CSS > "u" || !CSS.supports ? !1 : CSS.supports("-webkit-backdrop-filter", "none") } const FP = new Set(["html", "body", "#document"]); function fi(e) { return FP.has(Pi(e)) } function _r(e) { return Vt(e).getComputedStyle(e) } function Cu(e) { return Sr(e) ? { scrollLeft: e.scrollLeft, scrollTop: e.scrollTop } : { scrollLeft: e.scrollX, scrollTop: e.scrollY } } function us(e) { if (Pi(e) === "html") return e; const t = e.assignedSlot || e.parentNode || Cv(e) && e.host || Yr(e); return Cv(t) ? t.host : t } function ab(e) { const t = us(e); return fi(t) ? e.ownerDocument ? e.ownerDocument.body : e.body : Wr(t) && Qa(t) ? t : ab(t) } function Ta(e, t, r) { var n; t === void 0 && (t = []), r === void 0 && (r = !0); const s = ab(e), o = s === ((n = e.ownerDocument) == null ? void 0 : n.body), a = Vt(s); if (o) { const l = rf(a); return t.concat(a, a.visualViewport || [], Qa(s) ? s : [], l && r ? Ta(l) : []) } return t.concat(s, Ta(s, [], r)) } function rf(e) { return e.parent && Object.getPrototypeOf(e.parent) ? e.frameElement : null } function lb(e) { const t = _r(e); let r = parseFloat(t.width) || 0, n = parseFloat(t.height) || 0; const s = Wr(e), o = s ? e.offsetWidth : r, a = s ? e.offsetHeight : n, l = Dc(r) !== o || Dc(n) !== a; return l && (r = o, n = a), { width: r, height: n, $: l } } function Gp(e) { return Sr(e) ? e : e.contextElement } function Ko(e) { const t = Gp(e); if (!Wr(t)) return Hr(1); const r = t.getBoundingClientRect(), { width: n, height: s, $: o } = lb(t); let a = (o ? Dc(r.width) : r.width) / n, l = (o ? Dc(r.height) : r.height) / s; return (!a || !Number.isFinite(a)) && (a = 1), (!l || !Number.isFinite(l)) && (l = 1), { x: a, y: l } } const UP = Hr(0); function cb(e) { const t = Vt(e); return !Kp() || !t.visualViewport ? UP : { x: t.visualViewport.offsetLeft, y: t.visualViewport.offsetTop } } function zP(e, t, r) { return t === void 0 && (t = !1), !r || t && r !== Vt(e) ? !1 : t } function io(e, t, r, n) { t === void 0 && (t = !1), r === void 0 && (r = !1); const s = e.getBoundingClientRect(), o = Gp(e); let a = Hr(1); t && (n ? Sr(n) && (a = Ko(n)) : a = Ko(e)); const l = zP(o, r, n) ? cb(o) : Hr(0); let c = (s.left + l.x) / a.x, u = (s.top + l.y) / a.y, d = s.width / a.x, p = s.height / a.y; if (o) { const m = Vt(o), h = n && Sr(n) ? Vt(n) : n; let x = m, g = rf(x); for (; g && n && h !== x;) { const b = Ko(g), v = g.getBoundingClientRect(), y = _r(g), w = v.left + (g.clientLeft + parseFloat(y.paddingLeft)) * b.x, j = v.top + (g.clientTop + parseFloat(y.paddingTop)) * b.y; c *= b.x, u *= b.y, d *= b.x, p *= b.y, c += w, u += j, x = Vt(g), g = rf(x) } } return $c({ width: d, height: p, x: c, y: u }) } function ku(e, t) { const r = Cu(e).scrollLeft; return t ? t.left + r : io(Yr(e)).left + r } function ub(e, t) { const r = e.getBoundingClientRect(), n = r.left + t.scrollLeft - ku(e, r), s = r.top + t.scrollTop; return { x: n, y: s } } function BP(e) { let { elements: t, rect: r, offsetParent: n, strategy: s } = e; const o = s === "fixed", a = Yr(n), l = t ? Eu(t.floating) : !1; if (n === a || l && o) return r; let c = { scrollLeft: 0, scrollTop: 0 }, u = Hr(1); const d = Hr(0), p = Wr(n); if ((p || !p && !o) && ((Pi(n) !== "body" || Qa(a)) && (c = Cu(n)), Wr(n))) { const h = io(n); u = Ko(n), d.x = h.x + n.clientLeft, d.y = h.y + n.clientTop } const m = a && !p && !o ? ub(a, c) : Hr(0); return { width: r.width * u.x, height: r.height * u.y, x: r.x * u.x - c.scrollLeft * u.x + d.x + m.x, y: r.y * u.y - c.scrollTop * u.y + d.y + m.y } } function VP(e) { return Array.from(e.getClientRects()) } function HP(e) { const t = Yr(e), r = Cu(e), n = e.ownerDocument.body, s = Ft(t.scrollWidth, t.clientWidth, n.scrollWidth, n.clientWidth), o = Ft(t.scrollHeight, t.clientHeight, n.scrollHeight, n.clientHeight); let a = -r.scrollLeft + ku(e); const l = -r.scrollTop; return _r(n).direction === "rtl" && (a += Ft(t.clientWidth, n.clientWidth) - s), { width: s, height: o, x: a, y: l } } const kv = 25; function WP(e, t) { const r = Vt(e), n = Yr(e), s = r.visualViewport; let o = n.clientWidth, a = n.clientHeight, l = 0, c = 0; if (s) { o = s.width, a = s.height; const d = Kp(); (!d || d && t === "fixed") && (l = s.offsetLeft, c = s.offsetTop) } const u = ku(n); if (u <= 0) { const d = n.ownerDocument, p = d.body, m = getComputedStyle(p), h = d.compatMode === "CSS1Compat" && parseFloat(m.marginLeft) + parseFloat(m.marginRight) || 0, x = Math.abs(n.clientWidth - p.clientWidth - h); x <= kv && (o -= x) } else u <= kv && (o += u); return { width: o, height: a, x: l, y: c } } const qP = new Set(["absolute", "fixed"]); function KP(e, t) { const r = io(e, !0, t === "fixed"), n = r.top + e.clientTop, s = r.left + e.clientLeft, o = Wr(e) ? Ko(e) : Hr(1), a = e.clientWidth * o.x, l = e.clientHeight * o.y, c = s * o.x, u = n * o.y; return { width: a, height: l, x: c, y: u } } function Pv(e, t, r) { let n; if (t === "viewport") n = WP(e, r); else if (t === "document") n = HP(Yr(e)); else if (Sr(t)) n = KP(t, r); else { const s = cb(e); n = { x: t.x - s.x, y: t.y - s.y, width: t.width, height: t.height } } return $c(n) } function db(e, t) { const r = us(e); return r === t || !Sr(r) || fi(r) ? !1 : _r(r).position === "fixed" || db(r, t) } function GP(e, t) { const r = t.get(e); if (r) return r; let n = Ta(e, [], !1).filter(l => Sr(l) && Pi(l) !== "body"), s = null; const o = _r(e).position === "fixed"; let a = o ? us(e) : e; for (; Sr(a) && !fi(a);) { const l = _r(a), c = qp(a); !c && l.position === "fixed" && (s = null), (o ? !c && !s : !c && l.position === "static" && !!s && qP.has(s.position) || Qa(a) && !c && db(e, a)) ? n = n.filter(d => d !== a) : s = l, a = us(a) } return t.set(e, n), n } function YP(e) { let { element: t, boundary: r, rootBoundary: n, strategy: s } = e; const a = [...r === "clippingAncestors" ? Eu(t) ? [] : GP(t, this._c) : [].concat(r), n], l = a[0], c = a.reduce((u, d) => { const p = Pv(t, d, s); return u.top = Ft(p.top, u.top), u.right = cs(p.right, u.right), u.bottom = cs(p.bottom, u.bottom), u.left = Ft(p.left, u.left), u }, Pv(t, l, s)); return { width: c.right - c.left, height: c.bottom - c.top, x: c.left, y: c.top } } function QP(e) { const { width: t, height: r } = lb(e); return { width: t, height: r } } function JP(e, t, r) { const n = Wr(t), s = Yr(t), o = r === "fixed", a = io(e, !0, o, t); let l = { scrollLeft: 0, scrollTop: 0 }; const c = Hr(0); function u() { c.x = ku(s) } if (n || !n && !o) if ((Pi(t) !== "body" || Qa(s)) && (l = Cu(t)), n) { const h = io(t, !0, o, t); c.x = h.x + t.clientLeft, c.y = h.y + t.clientTop } else s && u(); o && !n && s && u(); const d = s && !n && !o ? ub(s, l) : Hr(0), p = a.left + l.scrollLeft - c.x - d.x, m = a.top + l.scrollTop - c.y - d.y; return { x: p, y: m, width: a.width, height: a.height } } function Ld(e) { return _r(e).position === "static" } function Tv(e, t) { if (!Wr(e) || _r(e).position === "fixed") return null; if (t) return t(e); let r = e.offsetParent; return Yr(e) === r && (r = r.ownerDocument.body), r } function hb(e, t) { const r = Vt(e); if (Eu(e)) return r; if (!Wr(e)) { let s = us(e); for (; s && !fi(s);) { if (Sr(s) && !Ld(s)) return s; s = us(s) } return r } let n = Tv(e, t); for (; n && OP(n) && Ld(n);)n = Tv(n, t); return n && fi(n) && Ld(n) && !qp(n) ? r : n || MP(e) || r } const XP = async function (e) { const t = this.getOffsetParent || hb, r = this.getDimensions, n = await r(e.floating); return { reference: JP(e.reference, await t(e.floating), e.strategy), floating: { x: 0, y: 0, width: n.width, height: n.height } } }; function ZP(e) { return _r(e).direction === "rtl" } const eT = { convertOffsetParentRelativeRectToViewportRelativeRect: BP, getDocumentElement: Yr, getClippingRect: YP, getOffsetParent: hb, getElementRects: XP, getClientRects: VP, getDimensions: QP, getScale: Ko, isElement: Sr, isRTL: ZP }; function fb(e, t) { return e.x === t.x && e.y === t.y && e.width === t.width && e.height === t.height } function tT(e, t) { let r = null, n; const s = Yr(e); function o() { var l; clearTimeout(n), (l = r) == null || l.disconnect(), r = null } function a(l, c) { l === void 0 && (l = !1), c === void 0 && (c = 1), o(); const u = e.getBoundingClientRect(), { left: d, top: p, width: m, height: h } = u; if (l || t(), !m || !h) return; const x = Nl(p), g = Nl(s.clientWidth - (d + m)), b = Nl(s.clientHeight - (p + h)), v = Nl(d), w = { rootMargin: -x + "px " + -g + "px " + -b + "px " + -v + "px", threshold: Ft(0, cs(1, c)) || 1 }; let j = !0; function S(_) { const C = _[0].intersectionRatio; if (C !== c) { if (!j) return a(); C ? a(!1, C) : n = setTimeout(() => { a(!1, 1e-7) }, 1e3) } C === 1 && !fb(u, e.getBoundingClientRect()) && a(), j = !1 } try { r = new IntersectionObserver(S, { ...w, root: s.ownerDocument }) } catch { r = new IntersectionObserver(S, w) } r.observe(e) } return a(!0), o } function rT(e, t, r, n) { n === void 0 && (n = {}); const { ancestorScroll: s = !0, ancestorResize: o = !0, elementResize: a = typeof ResizeObserver == "function", layoutShift: l = typeof IntersectionObserver == "function", animationFrame: c = !1 } = n, u = Gp(e), d = s || o ? [...u ? Ta(u) : [], ...Ta(t)] : []; d.forEach(v => { s && v.addEventListener("scroll", r, { passive: !0 }), o && v.addEventListener("resize", r) }); const p = u && l ? tT(u, r) : null; let m = -1, h = null; a && (h = new ResizeObserver(v => { let [y] = v; y && y.target === u && h && (h.unobserve(t), cancelAnimationFrame(m), m = requestAnimationFrame(() => { var w; (w = h) == null || w.observe(t) })), r() }), u && !c && h.observe(u), h.observe(t)); let x, g = c ? io(e) : null; c && b(); function b() { const v = io(e); g && !fb(g, v) && r(), g = v, x = requestAnimationFrame(b) } return r(), () => { var v; d.forEach(y => { s && y.removeEventListener("scroll", r), o && y.removeEventListener("resize", r) }), p == null || p(), (v = h) == null || v.disconnect(), h = null, c && cancelAnimationFrame(x) } } const nT = CP, sT = kP, oT = _P, iT = TP, aT = NP, Rv = SP, lT = PP, cT = (e, t, r) => { const n = new Map, s = { platform: eT, ...r }, o = { ...s.platform, _c: n }; return jP(e, t, { ...s, platform: o }) }; var uT = typeof document < "u", dT = function () { }, rc = uT ? f.useLayoutEffect : dT; function Mc(e, t) { if (e === t) return !0; if (typeof e != typeof t) return !1; if (typeof e == "function" && e.toString() === t.toString()) return !0; let r, n, s; if (e && t && typeof e == "object") { if (Array.isArray(e)) { if (r = e.length, r !== t.length) return !1; for (n = r; n-- !== 0;)if (!Mc(e[n], t[n])) return !1; return !0 } if (s = Object.keys(e), r = s.length, r !== Object.keys(t).length) return !1; for (n = r; n-- !== 0;)if (!{}.hasOwnProperty.call(t, s[n])) return !1; for (n = r; n-- !== 0;) { const o = s[n]; if (!(o === "_owner" && e.$$typeof) && !Mc(e[o], t[o])) return !1 } return !0 } return e !== e && t !== t } function pb(e) { return typeof window > "u" ? 1 : (e.ownerDocument.defaultView || window).devicePixelRatio || 1 } function Av(e, t) { const r = pb(e); return Math.round(t * r) / r } function $d(e) { const t = f.useRef(e); return rc(() => { t.current = e }), t } function hT(e) { e === void 0 && (e = {}); const { placement: t = "bottom", strategy: r = "absolute", middleware: n = [], platform: s, elements: { reference: o, floating: a } = {}, transform: l = !0, whileElementsMounted: c, open: u } = e, [d, p] = f.useState({ x: 0, y: 0, strategy: r, placement: t, middlewareData: {}, isPositioned: !1 }), [m, h] = f.useState(n); Mc(m, n) || h(n); const [x, g] = f.useState(null), [b, v] = f.useState(null), y = f.useCallback(I => { I !== _.current && (_.current = I, g(I)) }, []), w = f.useCallback(I => { I !== C.current && (C.current = I, v(I)) }, []), j = o || x, S = a || b, _ = f.useRef(null), C = f.useRef(null), k = f.useRef(d), E = c != null, P = $d(c), L = $d(s), T = $d(u), R = f.useCallback(() => { if (!_.current || !C.current) return; const I = { placement: t, strategy: r, middleware: m }; L.current && (I.platform = L.current), cT(_.current, C.current, I).then(N => { const $ = { ...N, isPositioned: T.current !== !1 }; O.current && !Mc(k.current, $) && (k.current = $, po.flushSync(() => { p($) })) }) }, [m, t, r, L, T]); rc(() => { u === !1 && k.current.isPositioned && (k.current.isPositioned = !1, p(I => ({ ...I, isPositioned: !1 }))) }, [u]); const O = f.useRef(!1); rc(() => (O.current = !0, () => { O.current = !1 }), []), rc(() => { if (j && (_.current = j), S && (C.current = S), j && S) { if (P.current) return P.current(j, S, R); R() } }, [j, S, R, P, E]); const U = f.useMemo(() => ({ reference: _, floating: C, setReference: y, setFloating: w }), [y, w]), z = f.useMemo(() => ({ reference: j, floating: S }), [j, S]), K = f.useMemo(() => { const I = { position: r, left: 0, top: 0 }; if (!z.floating) return I; const N = Av(z.floating, d.x), $ = Av(z.floating, d.y); return l ? { ...I, transform: "translate(" + N + "px, " + $ + "px)", ...pb(z.floating) >= 1.5 && { willChange: "transform" } } : { position: r, left: N, top: $ } }, [r, l, z.floating, d.x, d.y]); return f.useMemo(() => ({ ...d, update: R, refs: U, elements: z, floatingStyles: K }), [d, R, U, z, K]) } const fT = e => { function t(r) { return {}.hasOwnProperty.call(r, "current") } return { name: "arrow", options: e, fn(r) { const { element: n, padding: s } = typeof e == "function" ? e(r) : e; return n && t(n) ? n.current != null ? Rv({ element: n.current, padding: s }).fn(r) : {} : n ? Rv({ element: n, padding: s }).fn(r) : {} } } }, pT = (e, t) => ({ ...nT(e), options: [e, t] }), mT = (e, t) => ({ ...sT(e), options: [e, t] }), gT = (e, t) => ({ ...lT(e), options: [e, t] }), vT = (e, t) => ({ ...oT(e), options: [e, t] }), yT = (e, t) => ({ ...iT(e), options: [e, t] }), xT = (e, t) => ({ ...aT(e), options: [e, t] }), wT = (e, t) => ({ ...fT(e), options: [e, t] }); var bT = "Arrow", mb = f.forwardRef((e, t) => { const { children: r, width: n = 10, height: s = 5, ...o } = e; return i.jsx(ce.svg, { ...o, ref: t, width: n, height: s, viewBox: "0 0 30 10", preserveAspectRatio: "none", children: e.asChild ? r : i.jsx("polygon", { points: "0,0 30,0 15,10" }) }) }); mb.displayName = bT; var jT = mb; function gb(e) { const [t, r] = f.useState(void 0); return Ve(() => { if (e) { r({ width: e.offsetWidth, height: e.offsetHeight }); const n = new ResizeObserver(s => { if (!Array.isArray(s) || !s.length) return; const o = s[0]; let a, l; if ("borderBoxSize" in o) { const c = o.borderBoxSize, u = Array.isArray(c) ? c[0] : c; a = u.inlineSize, l = u.blockSize } else a = e.offsetWidth, l = e.offsetHeight; r({ width: a, height: l }) }); return n.observe(e, { box: "border-box" }), () => n.unobserve(e) } else r(void 0) }, [e]), t } var Yp = "Popper", [vb, Pu] = Gr(Yp), [ST, yb] = vb(Yp), xb = e => { const { __scopePopper: t, children: r } = e, [n, s] = f.useState(null); return i.jsx(ST, { scope: t, anchor: n, onAnchorChange: s, children: r }) }; xb.displayName = Yp; var wb = "PopperAnchor", bb = f.forwardRef((e, t) => { const { __scopePopper: r, virtualRef: n, ...s } = e, o = yb(wb, r), a = f.useRef(null), l = we(t, a), c = f.useRef(null); return f.useEffect(() => { const u = c.current; c.current = (n == null ? void 0 : n.current) || a.current, u !== c.current && o.onAnchorChange(c.current) }), n ? null : i.jsx(ce.div, { ...s, ref: l }) }); bb.displayName = wb; var Qp = "PopperContent", [_T, NT] = vb(Qp), jb = f.forwardRef((e, t) => { var B, he, Se, ve, pe, me; const { __scopePopper: r, side: n = "bottom", sideOffset: s = 0, align: o = "center", alignOffset: a = 0, arrowPadding: l = 0, avoidCollisions: c = !0, collisionBoundary: u = [], collisionPadding: d = 0, sticky: p = "partial", hideWhenDetached: m = !1, updatePositionStrategy: h = "optimized", onPlaced: x, ...g } = e, b = yb(Qp, r), [v, y] = f.useState(null), w = we(t, et => y(et)), [j, S] = f.useState(null), _ = gb(j), C = (_ == null ? void 0 : _.width) ?? 0, k = (_ == null ? void 0 : _.height) ?? 0, E = n + (o !== "center" ? "-" + o : ""), P = typeof d == "number" ? d : { top: 0, right: 0, bottom: 0, left: 0, ...d }, L = Array.isArray(u) ? u : [u], T = L.length > 0, R = { padding: P, boundary: L.filter(CT), altBoundary: T }, { refs: O, floatingStyles: U, placement: z, isPositioned: K, middlewareData: I } = hT({ strategy: "fixed", placement: E, whileElementsMounted: (...et) => rT(...et, { animationFrame: h === "always" }), elements: { reference: b.anchor }, middleware: [pT({ mainAxis: s + k, alignmentAxis: a }), c && mT({ mainAxis: !0, crossAxis: !1, limiter: p === "partial" ? gT() : void 0, ...R }), c && vT({ ...R }), yT({ ...R, apply: ({ elements: et, rects: Ct, availableWidth: Jr, availableHeight: kr }) => { const { width: Xr, height: _s } = Ct.reference, Nn = et.floating.style; Nn.setProperty("--radix-popper-available-width", `${Jr}px`), Nn.setProperty("--radix-popper-available-height", `${kr}px`), Nn.setProperty("--radix-popper-anchor-width", `${Xr}px`), Nn.setProperty("--radix-popper-anchor-height", `${_s}px`) } }), j && wT({ element: j, padding: l }), kT({ arrowWidth: C, arrowHeight: k }), m && xT({ strategy: "referenceHidden", ...R })] }), [N, $] = Nb(z), Y = Xe(x); Ve(() => { K && (Y == null || Y()) }, [K, Y]); const G = (B = I.arrow) == null ? void 0 : B.x, re = (he = I.arrow) == null ? void 0 : he.y, ne = ((Se = I.arrow) == null ? void 0 : Se.centerOffset) !== 0, [be, q] = f.useState(); return Ve(() => { v && q(window.getComputedStyle(v).zIndex) }, [v]), i.jsx("div", { ref: O.setFloating, "data-radix-popper-content-wrapper": "", style: { ...U, transform: K ? U.transform : "translate(0, -200%)", minWidth: "max-content", zIndex: be, "--radix-popper-transform-origin": [(ve = I.transformOrigin) == null ? void 0 : ve.x, (pe = I.transformOrigin) == null ? void 0 : pe.y].join(" "), ...((me = I.hide) == null ? void 0 : me.referenceHidden) && { visibility: "hidden", pointerEvents: "none" } }, dir: e.dir, children: i.jsx(_T, { scope: r, placedSide: N, onArrowChange: S, arrowX: G, arrowY: re, shouldHideArrow: ne, children: i.jsx(ce.div, { "data-side": N, "data-align": $, ...g, ref: w, style: { ...g.style, animation: K ? void 0 : "none" } }) }) }) }); jb.displayName = Qp; var Sb = "PopperArrow", ET = { top: "bottom", right: "left", bottom: "top", left: "right" }, _b = f.forwardRef(function (t, r) { const { __scopePopper: n, ...s } = t, o = NT(Sb, n), a = ET[o.placedSide]; return i.jsx("span", { ref: o.onArrowChange, style: { position: "absolute", left: o.arrowX, top: o.arrowY, [a]: 0, transformOrigin: { top: "", right: "0 0", bottom: "center 0", left: "100% 0" }[o.placedSide], transform: { top: "translateY(100%)", right: "translateY(50%) rotate(90deg) translateX(-50%)", bottom: "rotate(180deg)", left: "translateY(50%) rotate(-90deg) translateX(50%)" }[o.placedSide], visibility: o.shouldHideArrow ? "hidden" : void 0 }, children: i.jsx(jT, { ...s, ref: r, style: { ...s.style, display: "block" } }) }) }); _b.displayName = Sb; function CT(e) { return e !== null } var kT = e => ({ name: "transformOrigin", options: e, fn(t) { var b, v, y; const { placement: r, rects: n, middlewareData: s } = t, a = ((b = s.arrow) == null ? void 0 : b.centerOffset) !== 0, l = a ? 0 : e.arrowWidth, c = a ? 0 : e.arrowHeight, [u, d] = Nb(r), p = { start: "0%", center: "50%", end: "100%" }[d], m = (((v = s.arrow) == null ? void 0 : v.x) ?? 0) + l / 2, h = (((y = s.arrow) == null ? void 0 : y.y) ?? 0) + c / 2; let x = "", g = ""; return u === "bottom" ? (x = a ? p : `${m}px`, g = `${-c}px`) : u === "top" ? (x = a ? p : `${m}px`, g = `${n.floating.height + c}px`) : u === "right" ? (x = `${-c}px`, g = a ? p : `${h}px`) : u === "left" && (x = `${n.floating.width + c}px`, g = a ? p : `${h}px`), { data: { x, y: g } } } }); function Nb(e) { const [t, r = "center"] = e.split("-"); return [t, r] } var PT = xb, Eb = bb, Cb = jb, kb = _b, TT = Symbol("radix.slottable"); function RT(e) { const t = ({ children: r }) => i.jsx(i.Fragment, { children: r }); return t.displayName = `${e}.Slottable`, t.__radixId = TT, t } var [Tu] = Gr("Tooltip", [Pu]), Jp = Pu(), Pb = "TooltipProvider", AT = 700, Ov = "tooltip.open", [OT, Tb] = Tu(Pb), Rb = e => { const { __scopeTooltip: t, delayDuration: r = AT, skipDelayDuration: n = 300, disableHoverableContent: s = !1, children: o } = e, a = f.useRef(!0), l = f.useRef(!1), c = f.useRef(0); return f.useEffect(() => { const u = c.current; return () => window.clearTimeout(u) }, []), i.jsx(OT, { scope: t, isOpenDelayedRef: a, delayDuration: r, onOpen: f.useCallback(() => { window.clearTimeout(c.current), a.current = !1 }, []), onClose: f.useCallback(() => { window.clearTimeout(c.current), c.current = window.setTimeout(() => a.current = !0, n) }, [n]), isPointerInTransitRef: l, onPointerInTransitChange: f.useCallback(u => { l.current = u }, []), disableHoverableContent: s, children: o }) }; Rb.displayName = Pb; var Ab = "Tooltip", [u5, Ru] = Tu(Ab), nf = "TooltipTrigger", IT = f.forwardRef((e, t) => { const { __scopeTooltip: r, ...n } = e, s = Ru(nf, r), o = Tb(nf, r), a = Jp(r), l = f.useRef(null), c = we(t, l, s.onTriggerChange), u = f.useRef(!1), d = f.useRef(!1), p = f.useCallback(() => u.current = !1, []); return f.useEffect(() => () => document.removeEventListener("pointerup", p), [p]), i.jsx(Eb, { asChild: !0, ...a, children: i.jsx(ce.button, { "aria-describedby": s.open ? s.contentId : void 0, "data-state": s.stateAttribute, ...n, ref: c, onPointerMove: se(e.onPointerMove, m => { m.pointerType !== "touch" && !d.current && !o.isPointerInTransitRef.current && (s.onTriggerEnter(), d.current = !0) }), onPointerLeave: se(e.onPointerLeave, () => { s.onTriggerLeave(), d.current = !1 }), onPointerDown: se(e.onPointerDown, () => { s.open && s.onClose(), u.current = !0, document.addEventListener("pointerup", p, { once: !0 }) }), onFocus: se(e.onFocus, () => { u.current || s.onOpen() }), onBlur: se(e.onBlur, s.onClose), onClick: se(e.onClick, s.onClose) }) }) }); IT.displayName = nf; var DT = "TooltipPortal", [d5, LT] = Tu(DT, { forceMount: void 0 }), pi = "TooltipContent", Ob = f.forwardRef((e, t) => { const r = LT(pi, e.__scopeTooltip), { forceMount: n = r.forceMount, side: s = "top", ...o } = e, a = Ru(pi, e.__scopeTooltip); return i.jsx(Nr, { present: n || a.open, children: a.disableHoverableContent ? i.jsx(Ib, { side: s, ...o, ref: t }) : i.jsx($T, { side: s, ...o, ref: t }) }) }), $T = f.forwardRef((e, t) => { const r = Ru(pi, e.__scopeTooltip), n = Tb(pi, e.__scopeTooltip), s = f.useRef(null), o = we(t, s), [a, l] = f.useState(null), { trigger: c, onClose: u } = r, d = s.current, { onPointerInTransitChange: p } = n, m = f.useCallback(() => { l(null), p(!1) }, [p]), h = f.useCallback((x, g) => { const b = x.currentTarget, v = { x: x.clientX, y: x.clientY }, y = BT(v, b.getBoundingClientRect()), w = VT(v, y), j = HT(g.getBoundingClientRect()), S = qT([...w, ...j]); l(S), p(!0) }, [p]); return f.useEffect(() => () => m(), [m]), f.useEffect(() => { if (c && d) { const x = b => h(b, d), g = b => h(b, c); return c.addEventListener("pointerleave", x), d.addEventListener("pointerleave", g), () => { c.removeEventListener("pointerleave", x), d.removeEventListener("pointerleave", g) } } }, [c, d, h, m]), f.useEffect(() => { if (a) { const x = g => { const b = g.target, v = { x: g.clientX, y: g.clientY }, y = (c == null ? void 0 : c.contains(b)) || (d == null ? void 0 : d.contains(b)), w = !WT(v, a); y ? m() : w && (m(), u()) }; return document.addEventListener("pointermove", x), () => document.removeEventListener("pointermove", x) } }, [c, d, a, u, m]), i.jsx(Ib, { ...e, ref: o }) }), [MT, FT] = Tu(Ab, { isInside: !1 }), UT = RT("TooltipContent"), Ib = f.forwardRef((e, t) => { const { __scopeTooltip: r, children: n, "aria-label": s, onEscapeKeyDown: o, onPointerDownOutside: a, ...l } = e, c = Ru(pi, r), u = Jp(r), { onClose: d } = c; return f.useEffect(() => (document.addEventListener(Ov, d), () => document.removeEventListener(Ov, d)), [d]), f.useEffect(() => { if (c.trigger) { const p = m => { const h = m.target; h != null && h.contains(c.trigger) && d() }; return window.addEventListener("scroll", p, { capture: !0 }), () => window.removeEventListener("scroll", p, { capture: !0 }) } }, [c.trigger, d]), i.jsx(qa, { asChild: !0, disableOutsidePointerEvents: !1, onEscapeKeyDown: o, onPointerDownOutside: a, onFocusOutside: p => p.preventDefault(), onDismiss: d, children: i.jsxs(Cb, { "data-state": c.stateAttribute, ...u, ...l, ref: t, style: { ...l.style, "--radix-tooltip-content-transform-origin": "var(--radix-popper-transform-origin)", "--radix-tooltip-content-available-width": "var(--radix-popper-available-width)", "--radix-tooltip-content-available-height": "var(--radix-popper-available-height)", "--radix-tooltip-trigger-width": "var(--radix-popper-anchor-width)", "--radix-tooltip-trigger-height": "var(--radix-popper-anchor-height)" }, children: [i.jsx(UT, { children: n }), i.jsx(MT, { scope: r, isInside: !0, children: i.jsx(sk, { id: c.contentId, role: "tooltip", children: s || n }) })] }) }) }); Ob.displayName = pi; var Db = "TooltipArrow", zT = f.forwardRef((e, t) => { const { __scopeTooltip: r, ...n } = e, s = Jp(r); return FT(Db, r).isInside ? null : i.jsx(kb, { ...s, ...n, ref: t }) }); zT.displayName = Db; function BT(e, t) { const r = Math.abs(t.top - e.y), n = Math.abs(t.bottom - e.y), s = Math.abs(t.right - e.x), o = Math.abs(t.left - e.x); switch (Math.min(r, n, s, o)) { case o: return "left"; case s: return "right"; case r: return "top"; case n: return "bottom"; default: throw new Error("unreachable") } } function VT(e, t, r = 5) { const n = []; switch (t) { case "top": n.push({ x: e.x - r, y: e.y + r }, { x: e.x + r, y: e.y + r }); break; case "bottom": n.push({ x: e.x - r, y: e.y - r }, { x: e.x + r, y: e.y - r }); break; case "left": n.push({ x: e.x + r, y: e.y - r }, { x: e.x + r, y: e.y + r }); break; case "right": n.push({ x: e.x - r, y: e.y - r }, { x: e.x - r, y: e.y + r }); break }return n } function HT(e) { const { top: t, right: r, bottom: n, left: s } = e; return [{ x: s, y: t }, { x: r, y: t }, { x: r, y: n }, { x: s, y: n }] } function WT(e, t) { const { x: r, y: n } = e; let s = !1; for (let o = 0, a = t.length - 1; o < t.length; a = o++) { const l = t[o], c = t[a], u = l.x, d = l.y, p = c.x, m = c.y; d > n != m > n && r < (p - u) * (n - d) / (m - d) + u && (s = !s) } return s } function qT(e) { const t = e.slice(); return t.sort((r, n) => r.x < n.x ? -1 : r.x > n.x ? 1 : r.y < n.y ? -1 : r.y > n.y ? 1 : 0), KT(t) } function KT(e) { if (e.length <= 1) return e.slice(); const t = []; for (let n = 0; n < e.length; n++) { const s = e[n]; for (; t.length >= 2;) { const o = t[t.length - 1], a = t[t.length - 2]; if ((o.x - a.x) * (s.y - a.y) >= (o.y - a.y) * (s.x - a.x)) t.pop(); else break } t.push(s) } t.pop(); const r = []; for (let n = e.length - 1; n >= 0; n--) { const s = e[n]; for (; r.length >= 2;) { const o = r[r.length - 1], a = r[r.length - 2]; if ((o.x - a.x) * (s.y - a.y) >= (o.y - a.y) * (s.x - a.x)) r.pop(); else break } r.push(s) } return r.pop(), t.length === 1 && r.length === 1 && t[0].x === r[0].x && t[0].y === r[0].y ? t : t.concat(r) } var GT = Rb, Lb = Ob; const YT = GT, QT = f.forwardRef(({ className: e, sideOffset: t = 4, ...r }, n) => i.jsx(Lb, { ref: n, sideOffset: t, className: F("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2", e), ...r })); QT.displayName = Lb.displayName; var Au = class { constructor() { this.listeners = new Set, this.subscribe = this.subscribe.bind(this) } subscribe(e) { return this.listeners.add(e), this.onSubscribe(), () => { this.listeners.delete(e), this.onUnsubscribe() } } hasListeners() { return this.listeners.size > 0 } onSubscribe() { } onUnsubscribe() { } }, JT = { setTimeout: (e, t) => setTimeout(e, t), clearTimeout: e => clearTimeout(e), setInterval: (e, t) => setInterval(e, t), clearInterval: e => clearInterval(e) }, Un, zf, Ly, XT = (Ly = class { constructor() { xe(this, Un, JT); xe(this, zf, !1) } setTimeoutProvider(e) { le(this, Un, e) } setTimeout(e, t) { return D(this, Un).setTimeout(e, t) } clearTimeout(e) { D(this, Un).clearTimeout(e) } setInterval(e, t) { return D(this, Un).setInterval(e, t) } clearInterval(e) { D(this, Un).clearInterval(e) } }, Un = new WeakMap, zf = new WeakMap, Ly), sf = new XT; function ZT(e) { setTimeout(e, 0) } var Ou = typeof window > "u" || "Deno" in globalThis; function fr() { } function eR(e, t) { return typeof e == "function" ? e(t) : e } function tR(e) { return typeof e == "number" && e >= 0 && e !== 1 / 0 } function rR(e, t) { return Math.max(e + (t || 0) - Date.now(), 0) } function of(e, t) { return typeof e == "function" ? e(t) : e } function nR(e, t) { return typeof e == "function" ? e(t) : e } function Iv(e, t) { const { type: r = "all", exact: n, fetchStatus: s, predicate: o, queryKey: a, stale: l } = e; if (a) { if (n) { if (t.queryHash !== Xp(a, t.options)) return !1 } else if (!Aa(t.queryKey, a)) return !1 } if (r !== "all") { const c = t.isActive(); if (r === "active" && !c || r === "inactive" && c) return !1 } return !(typeof l == "boolean" && t.isStale() !== l || s && s !== t.state.fetchStatus || o && !o(t)) } function Dv(e, t) { const { exact: r, status: n, predicate: s, mutationKey: o } = e; if (o) { if (!t.options.mutationKey) return !1; if (r) { if (Ra(t.options.mutationKey) !== Ra(o)) return !1 } else if (!Aa(t.options.mutationKey, o)) return !1 } return !(n && t.state.status !== n || s && !s(t)) } function Xp(e, t) { return ((t == null ? void 0 : t.queryKeyHashFn) || Ra)(e) } function Ra(e) { return JSON.stringify(e, (t, r) => af(r) ? Object.keys(r).sort().reduce((n, s) => (n[s] = r[s], n), {}) : r) } function Aa(e, t) { return e === t ? !0 : typeof e != typeof t ? !1 : e && t && typeof e == "object" && typeof t == "object" ? Object.keys(t).every(r => Aa(e[r], t[r])) : !1 } var sR = Object.prototype.hasOwnProperty; function $b(e, t) { if (e === t) return e; const r = Lv(e) && Lv(t); if (!r && !(af(e) && af(t))) return t; const s = (r ? e : Object.keys(e)).length, o = r ? t : Object.keys(t), a = o.length, l = r ? new Array(a) : {}; let c = 0; for (let u = 0; u < a; u++) { const d = r ? u : o[u], p = e[d], m = t[d]; if (p === m) { l[d] = p, (r ? u < s : sR.call(e, d)) && c++; continue } if (p === null || m === null || typeof p != "object" || typeof m != "object") { l[d] = m; continue } const h = $b(p, m); l[d] = h, h === p && c++ } return s === a && c === s ? e : l } function Lv(e) { return Array.isArray(e) && e.length === Object.keys(e).length } function af(e) { if (!$v(e)) return !1; const t = e.constructor; if (t === void 0) return !0; const r = t.prototype; return !(!$v(r) || !r.hasOwnProperty("isPrototypeOf") || Object.getPrototypeOf(e) !== Object.prototype) } function $v(e) { return Object.prototype.toString.call(e) === "[object Object]" } function oR(e) { return new Promise(t => { sf.setTimeout(t, e) }) } function iR(e, t, r) { return typeof r.structuralSharing == "function" ? r.structuralSharing(e, t) : r.structuralSharing !== !1 ? $b(e, t) : t } function aR(e, t, r = 0) { const n = [...e, t]; return r && n.length > r ? n.slice(1) : n } function lR(e, t, r = 0) { const n = [t, ...e]; return r && n.length > r ? n.slice(0, -1) : n } var Zp = Symbol(); function Mb(e, t) { return !e.queryFn && (t != null && t.initialPromise) ? () => t.initialPromise : !e.queryFn || e.queryFn === Zp ? () => Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)) : e.queryFn } var Hs, zn, Jo, $y, cR = ($y = class extends Au { constructor() { super(); xe(this, Hs); xe(this, zn); xe(this, Jo); le(this, Jo, t => { if (!Ou && window.addEventListener) { const r = () => t(); return window.addEventListener("visibilitychange", r, !1), () => { window.removeEventListener("visibilitychange", r) } } }) } onSubscribe() { D(this, zn) || this.setEventListener(D(this, Jo)) } onUnsubscribe() { var t; this.hasListeners() || ((t = D(this, zn)) == null || t.call(this), le(this, zn, void 0)) } setEventListener(t) { var r; le(this, Jo, t), (r = D(this, zn)) == null || r.call(this), le(this, zn, t(n => { typeof n == "boolean" ? this.setFocused(n) : this.onFocus() })) } setFocused(t) { D(this, Hs) !== t && (le(this, Hs, t), this.onFocus()) } onFocus() { const t = this.isFocused(); this.listeners.forEach(r => { r(t) }) } isFocused() { var t; return typeof D(this, Hs) == "boolean" ? D(this, Hs) : ((t = globalThis.document) == null ? void 0 : t.visibilityState) !== "hidden" } }, Hs = new WeakMap, zn = new WeakMap, Jo = new WeakMap, $y), Fb = new cR; function uR() { let e, t; const r = new Promise((s, o) => { e = s, t = o }); r.status = "pending", r.catch(() => { }); function n(s) { Object.assign(r, s), delete r.resolve, delete r.reject } return r.resolve = s => { n({ status: "fulfilled", value: s }), e(s) }, r.reject = s => { n({ status: "rejected", reason: s }), t(s) }, r } var dR = ZT; function hR() { let e = [], t = 0, r = l => { l() }, n = l => { l() }, s = dR; const o = l => { t ? e.push(l) : s(() => { r(l) }) }, a = () => { const l = e; e = [], l.length && s(() => { n(() => { l.forEach(c => { r(c) }) }) }) }; return { batch: l => { let c; t++; try { c = l() } finally { t--, t || a() } return c }, batchCalls: l => (...c) => { o(() => { l(...c) }) }, schedule: o, setNotifyFunction: l => { r = l }, setBatchNotifyFunction: l => { n = l }, setScheduler: l => { s = l } } } var wt = hR(), Xo, Bn, Zo, My, fR = (My = class extends Au { constructor() { super(); xe(this, Xo, !0); xe(this, Bn); xe(this, Zo); le(this, Zo, t => { if (!Ou && window.addEventListener) { const r = () => t(!0), n = () => t(!1); return window.addEventListener("online", r, !1), window.addEventListener("offline", n, !1), () => { window.removeEventListener("online", r), window.removeEventListener("offline", n) } } }) } onSubscribe() { D(this, Bn) || this.setEventListener(D(this, Zo)) } onUnsubscribe() { var t; this.hasListeners() || ((t = D(this, Bn)) == null || t.call(this), le(this, Bn, void 0)) } setEventListener(t) { var r; le(this, Zo, t), (r = D(this, Bn)) == null || r.call(this), le(this, Bn, t(this.setOnline.bind(this))) } setOnline(t) { D(this, Xo) !== t && (le(this, Xo, t), this.listeners.forEach(n => { n(t) })) } isOnline() { return D(this, Xo) } }, Xo = new WeakMap, Bn = new WeakMap, Zo = new WeakMap, My), Fc = new fR; function pR(e) { return Math.min(1e3 * 2 ** e, 3e4) } function Ub(e) { return (e ?? "online") === "online" ? Fc.isOnline() : !0 } var lf = class extends Error { constructor(e) { super("CancelledError"), this.revert = e == null ? void 0 : e.revert, this.silent = e == null ? void 0 : e.silent } }; function zb(e) { let t = !1, r = 0, n; const s = uR(), o = () => s.status !== "pending", a = g => { var b; if (!o()) { const v = new lf(g); m(v), (b = e.onCancel) == null || b.call(e, v) } }, l = () => { t = !0 }, c = () => { t = !1 }, u = () => Fb.isFocused() && (e.networkMode === "always" || Fc.isOnline()) && e.canRun(), d = () => Ub(e.networkMode) && e.canRun(), p = g => { o() || (n == null || n(), s.resolve(g)) }, m = g => { o() || (n == null || n(), s.reject(g)) }, h = () => new Promise(g => { var b; n = v => { (o() || u()) && g(v) }, (b = e.onPause) == null || b.call(e) }).then(() => { var g; n = void 0, o() || (g = e.onContinue) == null || g.call(e) }), x = () => { if (o()) return; let g; const b = r === 0 ? e.initialPromise : void 0; try { g = b ?? e.fn() } catch (v) { g = Promise.reject(v) } Promise.resolve(g).then(p).catch(v => { var _; if (o()) return; const y = e.retry ?? (Ou ? 0 : 3), w = e.retryDelay ?? pR, j = typeof w == "function" ? w(r, v) : w, S = y === !0 || typeof y == "number" && r < y || typeof y == "function" && y(r, v); if (t || !S) { m(v); return } r++, (_ = e.onFail) == null || _.call(e, r, v), oR(j).then(() => u() ? void 0 : h()).then(() => { t ? m(v) : x() }) }) }; return { promise: s, status: () => s.status, cancel: a, continue: () => (n == null || n(), s), cancelRetry: l, continueRetry: c, canStart: d, start: () => (d() ? x() : h().then(x), s) } } var Ws, Fy, Bb = (Fy = class { constructor() { xe(this, Ws) } destroy() { this.clearGcTimeout() } scheduleGc() { this.clearGcTimeout(), tR(this.gcTime) && le(this, Ws, sf.setTimeout(() => { this.optionalRemove() }, this.gcTime)) } updateGcTime(e) { this.gcTime = Math.max(this.gcTime || 0, e ?? (Ou ? 1 / 0 : 5 * 60 * 1e3)) } clearGcTimeout() { D(this, Ws) && (sf.clearTimeout(D(this, Ws)), le(this, Ws, void 0)) } }, Ws = new WeakMap, Fy), qs, ei, Qt, Ks, rt, $a, Gs, mr, tn, Uy, mR = (Uy = class extends Bb { constructor(t) { super(); xe(this, mr); xe(this, qs); xe(this, ei); xe(this, Qt); xe(this, Ks); xe(this, rt); xe(this, $a); xe(this, Gs); le(this, Gs, !1), le(this, $a, t.defaultOptions), this.setOptions(t.options), this.observers = [], le(this, Ks, t.client), le(this, Qt, D(this, Ks).getQueryCache()), this.queryKey = t.queryKey, this.queryHash = t.queryHash, le(this, qs, Fv(this.options)), this.state = t.state ?? D(this, qs), this.scheduleGc() } get meta() { return this.options.meta } get promise() { var t; return (t = D(this, rt)) == null ? void 0 : t.promise } setOptions(t) { if (this.options = { ...D(this, $a), ...t }, this.updateGcTime(this.options.gcTime), this.state && this.state.data === void 0) { const r = Fv(this.options); r.data !== void 0 && (this.setState(Mv(r.data, r.dataUpdatedAt)), le(this, qs, r)) } } optionalRemove() { !this.observers.length && this.state.fetchStatus === "idle" && D(this, Qt).remove(this) } setData(t, r) { const n = iR(this.state.data, t, this.options); return dt(this, mr, tn).call(this, { data: n, type: "success", dataUpdatedAt: r == null ? void 0 : r.updatedAt, manual: r == null ? void 0 : r.manual }), n } setState(t, r) { dt(this, mr, tn).call(this, { type: "setState", state: t, setStateOptions: r }) } cancel(t) { var n, s; const r = (n = D(this, rt)) == null ? void 0 : n.promise; return (s = D(this, rt)) == null || s.cancel(t), r ? r.then(fr).catch(fr) : Promise.resolve() } destroy() { super.destroy(), this.cancel({ silent: !0 }) } reset() { this.destroy(), this.setState(D(this, qs)) } isActive() { return this.observers.some(t => nR(t.options.enabled, this) !== !1) } isDisabled() { return this.getObserversCount() > 0 ? !this.isActive() : this.options.queryFn === Zp || this.state.dataUpdateCount + this.state.errorUpdateCount === 0 } isStatic() { return this.getObserversCount() > 0 ? this.observers.some(t => of(t.options.staleTime, this) === "static") : !1 } isStale() { return this.getObserversCount() > 0 ? this.observers.some(t => t.getCurrentResult().isStale) : this.state.data === void 0 || this.state.isInvalidated } isStaleByTime(t = 0) { return this.state.data === void 0 ? !0 : t === "static" ? !1 : this.state.isInvalidated ? !0 : !rR(this.state.dataUpdatedAt, t) } onFocus() { var r; const t = this.observers.find(n => n.shouldFetchOnWindowFocus()); t == null || t.refetch({ cancelRefetch: !1 }), (r = D(this, rt)) == null || r.continue() } onOnline() { var r; const t = this.observers.find(n => n.shouldFetchOnReconnect()); t == null || t.refetch({ cancelRefetch: !1 }), (r = D(this, rt)) == null || r.continue() } addObserver(t) { this.observers.includes(t) || (this.observers.push(t), this.clearGcTimeout(), D(this, Qt).notify({ type: "observerAdded", query: this, observer: t })) } removeObserver(t) { this.observers.includes(t) && (this.observers = this.observers.filter(r => r !== t), this.observers.length || (D(this, rt) && (D(this, Gs) ? D(this, rt).cancel({ revert: !0 }) : D(this, rt).cancelRetry()), this.scheduleGc()), D(this, Qt).notify({ type: "observerRemoved", query: this, observer: t })) } getObserversCount() { return this.observers.length } invalidate() { this.state.isInvalidated || dt(this, mr, tn).call(this, { type: "invalidate" }) } async fetch(t, r) { var c, u, d, p, m, h, x, g, b, v, y, w; if (this.state.fetchStatus !== "idle" && ((c = D(this, rt)) == null ? void 0 : c.status()) !== "rejected") { if (this.state.data !== void 0 && (r != null && r.cancelRefetch)) this.cancel({ silent: !0 }); else if (D(this, rt)) return D(this, rt).continueRetry(), D(this, rt).promise } if (t && this.setOptions(t), !this.options.queryFn) { const j = this.observers.find(S => S.options.queryFn); j && this.setOptions(j.options) } const n = new AbortController, s = j => { Object.defineProperty(j, "signal", { enumerable: !0, get: () => (le(this, Gs, !0), n.signal) }) }, o = () => { const j = Mb(this.options, r), _ = (() => { const C = { client: D(this, Ks), queryKey: this.queryKey, meta: this.meta }; return s(C), C })(); return le(this, Gs, !1), this.options.persister ? this.options.persister(j, _, this) : j(_) }, l = (() => { const j = { fetchOptions: r, options: this.options, queryKey: this.queryKey, client: D(this, Ks), state: this.state, fetchFn: o }; return s(j), j })(); (u = this.options.behavior) == null || u.onFetch(l, this), le(this, ei, this.state), (this.state.fetchStatus === "idle" || this.state.fetchMeta !== ((d = l.fetchOptions) == null ? void 0 : d.meta)) && dt(this, mr, tn).call(this, { type: "fetch", meta: (p = l.fetchOptions) == null ? void 0 : p.meta }), le(this, rt, zb({ initialPromise: r == null ? void 0 : r.initialPromise, fn: l.fetchFn, onCancel: j => { j instanceof lf && j.revert && this.setState({ ...D(this, ei), fetchStatus: "idle" }), n.abort() }, onFail: (j, S) => { dt(this, mr, tn).call(this, { type: "failed", failureCount: j, error: S }) }, onPause: () => { dt(this, mr, tn).call(this, { type: "pause" }) }, onContinue: () => { dt(this, mr, tn).call(this, { type: "continue" }) }, retry: l.options.retry, retryDelay: l.options.retryDelay, networkMode: l.options.networkMode, canRun: () => !0 })); try { const j = await D(this, rt).start(); if (j === void 0) throw new Error(`${this.queryHash} data is undefined`); return this.setData(j), (h = (m = D(this, Qt).config).onSuccess) == null || h.call(m, j, this), (g = (x = D(this, Qt).config).onSettled) == null || g.call(x, j, this.state.error, this), j } catch (j) { if (j instanceof lf) { if (j.silent) return D(this, rt).promise; if (j.revert) { if (this.state.data === void 0) throw j; return this.state.data } } throw dt(this, mr, tn).call(this, { type: "error", error: j }), (v = (b = D(this, Qt).config).onError) == null || v.call(b, j, this), (w = (y = D(this, Qt).config).onSettled) == null || w.call(y, this.state.data, j, this), j } finally { this.scheduleGc() } } }, qs = new WeakMap, ei = new WeakMap, Qt = new WeakMap, Ks = new WeakMap, rt = new WeakMap, $a = new WeakMap, Gs = new WeakMap, mr = new WeakSet, tn = function (t) { const r = n => { switch (t.type) { case "failed": return { ...n, fetchFailureCount: t.failureCount, fetchFailureReason: t.error }; case "pause": return { ...n, fetchStatus: "paused" }; case "continue": return { ...n, fetchStatus: "fetching" }; case "fetch": return { ...n, ...gR(n.data, this.options), fetchMeta: t.meta ?? null }; case "success": const s = { ...n, ...Mv(t.data, t.dataUpdatedAt), dataUpdateCount: n.dataUpdateCount + 1, ...!t.manual && { fetchStatus: "idle", fetchFailureCount: 0, fetchFailureReason: null } }; return le(this, ei, t.manual ? s : void 0), s; case "error": const o = t.error; return { ...n, error: o, errorUpdateCount: n.errorUpdateCount + 1, errorUpdatedAt: Date.now(), fetchFailureCount: n.fetchFailureCount + 1, fetchFailureReason: o, fetchStatus: "idle", status: "error" }; case "invalidate": return { ...n, isInvalidated: !0 }; case "setState": return { ...n, ...t.state } } }; this.state = r(this.state), wt.batch(() => { this.observers.forEach(n => { n.onQueryUpdate() }), D(this, Qt).notify({ query: this, type: "updated", action: t }) }) }, Uy); function gR(e, t) { return { fetchFailureCount: 0, fetchFailureReason: null, fetchStatus: Ub(t.networkMode) ? "fetching" : "paused", ...e === void 0 && { error: null, status: "pending" } } } function Mv(e, t) { return { data: e, dataUpdatedAt: t ?? Date.now(), error: null, isInvalidated: !1, status: "success" } } function Fv(e) { const t = typeof e.initialData == "function" ? e.initialData() : e.initialData, r = t !== void 0, n = r ? typeof e.initialDataUpdatedAt == "function" ? e.initialDataUpdatedAt() : e.initialDataUpdatedAt : 0; return { data: t, dataUpdateCount: 0, dataUpdatedAt: r ? n ?? Date.now() : 0, error: null, errorUpdateCount: 0, errorUpdatedAt: 0, fetchFailureCount: 0, fetchFailureReason: null, fetchMeta: null, isInvalidated: !1, status: r ? "success" : "pending", fetchStatus: "idle" } } function Uv(e) { return { onFetch: (t, r) => { var d, p, m, h, x; const n = t.options, s = (m = (p = (d = t.fetchOptions) == null ? void 0 : d.meta) == null ? void 0 : p.fetchMore) == null ? void 0 : m.direction, o = ((h = t.state.data) == null ? void 0 : h.pages) || [], a = ((x = t.state.data) == null ? void 0 : x.pageParams) || []; let l = { pages: [], pageParams: [] }, c = 0; const u = async () => { let g = !1; const b = w => { Object.defineProperty(w, "signal", { enumerable: !0, get: () => (t.signal.aborted ? g = !0 : t.signal.addEventListener("abort", () => { g = !0 }), t.signal) }) }, v = Mb(t.options, t.fetchOptions), y = async (w, j, S) => { if (g) return Promise.reject(); if (j == null && w.pages.length) return Promise.resolve(w); const C = (() => { const L = { client: t.client, queryKey: t.queryKey, pageParam: j, direction: S ? "backward" : "forward", meta: t.options.meta }; return b(L), L })(), k = await v(C), { maxPages: E } = t.options, P = S ? lR : aR; return { pages: P(w.pages, k, E), pageParams: P(w.pageParams, j, E) } }; if (s && o.length) { const w = s === "backward", j = w ? vR : zv, S = { pages: o, pageParams: a }, _ = j(n, S); l = await y(S, _, w) } else { const w = e ?? o.length; do { const j = c === 0 ? a[0] ?? n.initialPageParam : zv(n, l); if (c > 0 && j == null) break; l = await y(l, j), c++ } while (c < w) } return l }; t.options.persister ? t.fetchFn = () => { var g, b; return (b = (g = t.options).persister) == null ? void 0 : b.call(g, u, { client: t.client, queryKey: t.queryKey, meta: t.options.meta, signal: t.signal }, r) } : t.fetchFn = u } } } function zv(e, { pages: t, pageParams: r }) { const n = t.length - 1; return t.length > 0 ? e.getNextPageParam(t[n], t, r[n], r) : void 0 } function vR(e, { pages: t, pageParams: r }) { var n; return t.length > 0 ? (n = e.getPreviousPageParam) == null ? void 0 : n.call(e, t[0], t, r[0], r) : void 0 } var Ma, Ir, yt, Ys, Dr, An, zy, yR = (zy = class extends Bb { constructor(t) { super(); xe(this, Dr); xe(this, Ma); xe(this, Ir); xe(this, yt); xe(this, Ys); le(this, Ma, t.client), this.mutationId = t.mutationId, le(this, yt, t.mutationCache), le(this, Ir, []), this.state = t.state || xR(), this.setOptions(t.options), this.scheduleGc() } setOptions(t) { this.options = t, this.updateGcTime(this.options.gcTime) } get meta() { return this.options.meta } addObserver(t) { D(this, Ir).includes(t) || (D(this, Ir).push(t), this.clearGcTimeout(), D(this, yt).notify({ type: "observerAdded", mutation: this, observer: t })) } removeObserver(t) { le(this, Ir, D(this, Ir).filter(r => r !== t)), this.scheduleGc(), D(this, yt).notify({ type: "observerRemoved", mutation: this, observer: t }) } optionalRemove() { D(this, Ir).length || (this.state.status === "pending" ? this.scheduleGc() : D(this, yt).remove(this)) } continue() { var t; return ((t = D(this, Ys)) == null ? void 0 : t.continue()) ?? this.execute(this.state.variables) } async execute(t) { var a, l, c, u, d, p, m, h, x, g, b, v, y, w, j, S, _, C, k, E; const r = () => { dt(this, Dr, An).call(this, { type: "continue" }) }, n = { client: D(this, Ma), meta: this.options.meta, mutationKey: this.options.mutationKey }; le(this, Ys, zb({ fn: () => this.options.mutationFn ? this.options.mutationFn(t, n) : Promise.reject(new Error("No mutationFn found")), onFail: (P, L) => { dt(this, Dr, An).call(this, { type: "failed", failureCount: P, error: L }) }, onPause: () => { dt(this, Dr, An).call(this, { type: "pause" }) }, onContinue: r, retry: this.options.retry ?? 0, retryDelay: this.options.retryDelay, networkMode: this.options.networkMode, canRun: () => D(this, yt).canRun(this) })); const s = this.state.status === "pending", o = !D(this, Ys).canStart(); try { if (s) r(); else { dt(this, Dr, An).call(this, { type: "pending", variables: t, isPaused: o }), await ((l = (a = D(this, yt).config).onMutate) == null ? void 0 : l.call(a, t, this, n)); const L = await ((u = (c = this.options).onMutate) == null ? void 0 : u.call(c, t, n)); L !== this.state.context && dt(this, Dr, An).call(this, { type: "pending", context: L, variables: t, isPaused: o }) } const P = await D(this, Ys).start(); return await ((p = (d = D(this, yt).config).onSuccess) == null ? void 0 : p.call(d, P, t, this.state.context, this, n)), await ((h = (m = this.options).onSuccess) == null ? void 0 : h.call(m, P, t, this.state.context, n)), await ((g = (x = D(this, yt).config).onSettled) == null ? void 0 : g.call(x, P, null, this.state.variables, this.state.context, this, n)), await ((v = (b = this.options).onSettled) == null ? void 0 : v.call(b, P, null, t, this.state.context, n)), dt(this, Dr, An).call(this, { type: "success", data: P }), P } catch (P) { try { throw await ((w = (y = D(this, yt).config).onError) == null ? void 0 : w.call(y, P, t, this.state.context, this, n)), await ((S = (j = this.options).onError) == null ? void 0 : S.call(j, P, t, this.state.context, n)), await ((C = (_ = D(this, yt).config).onSettled) == null ? void 0 : C.call(_, void 0, P, this.state.variables, this.state.context, this, n)), await ((E = (k = this.options).onSettled) == null ? void 0 : E.call(k, void 0, P, t, this.state.context, n)), P } finally { dt(this, Dr, An).call(this, { type: "error", error: P }) } } finally { D(this, yt).runNext(this) } } }, Ma = new WeakMap, Ir = new WeakMap, yt = new WeakMap, Ys = new WeakMap, Dr = new WeakSet, An = function (t) { const r = n => { switch (t.type) { case "failed": return { ...n, failureCount: t.failureCount, failureReason: t.error }; case "pause": return { ...n, isPaused: !0 }; case "continue": return { ...n, isPaused: !1 }; case "pending": return { ...n, context: t.context, data: void 0, failureCount: 0, failureReason: null, error: null, isPaused: t.isPaused, status: "pending", variables: t.variables, submittedAt: Date.now() }; case "success": return { ...n, data: t.data, failureCount: 0, failureReason: null, error: null, status: "success", isPaused: !1 }; case "error": return { ...n, data: void 0, error: t.error, failureCount: n.failureCount + 1, failureReason: t.error, isPaused: !1, status: "error" } } }; this.state = r(this.state), wt.batch(() => { D(this, Ir).forEach(n => { n.onMutationUpdate(t) }), D(this, yt).notify({ mutation: this, type: "updated", action: t }) }) }, zy); function xR() { return { context: void 0, data: void 0, error: null, failureCount: 0, failureReason: null, isPaused: !1, status: "idle", variables: void 0, submittedAt: 0 } } var sn, gr, Fa, By, wR = (By = class extends Au { constructor(t = {}) { super(); xe(this, sn); xe(this, gr); xe(this, Fa); this.config = t, le(this, sn, new Set), le(this, gr, new Map), le(this, Fa, 0) } build(t, r, n) { const s = new yR({ client: t, mutationCache: this, mutationId: ++sl(this, Fa)._, options: t.defaultMutationOptions(r), state: n }); return this.add(s), s } add(t) { D(this, sn).add(t); const r = El(t); if (typeof r == "string") { const n = D(this, gr).get(r); n ? n.push(t) : D(this, gr).set(r, [t]) } this.notify({ type: "added", mutation: t }) } remove(t) { if (D(this, sn).delete(t)) { const r = El(t); if (typeof r == "string") { const n = D(this, gr).get(r); if (n) if (n.length > 1) { const s = n.indexOf(t); s !== -1 && n.splice(s, 1) } else n[0] === t && D(this, gr).delete(r) } } this.notify({ type: "removed", mutation: t }) } canRun(t) { const r = El(t); if (typeof r == "string") { const n = D(this, gr).get(r), s = n == null ? void 0 : n.find(o => o.state.status === "pending"); return !s || s === t } else return !0 } runNext(t) { var n; const r = El(t); if (typeof r == "string") { const s = (n = D(this, gr).get(r)) == null ? void 0 : n.find(o => o !== t && o.state.isPaused); return (s == null ? void 0 : s.continue()) ?? Promise.resolve() } else return Promise.resolve() } clear() { wt.batch(() => { D(this, sn).forEach(t => { this.notify({ type: "removed", mutation: t }) }), D(this, sn).clear(), D(this, gr).clear() }) } getAll() { return Array.from(D(this, sn)) } find(t) { const r = { exact: !0, ...t }; return this.getAll().find(n => Dv(r, n)) } findAll(t = {}) { return this.getAll().filter(r => Dv(t, r)) } notify(t) { wt.batch(() => { this.listeners.forEach(r => { r(t) }) }) } resumePausedMutations() { const t = this.getAll().filter(r => r.state.isPaused); return wt.batch(() => Promise.all(t.map(r => r.continue().catch(fr)))) } }, sn = new WeakMap, gr = new WeakMap, Fa = new WeakMap, By); function El(e) { var t; return (t = e.options.scope) == null ? void 0 : t.id } var Lr, Vy, bR = (Vy = class extends Au { constructor(t = {}) { super(); xe(this, Lr); this.config = t, le(this, Lr, new Map) } build(t, r, n) { const s = r.queryKey, o = r.queryHash ?? Xp(s, r); let a = this.get(o); return a || (a = new mR({ client: t, queryKey: s, queryHash: o, options: t.defaultQueryOptions(r), state: n, defaultOptions: t.getQueryDefaults(s) }), this.add(a)), a } add(t) { D(this, Lr).has(t.queryHash) || (D(this, Lr).set(t.queryHash, t), this.notify({ type: "added", query: t })) } remove(t) { const r = D(this, Lr).get(t.queryHash); r && (t.destroy(), r === t && D(this, Lr).delete(t.queryHash), this.notify({ type: "removed", query: t })) } clear() { wt.batch(() => { this.getAll().forEach(t => { this.remove(t) }) }) } get(t) { return D(this, Lr).get(t) } getAll() { return [...D(this, Lr).values()] } find(t) { const r = { exact: !0, ...t }; return this.getAll().find(n => Iv(r, n)) } findAll(t = {}) { const r = this.getAll(); return Object.keys(t).length > 0 ? r.filter(n => Iv(t, n)) : r } notify(t) { wt.batch(() => { this.listeners.forEach(r => { r(t) }) }) } onFocus() { wt.batch(() => { this.getAll().forEach(t => { t.onFocus() }) }) } onOnline() { wt.batch(() => { this.getAll().forEach(t => { t.onOnline() }) }) } }, Lr = new WeakMap, Vy), Ue, Vn, Hn, ti, ri, Wn, ni, si, Hy, jR = (Hy = class { constructor(e = {}) { xe(this, Ue); xe(this, Vn); xe(this, Hn); xe(this, ti); xe(this, ri); xe(this, Wn); xe(this, ni); xe(this, si); le(this, Ue, e.queryCache || new bR), le(this, Vn, e.mutationCache || new wR), le(this, Hn, e.defaultOptions || {}), le(this, ti, new Map), le(this, ri, new Map), le(this, Wn, 0) } mount() { sl(this, Wn)._++, D(this, Wn) === 1 && (le(this, ni, Fb.subscribe(async e => { e && (await this.resumePausedMutations(), D(this, Ue).onFocus()) })), le(this, si, Fc.subscribe(async e => { e && (await this.resumePausedMutations(), D(this, Ue).onOnline()) }))) } unmount() { var e, t; sl(this, Wn)._--, D(this, Wn) === 0 && ((e = D(this, ni)) == null || e.call(this), le(this, ni, void 0), (t = D(this, si)) == null || t.call(this), le(this, si, void 0)) } isFetching(e) { return D(this, Ue).findAll({ ...e, fetchStatus: "fetching" }).length } isMutating(e) { return D(this, Vn).findAll({ ...e, status: "pending" }).length } getQueryData(e) { var r; const t = this.defaultQueryOptions({ queryKey: e }); return (r = D(this, Ue).get(t.queryHash)) == null ? void 0 : r.state.data } ensureQueryData(e) { const t = this.defaultQueryOptions(e), r = D(this, Ue).build(this, t), n = r.state.data; return n === void 0 ? this.fetchQuery(e) : (e.revalidateIfStale && r.isStaleByTime(of(t.staleTime, r)) && this.prefetchQuery(t), Promise.resolve(n)) } getQueriesData(e) { return D(this, Ue).findAll(e).map(({ queryKey: t, state: r }) => { const n = r.data; return [t, n] }) } setQueryData(e, t, r) { const n = this.defaultQueryOptions({ queryKey: e }), s = D(this, Ue).get(n.queryHash), o = s == null ? void 0 : s.state.data, a = eR(t, o); if (a !== void 0) return D(this, Ue).build(this, n).setData(a, { ...r, manual: !0 }) } setQueriesData(e, t, r) { return wt.batch(() => D(this, Ue).findAll(e).map(({ queryKey: n }) => [n, this.setQueryData(n, t, r)])) } getQueryState(e) { var r; const t = this.defaultQueryOptions({ queryKey: e }); return (r = D(this, Ue).get(t.queryHash)) == null ? void 0 : r.state } removeQueries(e) { const t = D(this, Ue); wt.batch(() => { t.findAll(e).forEach(r => { t.remove(r) }) }) } resetQueries(e, t) { const r = D(this, Ue); return wt.batch(() => (r.findAll(e).forEach(n => { n.reset() }), this.refetchQueries({ type: "active", ...e }, t))) } cancelQueries(e, t = {}) { const r = { revert: !0, ...t }, n = wt.batch(() => D(this, Ue).findAll(e).map(s => s.cancel(r))); return Promise.all(n).then(fr).catch(fr) } invalidateQueries(e, t = {}) { return wt.batch(() => (D(this, Ue).findAll(e).forEach(r => { r.invalidate() }), (e == null ? void 0 : e.refetchType) === "none" ? Promise.resolve() : this.refetchQueries({ ...e, type: (e == null ? void 0 : e.refetchType) ?? (e == null ? void 0 : e.type) ?? "active" }, t))) } refetchQueries(e, t = {}) { const r = { ...t, cancelRefetch: t.cancelRefetch ?? !0 }, n = wt.batch(() => D(this, Ue).findAll(e).filter(s => !s.isDisabled() && !s.isStatic()).map(s => { let o = s.fetch(void 0, r); return r.throwOnError || (o = o.catch(fr)), s.state.fetchStatus === "paused" ? Promise.resolve() : o })); return Promise.all(n).then(fr) } fetchQuery(e) { const t = this.defaultQueryOptions(e); t.retry === void 0 && (t.retry = !1); const r = D(this, Ue).build(this, t); return r.isStaleByTime(of(t.staleTime, r)) ? r.fetch(t) : Promise.resolve(r.state.data) } prefetchQuery(e) { return this.fetchQuery(e).then(fr).catch(fr) } fetchInfiniteQuery(e) { return e.behavior = Uv(e.pages), this.fetchQuery(e) } prefetchInfiniteQuery(e) { return this.fetchInfiniteQuery(e).then(fr).catch(fr) } ensureInfiniteQueryData(e) { return e.behavior = Uv(e.pages), this.ensureQueryData(e) } resumePausedMutations() { return Fc.isOnline() ? D(this, Vn).resumePausedMutations() : Promise.resolve() } getQueryCache() { return D(this, Ue) } getMutationCache() { return D(this, Vn) } getDefaultOptions() { return D(this, Hn) } setDefaultOptions(e) { le(this, Hn, e) } setQueryDefaults(e, t) { D(this, ti).set(Ra(e), { queryKey: e, defaultOptions: t }) } getQueryDefaults(e) { const t = [...D(this, ti).values()], r = {}; return t.forEach(n => { Aa(e, n.queryKey) && Object.assign(r, n.defaultOptions) }), r } setMutationDefaults(e, t) { D(this, ri).set(Ra(e), { mutationKey: e, defaultOptions: t }) } getMutationDefaults(e) { const t = [...D(this, ri).values()], r = {}; return t.forEach(n => { Aa(e, n.mutationKey) && Object.assign(r, n.defaultOptions) }), r } defaultQueryOptions(e) { if (e._defaulted) return e; const t = { ...D(this, Hn).queries, ...this.getQueryDefaults(e.queryKey), ...e, _defaulted: !0 }; return t.queryHash || (t.queryHash = Xp(t.queryKey, t)), t.refetchOnReconnect === void 0 && (t.refetchOnReconnect = t.networkMode !== "always"), t.throwOnError === void 0 && (t.throwOnError = !!t.suspense), !t.networkMode && t.persister && (t.networkMode = "offlineFirst"), t.queryFn === Zp && (t.enabled = !1), t } defaultMutationOptions(e) { return e != null && e._defaulted ? e : { ...D(this, Hn).mutations, ...(e == null ? void 0 : e.mutationKey) && this.getMutationDefaults(e.mutationKey), ...e, _defaulted: !0 } } clear() { D(this, Ue).clear(), D(this, Vn).clear() } }, Ue = new WeakMap, Vn = new WeakMap, Hn = new WeakMap, ti = new WeakMap, ri = new WeakMap, Wn = new WeakMap, ni = new WeakMap, si = new WeakMap, Hy), SR = f.createContext(void 0), _R = ({ client: e, children: t }) => (f.useEffect(() => (e.mount(), () => { e.unmount() }), [e]), i.jsx(SR.Provider, { value: e, children: t }));/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oa() { return Oa = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }, Oa.apply(this, arguments) } var Gn; (function (e) { e.Pop = "POP", e.Push = "PUSH", e.Replace = "REPLACE" })(Gn || (Gn = {})); const Bv = "popstate"; function NR(e) { e === void 0 && (e = {}); function t(n, s) { let { pathname: o, search: a, hash: l } = n.location; return cf("", { pathname: o, search: a, hash: l }, s.state && s.state.usr || null, s.state && s.state.key || "default") } function r(n, s) { return typeof s == "string" ? s : Uc(s) } return CR(t, r, null, e) } function Me(e, t) { if (e === !1 || e === null || typeof e > "u") throw new Error(t) } function em(e, t) { if (!e) { typeof console < "u" && console.warn(t); try { throw new Error(t) } catch { } } } function ER() { return Math.random().toString(36).substr(2, 8) } function Vv(e, t) { return { usr: e.state, key: e.key, idx: t } } function cf(e, t, r, n) { return r === void 0 && (r = null), Oa({ pathname: typeof e == "string" ? e : e.pathname, search: "", hash: "" }, typeof t == "string" ? Ti(t) : t, { state: r, key: t && t.key || n || ER() }) } function Uc(e) { let { pathname: t = "/", search: r = "", hash: n = "" } = e; return r && r !== "?" && (t += r.charAt(0) === "?" ? r : "?" + r), n && n !== "#" && (t += n.charAt(0) === "#" ? n : "#" + n), t } function Ti(e) { let t = {}; if (e) { let r = e.indexOf("#"); r >= 0 && (t.hash = e.substr(r), e = e.substr(0, r)); let n = e.indexOf("?"); n >= 0 && (t.search = e.substr(n), e = e.substr(0, n)), e && (t.pathname = e) } return t } function CR(e, t, r, n) { n === void 0 && (n = {}); let { window: s = document.defaultView, v5Compat: o = !1 } = n, a = s.history, l = Gn.Pop, c = null, u = d(); u == null && (u = 0, a.replaceState(Oa({}, a.state, { idx: u }), "")); function d() { return (a.state || { idx: null }).idx } function p() { l = Gn.Pop; let b = d(), v = b == null ? null : b - u; u = b, c && c({ action: l, location: g.location, delta: v }) } function m(b, v) { l = Gn.Push; let y = cf(g.location, b, v); u = d() + 1; let w = Vv(y, u), j = g.createHref(y); try { a.pushState(w, "", j) } catch (S) { if (S instanceof DOMException && S.name === "DataCloneError") throw S; s.location.assign(j) } o && c && c({ action: l, location: g.location, delta: 1 }) } function h(b, v) { l = Gn.Replace; let y = cf(g.location, b, v); u = d(); let w = Vv(y, u), j = g.createHref(y); a.replaceState(w, "", j), o && c && c({ action: l, location: g.location, delta: 0 }) } function x(b) { let v = s.location.origin !== "null" ? s.location.origin : s.location.href, y = typeof b == "string" ? b : Uc(b); return y = y.replace(/ $/, "%20"), Me(v, "No window.location.(origin|href) available to create URL for href: " + y), new URL(y, v) } let g = { get action() { return l }, get location() { return e(s, a) }, listen(b) { if (c) throw new Error("A history only accepts one active listener"); return s.addEventListener(Bv, p), c = b, () => { s.removeEventListener(Bv, p), c = null } }, createHref(b) { return t(s, b) }, createURL: x, encodeLocation(b) { let v = x(b); return { pathname: v.pathname, search: v.search, hash: v.hash } }, push: m, replace: h, go(b) { return a.go(b) } }; return g } var Hv; (function (e) { e.data = "data", e.deferred = "deferred", e.redirect = "redirect", e.error = "error" })(Hv || (Hv = {})); function kR(e, t, r) { return r === void 0 && (r = "/"), PR(e, t, r) } function PR(e, t, r, n) { let s = typeof t == "string" ? Ti(t) : t, o = mi(s.pathname || "/", r); if (o == null) return null; let a = Vb(e); TR(a); let l = null; for (let c = 0; l == null && c < a.length; ++c) { let u = zR(o); l = FR(a[c], u) } return l } function Vb(e, t, r, n) { t === void 0 && (t = []), r === void 0 && (r = []), n === void 0 && (n = ""); let s = (o, a, l) => { let c = { relativePath: l === void 0 ? o.path || "" : l, caseSensitive: o.caseSensitive === !0, childrenIndex: a, route: o }; c.relativePath.startsWith("/") && (Me(c.relativePath.startsWith(n), 'Absolute route path "' + c.relativePath + '" nested under path ' + ('"' + n + '" is not valid. An absolute child route path ') + "must start with the combined path of all its parent routes."), c.relativePath = c.relativePath.slice(n.length)); let u = os([n, c.relativePath]), d = r.concat(c); o.children && o.children.length > 0 && (Me(o.index !== !0, "Index routes must not have child routes. Please remove " + ('all child routes from route path "' + u + '".')), Vb(o.children, t, d, u)), !(o.path == null && !o.index) && t.push({ path: u, score: $R(u, o.index), routesMeta: d }) }; return e.forEach((o, a) => { var l; if (o.path === "" || !((l = o.path) != null && l.includes("?"))) s(o, a); else for (let c of Hb(o.path)) s(o, a, c) }), t } function Hb(e) { let t = e.split("/"); if (t.length === 0) return []; let [r, ...n] = t, s = r.endsWith("?"), o = r.replace(/\?$/, ""); if (n.length === 0) return s ? [o, ""] : [o]; let a = Hb(n.join("/")), l = []; return l.push(...a.map(c => c === "" ? o : [o, c].join("/"))), s && l.push(...a), l.map(c => e.startsWith("/") && c === "" ? "/" : c) } function TR(e) { e.sort((t, r) => t.score !== r.score ? r.score - t.score : MR(t.routesMeta.map(n => n.childrenIndex), r.routesMeta.map(n => n.childrenIndex))) } const RR = /^:[\w-]+$/, AR = 3, OR = 2, IR = 1, DR = 10, LR = -2, Wv = e => e === "*"; function $R(e, t) { let r = e.split("/"), n = r.length; return r.some(Wv) && (n += LR), t && (n += OR), r.filter(s => !Wv(s)).reduce((s, o) => s + (RR.test(o) ? AR : o === "" ? IR : DR), n) } function MR(e, t) { return e.length === t.length && e.slice(0, -1).every((n, s) => n === t[s]) ? e[e.length - 1] - t[t.length - 1] : 0 } function FR(e, t, r) { let { routesMeta: n } = e, s = {}, o = "/", a = []; for (let l = 0; l < n.length; ++l) { let c = n[l], u = l === n.length - 1, d = o === "/" ? t : t.slice(o.length) || "/", p = uf({ path: c.relativePath, caseSensitive: c.caseSensitive, end: u }, d), m = c.route; if (!p) return null; Object.assign(s, p.params), a.push({ params: s, pathname: os([o, p.pathname]), pathnameBase: qR(os([o, p.pathnameBase])), route: m }), p.pathnameBase !== "/" && (o = os([o, p.pathnameBase])) } return a } function uf(e, t) { typeof e == "string" && (e = { path: e, caseSensitive: !1, end: !0 }); let [r, n] = UR(e.path, e.caseSensitive, e.end), s = t.match(r); if (!s) return null; let o = s[0], a = o.replace(/(.)\/+$/, "$1"), l = s.slice(1); return { params: n.reduce((u, d, p) => { let { paramName: m, isOptional: h } = d; if (m === "*") { let g = l[p] || ""; a = o.slice(0, o.length - g.length).replace(/(.)\/+$/, "$1") } const x = l[p]; return h && !x ? u[m] = void 0 : u[m] = (x || "").replace(/%2F/g, "/"), u }, {}), pathname: o, pathnameBase: a, pattern: e } } function UR(e, t, r) { t === void 0 && (t = !1), r === void 0 && (r = !0), em(e === "*" || !e.endsWith("*") || e.endsWith("/*"), 'Route path "' + e + '" will be treated as if it were ' + ('"' + e.replace(/\*$/, "/*") + '" because the `*` character must ') + "always follow a `/` in the pattern. To get rid of this warning, " + ('please change the route path to "' + e.replace(/\*$/, "/*") + '".')); let n = [], s = "^" + e.replace(/\/*\*?$/, "").replace(/^\/*/, "/").replace(/[\\.*+^${}|()[\]]/g, "\\$&").replace(/\/:([\w-]+)(\?)?/g, (a, l, c) => (n.push({ paramName: l, isOptional: c != null }), c ? "/?([^\\/]+)?" : "/([^\\/]+)")); return e.endsWith("*") ? (n.push({ paramName: "*" }), s += e === "*" || e === "/*" ? "(.*)$" : "(?:\\/(.+)|\\/*)$") : r ? s += "\\/*$" : e !== "" && e !== "/" && (s += "(?:(?=\\/|$))"), [new RegExp(s, t ? void 0 : "i"), n] } function zR(e) { try { return e.split("/").map(t => decodeURIComponent(t).replace(/\//g, "%2F")).join("/") } catch (t) { return em(!1, 'The URL path "' + e + '" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent ' + ("encoding (" + t + ").")), e } } function mi(e, t) { if (t === "/") return e; if (!e.toLowerCase().startsWith(t.toLowerCase())) return null; let r = t.endsWith("/") ? t.length - 1 : t.length, n = e.charAt(r); return n && n !== "/" ? null : e.slice(r) || "/" } const BR = /^(?:[a-z][a-z0-9+.-]*:|\/\/)/i, VR = e => BR.test(e); function HR(e, t) { t === void 0 && (t = "/"); let { pathname: r, search: n = "", hash: s = "" } = typeof e == "string" ? Ti(e) : e, o; if (r) if (VR(r)) o = r; else { if (r.includes("//")) { let a = r; r = r.replace(/\/\/+/g, "/"), em(!1, "Pathnames cannot have embedded double slashes - normalizing " + (a + " -> " + r)) } r.startsWith("/") ? o = qv(r.substring(1), "/") : o = qv(r, t) } else o = t; return { pathname: o, search: KR(n), hash: GR(s) } } function qv(e, t) { let r = t.replace(/\/+$/, "").split("/"); return e.split("/").forEach(s => { s === ".." ? r.length > 1 && r.pop() : s !== "." && r.push(s) }), r.length > 1 ? r.join("/") : "/" } function Md(e, t, r, n) { return "Cannot include a '" + e + "' character in a manually specified " + ("`to." + t + "` field [" + JSON.stringify(n) + "].  Please separate it out to the ") + ("`to." + r + "` field. Alternatively you may provide the full path as ") + 'a string in <Link to="..."> and the router will parse it for you.' } function WR(e) { return e.filter((t, r) => r === 0 || t.route.path && t.route.path.length > 0) } function tm(e, t) { let r = WR(e); return t ? r.map((n, s) => s === r.length - 1 ? n.pathname : n.pathnameBase) : r.map(n => n.pathnameBase) } function rm(e, t, r, n) { n === void 0 && (n = !1); let s; typeof e == "string" ? s = Ti(e) : (s = Oa({}, e), Me(!s.pathname || !s.pathname.includes("?"), Md("?", "pathname", "search", s)), Me(!s.pathname || !s.pathname.includes("#"), Md("#", "pathname", "hash", s)), Me(!s.search || !s.search.includes("#"), Md("#", "search", "hash", s))); let o = e === "" || s.pathname === "", a = o ? "/" : s.pathname, l; if (a == null) l = r; else { let p = t.length - 1; if (!n && a.startsWith("..")) { let m = a.split("/"); for (; m[0] === "..";)m.shift(), p -= 1; s.pathname = m.join("/") } l = p >= 0 ? t[p] : "/" } let c = HR(s, l), u = a && a !== "/" && a.endsWith("/"), d = (o || a === ".") && r.endsWith("/"); return !c.pathname.endsWith("/") && (u || d) && (c.pathname += "/"), c } const os = e => e.join("/").replace(/\/\/+/g, "/"), qR = e => e.replace(/\/+$/, "").replace(/^\/*/, "/"), KR = e => !e || e === "?" ? "" : e.startsWith("?") ? e : "?" + e, GR = e => !e || e === "#" ? "" : e.startsWith("#") ? e : "#" + e; function YR(e) { return e != null && typeof e.status == "number" && typeof e.statusText == "string" && typeof e.internal == "boolean" && "data" in e } const Wb = ["post", "put", "patch", "delete"]; new Set(Wb); const QR = ["get", ...Wb]; new Set(QR);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ia() { return Ia = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }, Ia.apply(this, arguments) } const Iu = f.createContext(null), qb = f.createContext(null), jn = f.createContext(null), Du = f.createContext(null), xs = f.createContext({ outlet: null, matches: [], isDataRoute: !1 }), Kb = f.createContext(null); function JR(e, t) { let { relative: r } = t === void 0 ? {} : t; Ri() || Me(!1); let { basename: n, navigator: s } = f.useContext(jn), { hash: o, pathname: a, search: l } = Lu(e, { relative: r }), c = a; return n !== "/" && (c = a === "/" ? n : os([n, a])), s.createHref({ pathname: c, search: l, hash: o }) } function Ri() { return f.useContext(Du) != null } function Kt() { return Ri() || Me(!1), f.useContext(Du).location } function Gb(e) { f.useContext(jn).static || f.useLayoutEffect(e) } function Sn() { let { isDataRoute: e } = f.useContext(xs); return e ? uA() : XR() } function XR() { Ri() || Me(!1); let e = f.useContext(Iu), { basename: t, future: r, navigator: n } = f.useContext(jn), { matches: s } = f.useContext(xs), { pathname: o } = Kt(), a = JSON.stringify(tm(s, r.v7_relativeSplatPath)), l = f.useRef(!1); return Gb(() => { l.current = !0 }), f.useCallback(function (u, d) { if (d === void 0 && (d = {}), !l.current) return; if (typeof u == "number") { n.go(u); return } let p = rm(u, JSON.parse(a), o, d.relative === "path"); e == null && t !== "/" && (p.pathname = p.pathname === "/" ? t : os([t, p.pathname])), (d.replace ? n.replace : n.push)(p, d.state, d) }, [t, n, a, o, e]) } function Lu(e, t) { let { relative: r } = t === void 0 ? {} : t, { future: n } = f.useContext(jn), { matches: s } = f.useContext(xs), { pathname: o } = Kt(), a = JSON.stringify(tm(s, n.v7_relativeSplatPath)); return f.useMemo(() => rm(e, JSON.parse(a), o, r === "path"), [e, a, o, r]) } function ZR(e, t) { return eA(e, t) } function eA(e, t, r, n) { Ri() || Me(!1); let { navigator: s } = f.useContext(jn), { matches: o } = f.useContext(xs), a = o[o.length - 1], l = a ? a.params : {}; a && a.pathname; let c = a ? a.pathnameBase : "/"; a && a.route; let u = Kt(), d; if (t) { var p; let b = typeof t == "string" ? Ti(t) : t; c === "/" || (p = b.pathname) != null && p.startsWith(c) || Me(!1), d = b } else d = u; let m = d.pathname || "/", h = m; if (c !== "/") { let b = c.replace(/^\//, "").split("/"); h = "/" + m.replace(/^\//, "").split("/").slice(b.length).join("/") } let x = kR(e, { pathname: h }), g = oA(x && x.map(b => Object.assign({}, b, { params: Object.assign({}, l, b.params), pathname: os([c, s.encodeLocation ? s.encodeLocation(b.pathname).pathname : b.pathname]), pathnameBase: b.pathnameBase === "/" ? c : os([c, s.encodeLocation ? s.encodeLocation(b.pathnameBase).pathname : b.pathnameBase]) })), o, r, n); return t && g ? f.createElement(Du.Provider, { value: { location: Ia({ pathname: "/", search: "", hash: "", state: null, key: "default" }, d), navigationType: Gn.Pop } }, g) : g } function tA() { let e = cA(), t = YR(e) ? e.status + " " + e.statusText : e instanceof Error ? e.message : JSON.stringify(e), r = e instanceof Error ? e.stack : null, s = { padding: "0.5rem", backgroundColor: "rgba(200,200,200, 0.5)" }; return f.createElement(f.Fragment, null, f.createElement("h2", null, "Unexpected Application Error!"), f.createElement("h3", { style: { fontStyle: "italic" } }, t), r ? f.createElement("pre", { style: s }, r) : null, null) } const rA = f.createElement(tA, null); class nA extends f.Component { constructor(t) { super(t), this.state = { location: t.location, revalidation: t.revalidation, error: t.error } } static getDerivedStateFromError(t) { return { error: t } } static getDerivedStateFromProps(t, r) { return r.location !== t.location || r.revalidation !== "idle" && t.revalidation === "idle" ? { error: t.error, location: t.location, revalidation: t.revalidation } : { error: t.error !== void 0 ? t.error : r.error, location: r.location, revalidation: t.revalidation || r.revalidation } } componentDidCatch(t, r) { console.error("React Router caught the following error during render", t, r) } render() { return this.state.error !== void 0 ? f.createElement(xs.Provider, { value: this.props.routeContext }, f.createElement(Kb.Provider, { value: this.state.error, children: this.props.component })) : this.props.children } } function sA(e) { let { routeContext: t, match: r, children: n } = e, s = f.useContext(Iu); return s && s.static && s.staticContext && (r.route.errorElement || r.route.ErrorBoundary) && (s.staticContext._deepestRenderedBoundaryId = r.route.id), f.createElement(xs.Provider, { value: t }, n) } function oA(e, t, r, n) { var s; if (t === void 0 && (t = []), r === void 0 && (r = null), n === void 0 && (n = null), e == null) { var o; if (!r) return null; if (r.errors) e = r.matches; else if ((o = n) != null && o.v7_partialHydration && t.length === 0 && !r.initialized && r.matches.length > 0) e = r.matches; else return null } let a = e, l = (s = r) == null ? void 0 : s.errors; if (l != null) { let d = a.findIndex(p => p.route.id && (l == null ? void 0 : l[p.route.id]) !== void 0); d >= 0 || Me(!1), a = a.slice(0, Math.min(a.length, d + 1)) } let c = !1, u = -1; if (r && n && n.v7_partialHydration) for (let d = 0; d < a.length; d++) { let p = a[d]; if ((p.route.HydrateFallback || p.route.hydrateFallbackElement) && (u = d), p.route.id) { let { loaderData: m, errors: h } = r, x = p.route.loader && m[p.route.id] === void 0 && (!h || h[p.route.id] === void 0); if (p.route.lazy || x) { c = !0, u >= 0 ? a = a.slice(0, u + 1) : a = [a[0]]; break } } } return a.reduceRight((d, p, m) => { let h, x = !1, g = null, b = null; r && (h = l && p.route.id ? l[p.route.id] : void 0, g = p.route.errorElement || rA, c && (u < 0 && m === 0 ? (dA("route-fallback"), x = !0, b = null) : u === m && (x = !0, b = p.route.hydrateFallbackElement || null))); let v = t.concat(a.slice(0, m + 1)), y = () => { let w; return h ? w = g : x ? w = b : p.route.Component ? w = f.createElement(p.route.Component, null) : p.route.element ? w = p.route.element : w = d, f.createElement(sA, { match: p, routeContext: { outlet: d, matches: v, isDataRoute: r != null }, children: w }) }; return r && (p.route.ErrorBoundary || p.route.errorElement || m === 0) ? f.createElement(nA, { location: r.location, revalidation: r.revalidation, component: g, error: h, children: y(), routeContext: { outlet: null, matches: v, isDataRoute: !0 } }) : y() }, null) } var Yb = function (e) { return e.UseBlocker = "useBlocker", e.UseRevalidator = "useRevalidator", e.UseNavigateStable = "useNavigate", e }(Yb || {}), Qb = function (e) { return e.UseBlocker = "useBlocker", e.UseLoaderData = "useLoaderData", e.UseActionData = "useActionData", e.UseRouteError = "useRouteError", e.UseNavigation = "useNavigation", e.UseRouteLoaderData = "useRouteLoaderData", e.UseMatches = "useMatches", e.UseRevalidator = "useRevalidator", e.UseNavigateStable = "useNavigate", e.UseRouteId = "useRouteId", e }(Qb || {}); function iA(e) { let t = f.useContext(Iu); return t || Me(!1), t } function aA(e) { let t = f.useContext(qb); return t || Me(!1), t } function lA(e) { let t = f.useContext(xs); return t || Me(!1), t } function Jb(e) { let t = lA(), r = t.matches[t.matches.length - 1]; return r.route.id || Me(!1), r.route.id } function cA() { var e; let t = f.useContext(Kb), r = aA(), n = Jb(); return t !== void 0 ? t : (e = r.errors) == null ? void 0 : e[n] } function uA() { let { router: e } = iA(Yb.UseNavigateStable), t = Jb(Qb.UseNavigateStable), r = f.useRef(!1); return Gb(() => { r.current = !0 }), f.useCallback(function (s, o) { o === void 0 && (o = {}), r.current && (typeof s == "number" ? e.navigate(s) : e.navigate(s, Ia({ fromRouteId: t }, o))) }, [e, t]) } const Kv = {}; function dA(e, t, r) { Kv[e] || (Kv[e] = !0) } function hA(e, t) { e == null || e.v7_startTransition, e == null || e.v7_relativeSplatPath } function fA(e) { let { to: t, replace: r, state: n, relative: s } = e; Ri() || Me(!1); let { future: o, static: a } = f.useContext(jn), { matches: l } = f.useContext(xs), { pathname: c } = Kt(), u = Sn(), d = rm(t, tm(l, o.v7_relativeSplatPath), c, s === "path"), p = JSON.stringify(d); return f.useEffect(() => u(JSON.parse(p), { replace: r, state: n, relative: s }), [u, p, s, r, n]), null } function tt(e) { Me(!1) } function pA(e) { let { basename: t = "/", children: r = null, location: n, navigationType: s = Gn.Pop, navigator: o, static: a = !1, future: l } = e; Ri() && Me(!1); let c = t.replace(/^\/*/, "/"), u = f.useMemo(() => ({ basename: c, navigator: o, static: a, future: Ia({ v7_relativeSplatPath: !1 }, l) }), [c, l, o, a]); typeof n == "string" && (n = Ti(n)); let { pathname: d = "/", search: p = "", hash: m = "", state: h = null, key: x = "default" } = n, g = f.useMemo(() => { let b = mi(d, c); return b == null ? null : { location: { pathname: b, search: p, hash: m, state: h, key: x }, navigationType: s } }, [c, d, p, m, h, x, s]); return g == null ? null : f.createElement(jn.Provider, { value: u }, f.createElement(Du.Provider, { children: r, value: g })) } function mA(e) { let { children: t, location: r } = e; return ZR(df(t), r) } new Promise(() => { }); function df(e, t) { t === void 0 && (t = []); let r = []; return f.Children.forEach(e, (n, s) => { if (!f.isValidElement(n)) return; let o = [...t, s]; if (n.type === f.Fragment) { r.push.apply(r, df(n.props.children, o)); return } n.type !== tt && Me(!1), !n.props.index || !n.props.children || Me(!1); let a = { id: n.props.id || o.join("-"), caseSensitive: n.props.caseSensitive, element: n.props.element, Component: n.props.Component, index: n.props.index, path: n.props.path, loader: n.props.loader, action: n.props.action, errorElement: n.props.errorElement, ErrorBoundary: n.props.ErrorBoundary, hasErrorBoundary: n.props.ErrorBoundary != null || n.props.errorElement != null, shouldRevalidate: n.props.shouldRevalidate, handle: n.props.handle, lazy: n.props.lazy }; n.props.children && (a.children = df(n.props.children, o)), r.push(a) }), r }/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zc() { return zc = Object.assign ? Object.assign.bind() : function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }, zc.apply(this, arguments) } function Xb(e, t) { if (e == null) return {}; var r = {}, n = Object.keys(e), s, o; for (o = 0; o < n.length; o++)s = n[o], !(t.indexOf(s) >= 0) && (r[s] = e[s]); return r } function gA(e) { return !!(e.metaKey || e.altKey || e.ctrlKey || e.shiftKey) } function vA(e, t) { return e.button === 0 && (!t || t === "_self") && !gA(e) } function hf(e) { return e === void 0 && (e = ""), new URLSearchParams(typeof e == "string" || Array.isArray(e) || e instanceof URLSearchParams ? e : Object.keys(e).reduce((t, r) => { let n = e[r]; return t.concat(Array.isArray(n) ? n.map(s => [r, s]) : [[r, n]]) }, [])) } function yA(e, t) { let r = hf(e); return t && t.forEach((n, s) => { r.has(s) || t.getAll(s).forEach(o => { r.append(s, o) }) }), r } const xA = ["onClick", "relative", "reloadDocument", "replace", "state", "target", "to", "preventScrollReset", "viewTransition"], wA = ["aria-current", "caseSensitive", "className", "end", "style", "to", "viewTransition", "children"], bA = "6"; try { window.__reactRouterVersion = bA } catch { } const jA = f.createContext({ isTransitioning: !1 }), SA = "startTransition", Gv = ou[SA]; function _A(e) { let { basename: t, children: r, future: n, window: s } = e, o = f.useRef(); o.current == null && (o.current = NR({ window: s, v5Compat: !0 })); let a = o.current, [l, c] = f.useState({ action: a.action, location: a.location }), { v7_startTransition: u } = n || {}, d = f.useCallback(p => { u && Gv ? Gv(() => c(p)) : c(p) }, [c, u]); return f.useLayoutEffect(() => a.listen(d), [a, d]), f.useEffect(() => hA(n), [n]), f.createElement(pA, { basename: t, children: r, location: l.location, navigationType: l.action, navigator: a, future: n }) } const NA = typeof window < "u" && typeof window.document < "u" && typeof window.document.createElement < "u", EA = /^(?:[a-z][a-z0-9+.-]*:|\/\/)/i, He = f.forwardRef(function (t, r) { let { onClick: n, relative: s, reloadDocument: o, replace: a, state: l, target: c, to: u, preventScrollReset: d, viewTransition: p } = t, m = Xb(t, xA), { basename: h } = f.useContext(jn), x, g = !1; if (typeof u == "string" && EA.test(u) && (x = u, NA)) try { let w = new URL(window.location.href), j = u.startsWith("//") ? new URL(w.protocol + u) : new URL(u), S = mi(j.pathname, h); j.origin === w.origin && S != null ? u = S + j.search + j.hash : g = !0 } catch { } let b = JR(u, { relative: s }), v = kA(u, { replace: a, state: l, target: c, preventScrollReset: d, relative: s, viewTransition: p }); function y(w) { n && n(w), w.defaultPrevented || v(w) } return f.createElement("a", zc({}, m, { href: x || b, onClick: g || o ? n : y, ref: r, target: c })) }), nc = f.forwardRef(function (t, r) { let { "aria-current": n = "page", caseSensitive: s = !1, className: o = "", end: a = !1, style: l, to: c, viewTransition: u, children: d } = t, p = Xb(t, wA), m = Lu(c, { relative: p.relative }), h = Kt(), x = f.useContext(qb), { navigator: g, basename: b } = f.useContext(jn), v = x != null && TA(m) && u === !0, y = g.encodeLocation ? g.encodeLocation(m).pathname : m.pathname, w = h.pathname, j = x && x.navigation && x.navigation.location ? x.navigation.location.pathname : null; s || (w = w.toLowerCase(), j = j ? j.toLowerCase() : null, y = y.toLowerCase()), j && b && (j = mi(j, b) || j); const S = y !== "/" && y.endsWith("/") ? y.length - 1 : y.length; let _ = w === y || !a && w.startsWith(y) && w.charAt(S) === "/", C = j != null && (j === y || !a && j.startsWith(y) && j.charAt(y.length) === "/"), k = { isActive: _, isPending: C, isTransitioning: v }, E = _ ? n : void 0, P; typeof o == "function" ? P = o(k) : P = [o, _ ? "active" : null, C ? "pending" : null, v ? "transitioning" : null].filter(Boolean).join(" "); let L = typeof l == "function" ? l(k) : l; return f.createElement(He, zc({}, p, { "aria-current": E, className: P, ref: r, style: L, to: c, viewTransition: u }), typeof d == "function" ? d(k) : d) }); var ff; (function (e) { e.UseScrollRestoration = "useScrollRestoration", e.UseSubmit = "useSubmit", e.UseSubmitFetcher = "useSubmitFetcher", e.UseFetcher = "useFetcher", e.useViewTransitionState = "useViewTransitionState" })(ff || (ff = {})); var Yv; (function (e) { e.UseFetcher = "useFetcher", e.UseFetchers = "useFetchers", e.UseScrollRestoration = "useScrollRestoration" })(Yv || (Yv = {})); function CA(e) { let t = f.useContext(Iu); return t || Me(!1), t } function kA(e, t) { let { target: r, replace: n, state: s, preventScrollReset: o, relative: a, viewTransition: l } = t === void 0 ? {} : t, c = Sn(), u = Kt(), d = Lu(e, { relative: a }); return f.useCallback(p => { if (vA(p, r)) { p.preventDefault(); let m = n !== void 0 ? n : Uc(u) === Uc(d); c(e, { replace: m, state: s, preventScrollReset: o, relative: a, viewTransition: l }) } }, [u, c, d, n, s, r, e, o, a, l]) } function PA(e) { let t = f.useRef(hf(e)), r = f.useRef(!1), n = Kt(), s = f.useMemo(() => yA(n.search, r.current ? null : t.current), [n.search]), o = Sn(), a = f.useCallback((l, c) => { const u = hf(typeof l == "function" ? l(s) : l); r.current = !0, o("?" + u, c) }, [o, s]); return [s, a] } function TA(e, t) { t === void 0 && (t = {}); let r = f.useContext(jA); r == null && Me(!1); let { basename: n } = CA(ff.useViewTransitionState), s = Lu(e, { relative: t.relative }); if (!r.isTransitioning) return !1; let o = mi(r.currentLocation.pathname, n) || r.currentLocation.pathname, a = mi(r.nextLocation.pathname, n) || r.nextLocation.pathname; return uf(s.pathname, a) != null || uf(s.pathname, o) != null } var nm = {}, Bc = {}, pf = function (e, t) { return pf = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (r, n) { r.__proto__ = n } || function (r, n) { for (var s in n) Object.prototype.hasOwnProperty.call(n, s) && (r[s] = n[s]) }, pf(e, t) }; function Zb(e, t) { if (typeof t != "function" && t !== null) throw new TypeError("Class extends value " + String(t) + " is not a constructor or null"); pf(e, t); function r() { this.constructor = e } e.prototype = t === null ? Object.create(t) : (r.prototype = t.prototype, new r) } var Zt = function () { return Zt = Object.assign || function (t) { for (var r, n = 1, s = arguments.length; n < s; n++) { r = arguments[n]; for (var o in r) Object.prototype.hasOwnProperty.call(r, o) && (t[o] = r[o]) } return t }, Zt.apply(this, arguments) }; function ws(e, t) { var r = {}; for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && t.indexOf(n) < 0 && (r[n] = e[n]); if (e != null && typeof Object.getOwnPropertySymbols == "function") for (var s = 0, n = Object.getOwnPropertySymbols(e); s < n.length; s++)t.indexOf(n[s]) < 0 && Object.prototype.propertyIsEnumerable.call(e, n[s]) && (r[n[s]] = e[n[s]]); return r } function ej(e, t, r, n) { var s = arguments.length, o = s < 3 ? t : n === null ? n = Object.getOwnPropertyDescriptor(t, r) : n, a; if (typeof Reflect == "object" && typeof Reflect.decorate == "function") o = Reflect.decorate(e, t, r, n); else for (var l = e.length - 1; l >= 0; l--)(a = e[l]) && (o = (s < 3 ? a(o) : s > 3 ? a(t, r, o) : a(t, r)) || o); return s > 3 && o && Object.defineProperty(t, r, o), o } function tj(e, t) { return function (r, n) { t(r, n, e) } } function rj(e, t, r, n, s, o) { function a(v) { if (v !== void 0 && typeof v != "function") throw new TypeError("Function expected"); return v } for (var l = n.kind, c = l === "getter" ? "get" : l === "setter" ? "set" : "value", u = !t && e ? n.static ? e : e.prototype : null, d = t || (u ? Object.getOwnPropertyDescriptor(u, n.name) : {}), p, m = !1, h = r.length - 1; h >= 0; h--) { var x = {}; for (var g in n) x[g] = g === "access" ? {} : n[g]; for (var g in n.access) x.access[g] = n.access[g]; x.addInitializer = function (v) { if (m) throw new TypeError("Cannot add initializers after decoration has completed"); o.push(a(v || null)) }; var b = (0, r[h])(l === "accessor" ? { get: d.get, set: d.set } : d[c], x); if (l === "accessor") { if (b === void 0) continue; if (b === null || typeof b != "object") throw new TypeError("Object expected"); (p = a(b.get)) && (d.get = p), (p = a(b.set)) && (d.set = p), (p = a(b.init)) && s.unshift(p) } else (p = a(b)) && (l === "field" ? s.unshift(p) : d[c] = p) } u && Object.defineProperty(u, n.name, d), m = !0 } function nj(e, t, r) { for (var n = arguments.length > 2, s = 0; s < t.length; s++)r = n ? t[s].call(e, r) : t[s].call(e); return n ? r : void 0 } function sj(e) { return typeof e == "symbol" ? e : "".concat(e) } function oj(e, t, r) { return typeof t == "symbol" && (t = t.description ? "[".concat(t.description, "]") : ""), Object.defineProperty(e, "name", { configurable: !0, value: r ? "".concat(r, " ", t) : t }) } function ij(e, t) { if (typeof Reflect == "object" && typeof Reflect.metadata == "function") return Reflect.metadata(e, t) } function Z(e, t, r, n) { function s(o) { return o instanceof r ? o : new r(function (a) { a(o) }) } return new (r || (r = Promise))(function (o, a) { function l(d) { try { u(n.next(d)) } catch (p) { a(p) } } function c(d) { try { u(n.throw(d)) } catch (p) { a(p) } } function u(d) { d.done ? o(d.value) : s(d.value).then(l, c) } u((n = n.apply(e, t || [])).next()) }) } function aj(e, t) { var r = { label: 0, sent: function () { if (o[0] & 1) throw o[1]; return o[1] }, trys: [], ops: [] }, n, s, o, a = Object.create((typeof Iterator == "function" ? Iterator : Object).prototype); return a.next = l(0), a.throw = l(1), a.return = l(2), typeof Symbol == "function" && (a[Symbol.iterator] = function () { return this }), a; function l(u) { return function (d) { return c([u, d]) } } function c(u) { if (n) throw new TypeError("Generator is already executing."); for (; a && (a = 0, u[0] && (r = 0)), r;)try { if (n = 1, s && (o = u[0] & 2 ? s.return : u[0] ? s.throw || ((o = s.return) && o.call(s), 0) : s.next) && !(o = o.call(s, u[1])).done) return o; switch (s = 0, o && (u = [u[0] & 2, o.value]), u[0]) { case 0: case 1: o = u; break; case 4: return r.label++, { value: u[1], done: !1 }; case 5: r.label++, s = u[1], u = [0]; continue; case 7: u = r.ops.pop(), r.trys.pop(); continue; default: if (o = r.trys, !(o = o.length > 0 && o[o.length - 1]) && (u[0] === 6 || u[0] === 2)) { r = 0; continue } if (u[0] === 3 && (!o || u[1] > o[0] && u[1] < o[3])) { r.label = u[1]; break } if (u[0] === 6 && r.label < o[1]) { r.label = o[1], o = u; break } if (o && r.label < o[2]) { r.label = o[2], r.ops.push(u); break } o[2] && r.ops.pop(), r.trys.pop(); continue }u = t.call(e, r) } catch (d) { u = [6, d], s = 0 } finally { n = o = 0 } if (u[0] & 5) throw u[1]; return { value: u[0] ? u[1] : void 0, done: !0 } } } var $u = Object.create ? function (e, t, r, n) { n === void 0 && (n = r); var s = Object.getOwnPropertyDescriptor(t, r); (!s || ("get" in s ? !t.__esModule : s.writable || s.configurable)) && (s = { enumerable: !0, get: function () { return t[r] } }), Object.defineProperty(e, n, s) } : function (e, t, r, n) { n === void 0 && (n = r), e[n] = t[r] }; function lj(e, t) { for (var r in e) r !== "default" && !Object.prototype.hasOwnProperty.call(t, r) && $u(t, e, r) } function Vc(e) { var t = typeof Symbol == "function" && Symbol.iterator, r = t && e[t], n = 0; if (r) return r.call(e); if (e && typeof e.length == "number") return { next: function () { return e && n >= e.length && (e = void 0), { value: e && e[n++], done: !e } } }; throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.") } function sm(e, t) { var r = typeof Symbol == "function" && e[Symbol.iterator]; if (!r) return e; var n = r.call(e), s, o = [], a; try { for (; (t === void 0 || t-- > 0) && !(s = n.next()).done;)o.push(s.value) } catch (l) { a = { error: l } } finally { try { s && !s.done && (r = n.return) && r.call(n) } finally { if (a) throw a.error } } return o } function cj() { for (var e = [], t = 0; t < arguments.length; t++)e = e.concat(sm(arguments[t])); return e } function uj() { for (var e = 0, t = 0, r = arguments.length; t < r; t++)e += arguments[t].length; for (var n = Array(e), s = 0, t = 0; t < r; t++)for (var o = arguments[t], a = 0, l = o.length; a < l; a++, s++)n[s] = o[a]; return n } function om(e, t, r) { if (r || arguments.length === 2) for (var n = 0, s = t.length, o; n < s; n++)(o || !(n in t)) && (o || (o = Array.prototype.slice.call(t, 0, n)), o[n] = t[n]); return e.concat(o || Array.prototype.slice.call(t)) } function gi(e) { return this instanceof gi ? (this.v = e, this) : new gi(e) } function dj(e, t, r) { if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined."); var n = r.apply(e, t || []), s, o = []; return s = Object.create((typeof AsyncIterator == "function" ? AsyncIterator : Object).prototype), l("next"), l("throw"), l("return", a), s[Symbol.asyncIterator] = function () { return this }, s; function a(h) { return function (x) { return Promise.resolve(x).then(h, p) } } function l(h, x) { n[h] && (s[h] = function (g) { return new Promise(function (b, v) { o.push([h, g, b, v]) > 1 || c(h, g) }) }, x && (s[h] = x(s[h]))) } function c(h, x) { try { u(n[h](x)) } catch (g) { m(o[0][3], g) } } function u(h) { h.value instanceof gi ? Promise.resolve(h.value.v).then(d, p) : m(o[0][2], h) } function d(h) { c("next", h) } function p(h) { c("throw", h) } function m(h, x) { h(x), o.shift(), o.length && c(o[0][0], o[0][1]) } } function hj(e) { var t, r; return t = {}, n("next"), n("throw", function (s) { throw s }), n("return"), t[Symbol.iterator] = function () { return this }, t; function n(s, o) { t[s] = e[s] ? function (a) { return (r = !r) ? { value: gi(e[s](a)), done: !1 } : o ? o(a) : a } : o } } function fj(e) { if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined."); var t = e[Symbol.asyncIterator], r; return t ? t.call(e) : (e = typeof Vc == "function" ? Vc(e) : e[Symbol.iterator](), r = {}, n("next"), n("throw"), n("return"), r[Symbol.asyncIterator] = function () { return this }, r); function n(o) { r[o] = e[o] && function (a) { return new Promise(function (l, c) { a = e[o](a), s(l, c, a.done, a.value) }) } } function s(o, a, l, c) { Promise.resolve(c).then(function (u) { o({ value: u, done: l }) }, a) } } function pj(e, t) { return Object.defineProperty ? Object.defineProperty(e, "raw", { value: t }) : e.raw = t, e } var RA = Object.create ? function (e, t) { Object.defineProperty(e, "default", { enumerable: !0, value: t }) } : function (e, t) { e.default = t }, mf = function (e) { return mf = Object.getOwnPropertyNames || function (t) { var r = []; for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && (r[r.length] = n); return r }, mf(e) }; function mj(e) { if (e && e.__esModule) return e; var t = {}; if (e != null) for (var r = mf(e), n = 0; n < r.length; n++)r[n] !== "default" && $u(t, e, r[n]); return RA(t, e), t } function gj(e) { return e && e.__esModule ? e : { default: e } } function vj(e, t, r, n) { if (r === "a" && !n) throw new TypeError("Private accessor was defined without a getter"); if (typeof t == "function" ? e !== t || !n : !t.has(e)) throw new TypeError("Cannot read private member from an object whose class did not declare it"); return r === "m" ? n : r === "a" ? n.call(e) : n ? n.value : t.get(e) } function yj(e, t, r, n, s) { if (n === "m") throw new TypeError("Private method is not writable"); if (n === "a" && !s) throw new TypeError("Private accessor was defined without a setter"); if (typeof t == "function" ? e !== t || !s : !t.has(e)) throw new TypeError("Cannot write private member to an object whose class did not declare it"); return n === "a" ? s.call(e, r) : s ? s.value = r : t.set(e, r), r } function xj(e, t) { if (t === null || typeof t != "object" && typeof t != "function") throw new TypeError("Cannot use 'in' operator on non-object"); return typeof e == "function" ? t === e : e.has(t) } function wj(e, t, r) { if (t != null) { if (typeof t != "object" && typeof t != "function") throw new TypeError("Object expected."); var n, s; if (r) { if (!Symbol.asyncDispose) throw new TypeError("Symbol.asyncDispose is not defined."); n = t[Symbol.asyncDispose] } if (n === void 0) { if (!Symbol.dispose) throw new TypeError("Symbol.dispose is not defined."); n = t[Symbol.dispose], r && (s = n) } if (typeof n != "function") throw new TypeError("Object not disposable."); s && (n = function () { try { s.call(this) } catch (o) { return Promise.reject(o) } }), e.stack.push({ value: t, dispose: n, async: r }) } else r && e.stack.push({ async: !0 }); return t } var AA = typeof SuppressedError == "function" ? SuppressedError : function (e, t, r) { var n = new Error(r); return n.name = "SuppressedError", n.error = e, n.suppressed = t, n }; function bj(e) { function t(o) { e.error = e.hasError ? new AA(o, e.error, "An error was suppressed during disposal.") : o, e.hasError = !0 } var r, n = 0; function s() { for (; r = e.stack.pop();)try { if (!r.async && n === 1) return n = 0, e.stack.push(r), Promise.resolve().then(s); if (r.dispose) { var o = r.dispose.call(r.value); if (r.async) return n |= 2, Promise.resolve(o).then(s, function (a) { return t(a), s() }) } else n |= 1 } catch (a) { t(a) } if (n === 1) return e.hasError ? Promise.reject(e.error) : Promise.resolve(); if (e.hasError) throw e.error } return s() } function jj(e, t) { return typeof e == "string" && /^\.\.?\//.test(e) ? e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i, function (r, n, s, o, a) { return n ? t ? ".jsx" : ".js" : s && (!o || !a) ? r : s + o + "." + a.toLowerCase() + "js" }) : e } const OA = { __extends: Zb, __assign: Zt, __rest: ws, __decorate: ej, __param: tj, __esDecorate: rj, __runInitializers: nj, __propKey: sj, __setFunctionName: oj, __metadata: ij, __awaiter: Z, __generator: aj, __createBinding: $u, __exportStar: lj, __values: Vc, __read: sm, __spread: cj, __spreadArrays: uj, __spreadArray: om, __await: gi, __asyncGenerator: dj, __asyncDelegator: hj, __asyncValues: fj, __makeTemplateObject: pj, __importStar: mj, __importDefault: gj, __classPrivateFieldGet: vj, __classPrivateFieldSet: yj, __classPrivateFieldIn: xj, __addDisposableResource: wj, __disposeResources: bj, __rewriteRelativeImportExtension: jj }, IA = Object.freeze(Object.defineProperty({ __proto__: null, __addDisposableResource: wj, get __assign() { return Zt }, __asyncDelegator: hj, __asyncGenerator: dj, __asyncValues: fj, __await: gi, __awaiter: Z, __classPrivateFieldGet: vj, __classPrivateFieldIn: xj, __classPrivateFieldSet: yj, __createBinding: $u, __decorate: ej, __disposeResources: bj, __esDecorate: rj, __exportStar: lj, __extends: Zb, __generator: aj, __importDefault: gj, __importStar: mj, __makeTemplateObject: pj, __metadata: ij, __param: tj, __propKey: sj, __read: sm, __rest: ws, __rewriteRelativeImportExtension: jj, __runInitializers: nj, __setFunctionName: oj, __spread: cj, __spreadArray: om, __spreadArrays: uj, __values: Vc, default: OA }, Symbol.toStringTag, { value: "Module" })), DA = e => e ? (...t) => e(...t) : (...t) => fetch(...t); let Mu = class extends Error { constructor(t, r = "FunctionsError", n) { super(t), this.name = r, this.context = n } }, Sj = class extends Mu { constructor(t) { super("Failed to send a request to the Edge Function", "FunctionsFetchError", t) } }, gf = class extends Mu { constructor(t) { super("Relay Error invoking the Edge Function", "FunctionsRelayError", t) } }, vf = class extends Mu { constructor(t) { super("Edge Function returned a non-2xx status code", "FunctionsHttpError", t) } }; var Hc; (function (e) { e.Any = "any", e.ApNortheast1 = "ap-northeast-1", e.ApNortheast2 = "ap-northeast-2", e.ApSouth1 = "ap-south-1", e.ApSoutheast1 = "ap-southeast-1", e.ApSoutheast2 = "ap-southeast-2", e.CaCentral1 = "ca-central-1", e.EuCentral1 = "eu-central-1", e.EuWest1 = "eu-west-1", e.EuWest2 = "eu-west-2", e.EuWest3 = "eu-west-3", e.SaEast1 = "sa-east-1", e.UsEast1 = "us-east-1", e.UsWest1 = "us-west-1", e.UsWest2 = "us-west-2" })(Hc || (Hc = {})); class LA { constructor(t, { headers: r = {}, customFetch: n, region: s = Hc.Any } = {}) { this.url = t, this.headers = r, this.region = s, this.fetch = DA(n) } setAuth(t) { this.headers.Authorization = `Bearer ${t}` } invoke(t) { return Z(this, arguments, void 0, function* (r, n = {}) { var s; let o, a; try { const { headers: l, method: c, body: u, signal: d, timeout: p } = n; let m = {}, { region: h } = n; h || (h = this.region); const x = new URL(`${this.url}/${r}`); h && h !== "any" && (m["x-region"] = h, x.searchParams.set("forceFunctionRegion", h)); let g; u && (l && !Object.prototype.hasOwnProperty.call(l, "Content-Type") || !l) ? typeof Blob < "u" && u instanceof Blob || u instanceof ArrayBuffer ? (m["Content-Type"] = "application/octet-stream", g = u) : typeof u == "string" ? (m["Content-Type"] = "text/plain", g = u) : typeof FormData < "u" && u instanceof FormData ? g = u : (m["Content-Type"] = "application/json", g = JSON.stringify(u)) : g = u; let b = d; p && (a = new AbortController, o = setTimeout(() => a.abort(), p), d ? (b = a.signal, d.addEventListener("abort", () => a.abort())) : b = a.signal); const v = yield this.fetch(x.toString(), { method: c || "POST", headers: Object.assign(Object.assign(Object.assign({}, m), this.headers), l), body: g, signal: b }).catch(S => { throw new Sj(S) }), y = v.headers.get("x-relay-error"); if (y && y === "true") throw new gf(v); if (!v.ok) throw new vf(v); let w = ((s = v.headers.get("Content-Type")) !== null && s !== void 0 ? s : "text/plain").split(";")[0].trim(), j; return w === "application/json" ? j = yield v.json() : w === "application/octet-stream" || w === "application/pdf" ? j = yield v.blob() : w === "text/event-stream" ? j = v : w === "multipart/form-data" ? j = yield v.formData() : j = yield v.text(), { data: j, error: null, response: v } } catch (l) { return { data: null, error: l, response: l instanceof vf || l instanceof gf ? l.context : void 0 } } finally { o && clearTimeout(o) } }) } } const $A = Object.freeze(Object.defineProperty({ __proto__: null, get FunctionRegion() { return Hc }, FunctionsClient: LA, FunctionsError: Mu, FunctionsFetchError: Sj, FunctionsHttpError: vf, FunctionsRelayError: gf }, Symbol.toStringTag, { value: "Module" })), _j = Ua($A); var mt = {}; const Ai = Ua(IA); var Cl = {}, kl = {}, Pl = {}, Tl = {}, Rl = {}, Al = {}, Qv; function Nj() { if (Qv) return Al; Qv = 1, Object.defineProperty(Al, "__esModule", { value: !0 }); class e extends Error { constructor(r) { super(r.message), this.name = "PostgrestError", this.details = r.details, this.hint = r.hint, this.code = r.code } } return Al.default = e, Al } var Jv; function Ej() {
  if (Jv) return Rl; Jv = 1, Object.defineProperty(Rl, "__esModule", { value: !0 }); const t = Ai.__importDefault(Nj()); let r = class {
    constructor(s) { var o, a; this.shouldThrowOnError = !1, this.method = s.method, this.url = s.url, this.headers = new Headers(s.headers), this.schema = s.schema, this.body = s.body, this.shouldThrowOnError = (o = s.shouldThrowOnError) !== null && o !== void 0 ? o : !1, this.signal = s.signal, this.isMaybeSingle = (a = s.isMaybeSingle) !== null && a !== void 0 ? a : !1, s.fetch ? this.fetch = s.fetch : this.fetch = fetch } throwOnError() { return this.shouldThrowOnError = !0, this } setHeader(s, o) { return this.headers = new Headers(this.headers), this.headers.set(s, o), this } then(s, o) {
      this.schema === void 0 || (["GET", "HEAD"].includes(this.method) ? this.headers.set("Accept-Profile", this.schema) : this.headers.set("Content-Profile", this.schema)), this.method !== "GET" && this.method !== "HEAD" && this.headers.set("Content-Type", "application/json"); const a = this.fetch; let l = a(this.url.toString(), { method: this.method, headers: this.headers, body: JSON.stringify(this.body), signal: this.signal }).then(async c => { var u, d, p, m; let h = null, x = null, g = null, b = c.status, v = c.statusText; if (c.ok) { if (this.method !== "HEAD") { const S = await c.text(); S === "" || (this.headers.get("Accept") === "text/csv" || this.headers.get("Accept") && (!((u = this.headers.get("Accept")) === null || u === void 0) && u.includes("application/vnd.pgrst.plan+text")) ? x = S : x = JSON.parse(S)) } const w = (d = this.headers.get("Prefer")) === null || d === void 0 ? void 0 : d.match(/count=(exact|planned|estimated)/), j = (p = c.headers.get("content-range")) === null || p === void 0 ? void 0 : p.split("/"); w && j && j.length > 1 && (g = parseInt(j[1])), this.isMaybeSingle && this.method === "GET" && Array.isArray(x) && (x.length > 1 ? (h = { code: "PGRST116", details: `Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`, hint: null, message: "JSON object requested, multiple (or no) rows returned" }, x = null, g = null, b = 406, v = "Not Acceptable") : x.length === 1 ? x = x[0] : x = null) } else { const w = await c.text(); try { h = JSON.parse(w), Array.isArray(h) && c.status === 404 && (x = [], h = null, b = 200, v = "OK") } catch { c.status === 404 && w === "" ? (b = 204, v = "No Content") : h = { message: w } } if (h && this.isMaybeSingle && (!((m = h == null ? void 0 : h.details) === null || m === void 0) && m.includes("0 rows")) && (h = null, b = 200, v = "OK"), h && this.shouldThrowOnError) throw new t.default(h) } return { error: h, data: x, count: g, status: b, statusText: v } }); return this.shouldThrowOnError || (l = l.catch(c => {
        var u, d, p, m, h, x; let g = ""; const b = c == null ? void 0 : c.cause; if (b) {
          const v = (u = b == null ? void 0 : b.message) !== null && u !== void 0 ? u : "", y = (d = b == null ? void 0 : b.code) !== null && d !== void 0 ? d : ""; g = `${(p = c == null ? void 0 : c.name) !== null && p !== void 0 ? p : "FetchError"}: ${c == null ? void 0 : c.message}`, g += `

Caused by: ${(m = b == null ? void 0 : b.name) !== null && m !== void 0 ? m : "Error"}: ${v}`, y && (g += ` (${y})`), b != null && b.stack && (g += `
${b.stack}`)
        } else g = (h = c == null ? void 0 : c.stack) !== null && h !== void 0 ? h : ""; return { error: { message: `${(x = c == null ? void 0 : c.name) !== null && x !== void 0 ? x : "FetchError"}: ${c == null ? void 0 : c.message}`, details: g, hint: "", code: "" }, data: null, count: null, status: 0, statusText: "" }
      })), l.then(s, o)
    } returns() { return this } overrideTypes() { return this }
  }; return Rl.default = r, Rl
} var Xv; function Cj() { if (Xv) return Tl; Xv = 1, Object.defineProperty(Tl, "__esModule", { value: !0 }); const t = Ai.__importDefault(Ej()); let r = class extends t.default { select(s) { let o = !1; const a = (s ?? "*").split("").map(l => /\s/.test(l) && !o ? "" : (l === '"' && (o = !o), l)).join(""); return this.url.searchParams.set("select", a), this.headers.append("Prefer", "return=representation"), this } order(s, { ascending: o = !0, nullsFirst: a, foreignTable: l, referencedTable: c = l } = {}) { const u = c ? `${c}.order` : "order", d = this.url.searchParams.get(u); return this.url.searchParams.set(u, `${d ? `${d},` : ""}${s}.${o ? "asc" : "desc"}${a === void 0 ? "" : a ? ".nullsfirst" : ".nullslast"}`), this } limit(s, { foreignTable: o, referencedTable: a = o } = {}) { const l = typeof a > "u" ? "limit" : `${a}.limit`; return this.url.searchParams.set(l, `${s}`), this } range(s, o, { foreignTable: a, referencedTable: l = a } = {}) { const c = typeof l > "u" ? "offset" : `${l}.offset`, u = typeof l > "u" ? "limit" : `${l}.limit`; return this.url.searchParams.set(c, `${s}`), this.url.searchParams.set(u, `${o - s + 1}`), this } abortSignal(s) { return this.signal = s, this } single() { return this.headers.set("Accept", "application/vnd.pgrst.object+json"), this } maybeSingle() { return this.method === "GET" ? this.headers.set("Accept", "application/json") : this.headers.set("Accept", "application/vnd.pgrst.object+json"), this.isMaybeSingle = !0, this } csv() { return this.headers.set("Accept", "text/csv"), this } geojson() { return this.headers.set("Accept", "application/geo+json"), this } explain({ analyze: s = !1, verbose: o = !1, settings: a = !1, buffers: l = !1, wal: c = !1, format: u = "text" } = {}) { var d; const p = [s ? "analyze" : null, o ? "verbose" : null, a ? "settings" : null, l ? "buffers" : null, c ? "wal" : null].filter(Boolean).join("|"), m = (d = this.headers.get("Accept")) !== null && d !== void 0 ? d : "application/json"; return this.headers.set("Accept", `application/vnd.pgrst.plan+${u}; for="${m}"; options=${p};`), u === "json" ? this : this } rollback() { return this.headers.append("Prefer", "tx=rollback"), this } returns() { return this } maxAffected(s) { return this.headers.append("Prefer", "handling=strict"), this.headers.append("Prefer", `max-affected=${s}`), this } }; return Tl.default = r, Tl } var Zv; function im() { if (Zv) return Pl; Zv = 1, Object.defineProperty(Pl, "__esModule", { value: !0 }); const t = Ai.__importDefault(Cj()), r = new RegExp("[,()]"); let n = class extends t.default { eq(o, a) { return this.url.searchParams.append(o, `eq.${a}`), this } neq(o, a) { return this.url.searchParams.append(o, `neq.${a}`), this } gt(o, a) { return this.url.searchParams.append(o, `gt.${a}`), this } gte(o, a) { return this.url.searchParams.append(o, `gte.${a}`), this } lt(o, a) { return this.url.searchParams.append(o, `lt.${a}`), this } lte(o, a) { return this.url.searchParams.append(o, `lte.${a}`), this } like(o, a) { return this.url.searchParams.append(o, `like.${a}`), this } likeAllOf(o, a) { return this.url.searchParams.append(o, `like(all).{${a.join(",")}}`), this } likeAnyOf(o, a) { return this.url.searchParams.append(o, `like(any).{${a.join(",")}}`), this } ilike(o, a) { return this.url.searchParams.append(o, `ilike.${a}`), this } ilikeAllOf(o, a) { return this.url.searchParams.append(o, `ilike(all).{${a.join(",")}}`), this } ilikeAnyOf(o, a) { return this.url.searchParams.append(o, `ilike(any).{${a.join(",")}}`), this } regexMatch(o, a) { return this.url.searchParams.append(o, `match.${a}`), this } regexIMatch(o, a) { return this.url.searchParams.append(o, `imatch.${a}`), this } is(o, a) { return this.url.searchParams.append(o, `is.${a}`), this } isDistinct(o, a) { return this.url.searchParams.append(o, `isdistinct.${a}`), this } in(o, a) { const l = Array.from(new Set(a)).map(c => typeof c == "string" && r.test(c) ? `"${c}"` : `${c}`).join(","); return this.url.searchParams.append(o, `in.(${l})`), this } contains(o, a) { return typeof a == "string" ? this.url.searchParams.append(o, `cs.${a}`) : Array.isArray(a) ? this.url.searchParams.append(o, `cs.{${a.join(",")}}`) : this.url.searchParams.append(o, `cs.${JSON.stringify(a)}`), this } containedBy(o, a) { return typeof a == "string" ? this.url.searchParams.append(o, `cd.${a}`) : Array.isArray(a) ? this.url.searchParams.append(o, `cd.{${a.join(",")}}`) : this.url.searchParams.append(o, `cd.${JSON.stringify(a)}`), this } rangeGt(o, a) { return this.url.searchParams.append(o, `sr.${a}`), this } rangeGte(o, a) { return this.url.searchParams.append(o, `nxl.${a}`), this } rangeLt(o, a) { return this.url.searchParams.append(o, `sl.${a}`), this } rangeLte(o, a) { return this.url.searchParams.append(o, `nxr.${a}`), this } rangeAdjacent(o, a) { return this.url.searchParams.append(o, `adj.${a}`), this } overlaps(o, a) { return typeof a == "string" ? this.url.searchParams.append(o, `ov.${a}`) : this.url.searchParams.append(o, `ov.{${a.join(",")}}`), this } textSearch(o, a, { config: l, type: c } = {}) { let u = ""; c === "plain" ? u = "pl" : c === "phrase" ? u = "ph" : c === "websearch" && (u = "w"); const d = l === void 0 ? "" : `(${l})`; return this.url.searchParams.append(o, `${u}fts${d}.${a}`), this } match(o) { return Object.entries(o).forEach(([a, l]) => { this.url.searchParams.append(a, `eq.${l}`) }), this } not(o, a, l) { return this.url.searchParams.append(o, `not.${a}.${l}`), this } or(o, { foreignTable: a, referencedTable: l = a } = {}) { const c = l ? `${l}.or` : "or"; return this.url.searchParams.append(c, `(${o})`), this } filter(o, a, l) { return this.url.searchParams.append(o, `${a}.${l}`), this } }; return Pl.default = n, Pl } var ey; function kj() { if (ey) return kl; ey = 1, Object.defineProperty(kl, "__esModule", { value: !0 }); const t = Ai.__importDefault(im()); let r = class { constructor(s, { headers: o = {}, schema: a, fetch: l }) { this.url = s, this.headers = new Headers(o), this.schema = a, this.fetch = l } select(s, o) { const { head: a = !1, count: l } = o ?? {}, c = a ? "HEAD" : "GET"; let u = !1; const d = (s ?? "*").split("").map(p => /\s/.test(p) && !u ? "" : (p === '"' && (u = !u), p)).join(""); return this.url.searchParams.set("select", d), l && this.headers.append("Prefer", `count=${l}`), new t.default({ method: c, url: this.url, headers: this.headers, schema: this.schema, fetch: this.fetch }) } insert(s, { count: o, defaultToNull: a = !0 } = {}) { var l; const c = "POST"; if (o && this.headers.append("Prefer", `count=${o}`), a || this.headers.append("Prefer", "missing=default"), Array.isArray(s)) { const u = s.reduce((d, p) => d.concat(Object.keys(p)), []); if (u.length > 0) { const d = [...new Set(u)].map(p => `"${p}"`); this.url.searchParams.set("columns", d.join(",")) } } return new t.default({ method: c, url: this.url, headers: this.headers, schema: this.schema, body: s, fetch: (l = this.fetch) !== null && l !== void 0 ? l : fetch }) } upsert(s, { onConflict: o, ignoreDuplicates: a = !1, count: l, defaultToNull: c = !0 } = {}) { var u; const d = "POST"; if (this.headers.append("Prefer", `resolution=${a ? "ignore" : "merge"}-duplicates`), o !== void 0 && this.url.searchParams.set("on_conflict", o), l && this.headers.append("Prefer", `count=${l}`), c || this.headers.append("Prefer", "missing=default"), Array.isArray(s)) { const p = s.reduce((m, h) => m.concat(Object.keys(h)), []); if (p.length > 0) { const m = [...new Set(p)].map(h => `"${h}"`); this.url.searchParams.set("columns", m.join(",")) } } return new t.default({ method: d, url: this.url, headers: this.headers, schema: this.schema, body: s, fetch: (u = this.fetch) !== null && u !== void 0 ? u : fetch }) } update(s, { count: o } = {}) { var a; const l = "PATCH"; return o && this.headers.append("Prefer", `count=${o}`), new t.default({ method: l, url: this.url, headers: this.headers, schema: this.schema, body: s, fetch: (a = this.fetch) !== null && a !== void 0 ? a : fetch }) } delete({ count: s } = {}) { var o; const a = "DELETE"; return s && this.headers.append("Prefer", `count=${s}`), new t.default({ method: a, url: this.url, headers: this.headers, schema: this.schema, fetch: (o = this.fetch) !== null && o !== void 0 ? o : fetch }) } }; return kl.default = r, kl } var ty; function MA() { if (ty) return Cl; ty = 1, Object.defineProperty(Cl, "__esModule", { value: !0 }); const e = Ai, t = e.__importDefault(kj()), r = e.__importDefault(im()); let n = class Pj { constructor(o, { headers: a = {}, schema: l, fetch: c } = {}) { this.url = o, this.headers = new Headers(a), this.schemaName = l, this.fetch = c } from(o) { if (!o || typeof o != "string" || o.trim() === "") throw new Error("Invalid relation name: relation must be a non-empty string."); const a = new URL(`${this.url}/${o}`); return new t.default(a, { headers: new Headers(this.headers), schema: this.schemaName, fetch: this.fetch }) } schema(o) { return new Pj(this.url, { headers: this.headers, schema: o, fetch: this.fetch }) } rpc(o, a = {}, { head: l = !1, get: c = !1, count: u } = {}) { var d; let p; const m = new URL(`${this.url}/rpc/${o}`); let h; l || c ? (p = l ? "HEAD" : "GET", Object.entries(a).filter(([g, b]) => b !== void 0).map(([g, b]) => [g, Array.isArray(b) ? `{${b.join(",")}}` : `${b}`]).forEach(([g, b]) => { m.searchParams.append(g, b) })) : (p = "POST", h = a); const x = new Headers(this.headers); return u && x.set("Prefer", `count=${u}`), new r.default({ method: p, url: m, headers: x, schema: this.schemaName, body: h, fetch: (d = this.fetch) !== null && d !== void 0 ? d : fetch }) } }; return Cl.default = n, Cl } Object.defineProperty(mt, "__esModule", { value: !0 }); mt.PostgrestError = mt.PostgrestBuilder = mt.PostgrestTransformBuilder = mt.PostgrestFilterBuilder = mt.PostgrestQueryBuilder = mt.PostgrestClient = void 0; const Oi = Ai, Tj = Oi.__importDefault(MA()); mt.PostgrestClient = Tj.default; const Rj = Oi.__importDefault(kj()); mt.PostgrestQueryBuilder = Rj.default; const Aj = Oi.__importDefault(im()); mt.PostgrestFilterBuilder = Aj.default; const Oj = Oi.__importDefault(Cj()); mt.PostgrestTransformBuilder = Oj.default; const Ij = Oi.__importDefault(Ej()); mt.PostgrestBuilder = Ij.default; const Dj = Oi.__importDefault(Nj()); mt.PostgrestError = Dj.default; mt.default = { PostgrestClient: Tj.default, PostgrestQueryBuilder: Rj.default, PostgrestFilterBuilder: Aj.default, PostgrestTransformBuilder: Oj.default, PostgrestBuilder: Ij.default, PostgrestError: Dj.default }; class Lj {
  constructor() { } static detectEnvironment() {
    var t; if (typeof WebSocket < "u") return { type: "native", constructor: WebSocket }; if (typeof globalThis < "u" && typeof globalThis.WebSocket < "u") return { type: "native", constructor: globalThis.WebSocket }; if (typeof global < "u" && typeof global.WebSocket < "u") return { type: "native", constructor: global.WebSocket }; if (typeof globalThis < "u" && typeof globalThis.WebSocketPair < "u" && typeof globalThis.WebSocket > "u") return { type: "cloudflare", error: "Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.", workaround: "Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime." }; if (typeof globalThis < "u" && globalThis.EdgeRuntime || typeof navigator < "u" && (!((t = navigator.userAgent) === null || t === void 0) && t.includes("Vercel-Edge"))) return { type: "unsupported", error: "Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.", workaround: "Use serverless functions or a different deployment target for WebSocket functionality." }; if (typeof process < "u") {
      const r = process.versions; if (r && r.node) {
        const n = r.node, s = parseInt(n.replace(/^v/, "").split(".")[0]); return s >= 22 ? typeof globalThis.WebSocket < "u" ? { type: "native", constructor: globalThis.WebSocket } : { type: "unsupported", error: `Node.js ${s} detected but native WebSocket not found.`, workaround: "Provide a WebSocket implementation via the transport option." } : {
          type: "unsupported", error: `Node.js ${s} detected without native WebSocket support.`, workaround: `For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}
      }
    } return { type: "unsupported", error: "Unknown JavaScript runtime without WebSocket support.", workaround: "Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation." }
  } static getWebSocketConstructor() {
    const t = this.detectEnvironment(); if (t.constructor) return t.constructor; let r = t.error || "WebSocket not supported in this environment."; throw t.workaround && (r += `

Suggested solution: ${t.workaround}`), new Error(r)
  } static createWebSocket(t, r) { const n = this.getWebSocketConstructor(); return new n(t, r) } static isWebSocketSupported() { try { const t = this.detectEnvironment(); return t.type === "native" || t.type === "ws" } catch { return !1 } }
} const FA = "2.87.1", UA = `realtime-js/${FA}`, $j = "1.0.0", zA = "2.0.0", ry = $j, yf = 1e4, BA = 1e3, VA = 100; var $s; (function (e) { e[e.connecting = 0] = "connecting", e[e.open = 1] = "open", e[e.closing = 2] = "closing", e[e.closed = 3] = "closed" })($s || ($s = {})); var Ke; (function (e) { e.closed = "closed", e.errored = "errored", e.joined = "joined", e.joining = "joining", e.leaving = "leaving" })(Ke || (Ke = {})); var yr; (function (e) { e.close = "phx_close", e.error = "phx_error", e.join = "phx_join", e.reply = "phx_reply", e.leave = "phx_leave", e.access_token = "access_token" })(yr || (yr = {})); var xf; (function (e) { e.websocket = "websocket" })(xf || (xf = {})); var Ms; (function (e) { e.Connecting = "connecting", e.Open = "open", e.Closing = "closing", e.Closed = "closed" })(Ms || (Ms = {})); class HA { constructor(t) { this.HEADER_LENGTH = 1, this.USER_BROADCAST_PUSH_META_LENGTH = 6, this.KINDS = { userBroadcastPush: 3, userBroadcast: 4 }, this.BINARY_ENCODING = 0, this.JSON_ENCODING = 1, this.BROADCAST_EVENT = "broadcast", this.allowedMetadataKeys = [], this.allowedMetadataKeys = t ?? [] } encode(t, r) { if (t.event === this.BROADCAST_EVENT && !(t.payload instanceof ArrayBuffer) && typeof t.payload.event == "string") return r(this._binaryEncodeUserBroadcastPush(t)); let n = [t.join_ref, t.ref, t.topic, t.event, t.payload]; return r(JSON.stringify(n)) } _binaryEncodeUserBroadcastPush(t) { var r; return this._isArrayBuffer((r = t.payload) === null || r === void 0 ? void 0 : r.payload) ? this._encodeBinaryUserBroadcastPush(t) : this._encodeJsonUserBroadcastPush(t) } _encodeBinaryUserBroadcastPush(t) { var r, n; const s = (n = (r = t.payload) === null || r === void 0 ? void 0 : r.payload) !== null && n !== void 0 ? n : new ArrayBuffer(0); return this._encodeUserBroadcastPush(t, this.BINARY_ENCODING, s) } _encodeJsonUserBroadcastPush(t) { var r, n; const s = (n = (r = t.payload) === null || r === void 0 ? void 0 : r.payload) !== null && n !== void 0 ? n : {}, a = new TextEncoder().encode(JSON.stringify(s)).buffer; return this._encodeUserBroadcastPush(t, this.JSON_ENCODING, a) } _encodeUserBroadcastPush(t, r, n) { var s, o; const a = t.topic, l = (s = t.ref) !== null && s !== void 0 ? s : "", c = (o = t.join_ref) !== null && o !== void 0 ? o : "", u = t.payload.event, d = this.allowedMetadataKeys ? this._pick(t.payload, this.allowedMetadataKeys) : {}, p = Object.keys(d).length === 0 ? "" : JSON.stringify(d); if (c.length > 255) throw new Error(`joinRef length ${c.length} exceeds maximum of 255`); if (l.length > 255) throw new Error(`ref length ${l.length} exceeds maximum of 255`); if (a.length > 255) throw new Error(`topic length ${a.length} exceeds maximum of 255`); if (u.length > 255) throw new Error(`userEvent length ${u.length} exceeds maximum of 255`); if (p.length > 255) throw new Error(`metadata length ${p.length} exceeds maximum of 255`); const m = this.USER_BROADCAST_PUSH_META_LENGTH + c.length + l.length + a.length + u.length + p.length, h = new ArrayBuffer(this.HEADER_LENGTH + m); let x = new DataView(h), g = 0; x.setUint8(g++, this.KINDS.userBroadcastPush), x.setUint8(g++, c.length), x.setUint8(g++, l.length), x.setUint8(g++, a.length), x.setUint8(g++, u.length), x.setUint8(g++, p.length), x.setUint8(g++, r), Array.from(c, v => x.setUint8(g++, v.charCodeAt(0))), Array.from(l, v => x.setUint8(g++, v.charCodeAt(0))), Array.from(a, v => x.setUint8(g++, v.charCodeAt(0))), Array.from(u, v => x.setUint8(g++, v.charCodeAt(0))), Array.from(p, v => x.setUint8(g++, v.charCodeAt(0))); var b = new Uint8Array(h.byteLength + n.byteLength); return b.set(new Uint8Array(h), 0), b.set(new Uint8Array(n), h.byteLength), b.buffer } decode(t, r) { if (this._isArrayBuffer(t)) { let n = this._binaryDecode(t); return r(n) } if (typeof t == "string") { const n = JSON.parse(t), [s, o, a, l, c] = n; return r({ join_ref: s, ref: o, topic: a, event: l, payload: c }) } return r({}) } _binaryDecode(t) { const r = new DataView(t), n = r.getUint8(0), s = new TextDecoder; switch (n) { case this.KINDS.userBroadcast: return this._decodeUserBroadcast(t, r, s) } } _decodeUserBroadcast(t, r, n) { const s = r.getUint8(1), o = r.getUint8(2), a = r.getUint8(3), l = r.getUint8(4); let c = this.HEADER_LENGTH + 4; const u = n.decode(t.slice(c, c + s)); c = c + s; const d = n.decode(t.slice(c, c + o)); c = c + o; const p = n.decode(t.slice(c, c + a)); c = c + a; const m = t.slice(c, t.byteLength), h = l === this.JSON_ENCODING ? JSON.parse(n.decode(m)) : m, x = { type: this.BROADCAST_EVENT, event: d, payload: h }; return a > 0 && (x.meta = JSON.parse(p)), { join_ref: null, ref: null, topic: u, event: this.BROADCAST_EVENT, payload: x } } _isArrayBuffer(t) { var r; return t instanceof ArrayBuffer || ((r = t == null ? void 0 : t.constructor) === null || r === void 0 ? void 0 : r.name) === "ArrayBuffer" } _pick(t, r) { return !t || typeof t != "object" ? {} : Object.fromEntries(Object.entries(t).filter(([n]) => r.includes(n))) } } class Mj { constructor(t, r) { this.callback = t, this.timerCalc = r, this.timer = void 0, this.tries = 0, this.callback = t, this.timerCalc = r } reset() { this.tries = 0, clearTimeout(this.timer), this.timer = void 0 } scheduleTimeout() { clearTimeout(this.timer), this.timer = setTimeout(() => { this.tries = this.tries + 1, this.callback() }, this.timerCalc(this.tries + 1)) } } var Ee; (function (e) { e.abstime = "abstime", e.bool = "bool", e.date = "date", e.daterange = "daterange", e.float4 = "float4", e.float8 = "float8", e.int2 = "int2", e.int4 = "int4", e.int4range = "int4range", e.int8 = "int8", e.int8range = "int8range", e.json = "json", e.jsonb = "jsonb", e.money = "money", e.numeric = "numeric", e.oid = "oid", e.reltime = "reltime", e.text = "text", e.time = "time", e.timestamp = "timestamp", e.timestamptz = "timestamptz", e.timetz = "timetz", e.tsrange = "tsrange", e.tstzrange = "tstzrange" })(Ee || (Ee = {})); const ny = (e, t, r = {}) => { var n; const s = (n = r.skipTypes) !== null && n !== void 0 ? n : []; return t ? Object.keys(t).reduce((o, a) => (o[a] = WA(a, e, t, s), o), {}) : {} }, WA = (e, t, r, n) => { const s = t.find(l => l.name === e), o = s == null ? void 0 : s.type, a = r[e]; return o && !n.includes(o) ? Fj(o, a) : wf(a) }, Fj = (e, t) => { if (e.charAt(0) === "_") { const r = e.slice(1, e.length); return YA(t, r) } switch (e) { case Ee.bool: return qA(t); case Ee.float4: case Ee.float8: case Ee.int2: case Ee.int4: case Ee.int8: case Ee.numeric: case Ee.oid: return KA(t); case Ee.json: case Ee.jsonb: return GA(t); case Ee.timestamp: return QA(t); case Ee.abstime: case Ee.date: case Ee.daterange: case Ee.int4range: case Ee.int8range: case Ee.money: case Ee.reltime: case Ee.text: case Ee.time: case Ee.timestamptz: case Ee.timetz: case Ee.tsrange: case Ee.tstzrange: return wf(t); default: return wf(t) } }, wf = e => e, qA = e => { switch (e) { case "t": return !0; case "f": return !1; default: return e } }, KA = e => { if (typeof e == "string") { const t = parseFloat(e); if (!Number.isNaN(t)) return t } return e }, GA = e => { if (typeof e == "string") try { return JSON.parse(e) } catch (t) { return console.log(`JSON parse error: ${t}`), e } return e }, YA = (e, t) => { if (typeof e != "string") return e; const r = e.length - 1, n = e[r]; if (e[0] === "{" && n === "}") { let o; const a = e.slice(1, r); try { o = JSON.parse("[" + a + "]") } catch { o = a ? a.split(",") : [] } return o.map(l => Fj(t, l)) } return e }, QA = e => typeof e == "string" ? e.replace(" ", "T") : e, Uj = e => { const t = new URL(e); return t.protocol = t.protocol.replace(/^ws/i, "http"), t.pathname = t.pathname.replace(/\/+$/, "").replace(/\/socket\/websocket$/i, "").replace(/\/socket$/i, "").replace(/\/websocket$/i, ""), t.pathname === "" || t.pathname === "/" ? t.pathname = "/api/broadcast" : t.pathname = t.pathname + "/api/broadcast", t.href }; class Fd { constructor(t, r, n = {}, s = yf) { this.channel = t, this.event = r, this.payload = n, this.timeout = s, this.sent = !1, this.timeoutTimer = void 0, this.ref = "", this.receivedResp = null, this.recHooks = [], this.refEvent = null } resend(t) { this.timeout = t, this._cancelRefEvent(), this.ref = "", this.refEvent = null, this.receivedResp = null, this.sent = !1, this.send() } send() { this._hasReceived("timeout") || (this.startTimeout(), this.sent = !0, this.channel.socket.push({ topic: this.channel.topic, event: this.event, payload: this.payload, ref: this.ref, join_ref: this.channel._joinRef() })) } updatePayload(t) { this.payload = Object.assign(Object.assign({}, this.payload), t) } receive(t, r) { var n; return this._hasReceived(t) && r((n = this.receivedResp) === null || n === void 0 ? void 0 : n.response), this.recHooks.push({ status: t, callback: r }), this } startTimeout() { if (this.timeoutTimer) return; this.ref = this.channel.socket._makeRef(), this.refEvent = this.channel._replyEventName(this.ref); const t = r => { this._cancelRefEvent(), this._cancelTimeout(), this.receivedResp = r, this._matchReceive(r) }; this.channel._on(this.refEvent, {}, t), this.timeoutTimer = setTimeout(() => { this.trigger("timeout", {}) }, this.timeout) } trigger(t, r) { this.refEvent && this.channel._trigger(this.refEvent, { status: t, response: r }) } destroy() { this._cancelRefEvent(), this._cancelTimeout() } _cancelRefEvent() { this.refEvent && this.channel._off(this.refEvent, {}) } _cancelTimeout() { clearTimeout(this.timeoutTimer), this.timeoutTimer = void 0 } _matchReceive({ status: t, response: r }) { this.recHooks.filter(n => n.status === t).forEach(n => n.callback(r)) } _hasReceived(t) { return this.receivedResp && this.receivedResp.status === t } } var bf; (function (e) { e.SYNC = "sync", e.JOIN = "join", e.LEAVE = "leave" })(bf || (bf = {})); let zj = class sc { constructor(t, r) { this.channel = t, this.state = {}, this.pendingDiffs = [], this.joinRef = null, this.enabled = !1, this.caller = { onJoin: () => { }, onLeave: () => { }, onSync: () => { } }; const n = (r == null ? void 0 : r.events) || { state: "presence_state", diff: "presence_diff" }; this.channel._on(n.state, {}, s => { const { onJoin: o, onLeave: a, onSync: l } = this.caller; this.joinRef = this.channel._joinRef(), this.state = sc.syncState(this.state, s, o, a), this.pendingDiffs.forEach(c => { this.state = sc.syncDiff(this.state, c, o, a) }), this.pendingDiffs = [], l() }), this.channel._on(n.diff, {}, s => { const { onJoin: o, onLeave: a, onSync: l } = this.caller; this.inPendingSyncState() ? this.pendingDiffs.push(s) : (this.state = sc.syncDiff(this.state, s, o, a), l()) }), this.onJoin((s, o, a) => { this.channel._trigger("presence", { event: "join", key: s, currentPresences: o, newPresences: a }) }), this.onLeave((s, o, a) => { this.channel._trigger("presence", { event: "leave", key: s, currentPresences: o, leftPresences: a }) }), this.onSync(() => { this.channel._trigger("presence", { event: "sync" }) }) } static syncState(t, r, n, s) { const o = this.cloneDeep(t), a = this.transformState(r), l = {}, c = {}; return this.map(o, (u, d) => { a[u] || (c[u] = d) }), this.map(a, (u, d) => { const p = o[u]; if (p) { const m = d.map(b => b.presence_ref), h = p.map(b => b.presence_ref), x = d.filter(b => h.indexOf(b.presence_ref) < 0), g = p.filter(b => m.indexOf(b.presence_ref) < 0); x.length > 0 && (l[u] = x), g.length > 0 && (c[u] = g) } else l[u] = d }), this.syncDiff(o, { joins: l, leaves: c }, n, s) } static syncDiff(t, r, n, s) { const { joins: o, leaves: a } = { joins: this.transformState(r.joins), leaves: this.transformState(r.leaves) }; return n || (n = () => { }), s || (s = () => { }), this.map(o, (l, c) => { var u; const d = (u = t[l]) !== null && u !== void 0 ? u : []; if (t[l] = this.cloneDeep(c), d.length > 0) { const p = t[l].map(h => h.presence_ref), m = d.filter(h => p.indexOf(h.presence_ref) < 0); t[l].unshift(...m) } n(l, d, c) }), this.map(a, (l, c) => { let u = t[l]; if (!u) return; const d = c.map(p => p.presence_ref); u = u.filter(p => d.indexOf(p.presence_ref) < 0), t[l] = u, s(l, u, c), u.length === 0 && delete t[l] }), t } static map(t, r) { return Object.getOwnPropertyNames(t).map(n => r(n, t[n])) } static transformState(t) { return t = this.cloneDeep(t), Object.getOwnPropertyNames(t).reduce((r, n) => { const s = t[n]; return "metas" in s ? r[n] = s.metas.map(o => (o.presence_ref = o.phx_ref, delete o.phx_ref, delete o.phx_ref_prev, o)) : r[n] = s, r }, {}) } static cloneDeep(t) { return JSON.parse(JSON.stringify(t)) } onJoin(t) { this.caller.onJoin = t } onLeave(t) { this.caller.onLeave = t } onSync(t) { this.caller.onSync = t } inPendingSyncState() { return !this.joinRef || this.joinRef !== this.channel._joinRef() } }; var jf; (function (e) { e.ALL = "*", e.INSERT = "INSERT", e.UPDATE = "UPDATE", e.DELETE = "DELETE" })(jf || (jf = {})); var Go; (function (e) { e.BROADCAST = "broadcast", e.PRESENCE = "presence", e.POSTGRES_CHANGES = "postgres_changes", e.SYSTEM = "system" })(Go || (Go = {})); var Or; (function (e) { e.SUBSCRIBED = "SUBSCRIBED", e.TIMED_OUT = "TIMED_OUT", e.CLOSED = "CLOSED", e.CHANNEL_ERROR = "CHANNEL_ERROR" })(Or || (Or = {})); const JA = Ke; let Bj = class Qi { constructor(t, r = { config: {} }, n) { var s, o; if (this.topic = t, this.params = r, this.socket = n, this.bindings = {}, this.state = Ke.closed, this.joinedOnce = !1, this.pushBuffer = [], this.subTopic = t.replace(/^realtime:/i, ""), this.params.config = Object.assign({ broadcast: { ack: !1, self: !1 }, presence: { key: "", enabled: !1 }, private: !1 }, r.config), this.timeout = this.socket.timeout, this.joinPush = new Fd(this, yr.join, this.params, this.timeout), this.rejoinTimer = new Mj(() => this._rejoinUntilConnected(), this.socket.reconnectAfterMs), this.joinPush.receive("ok", () => { this.state = Ke.joined, this.rejoinTimer.reset(), this.pushBuffer.forEach(a => a.send()), this.pushBuffer = [] }), this._onClose(() => { this.rejoinTimer.reset(), this.socket.log("channel", `close ${this.topic} ${this._joinRef()}`), this.state = Ke.closed, this.socket._remove(this) }), this._onError(a => { this._isLeaving() || this._isClosed() || (this.socket.log("channel", `error ${this.topic}`, a), this.state = Ke.errored, this.rejoinTimer.scheduleTimeout()) }), this.joinPush.receive("timeout", () => { this._isJoining() && (this.socket.log("channel", `timeout ${this.topic}`, this.joinPush.timeout), this.state = Ke.errored, this.rejoinTimer.scheduleTimeout()) }), this.joinPush.receive("error", a => { this._isLeaving() || this._isClosed() || (this.socket.log("channel", `error ${this.topic}`, a), this.state = Ke.errored, this.rejoinTimer.scheduleTimeout()) }), this._on(yr.reply, {}, (a, l) => { this._trigger(this._replyEventName(l), a) }), this.presence = new zj(this), this.broadcastEndpointURL = Uj(this.socket.endPoint), this.private = this.params.config.private || !1, !this.private && (!((o = (s = this.params.config) === null || s === void 0 ? void 0 : s.broadcast) === null || o === void 0) && o.replay)) throw `tried to use replay on public channel '${this.topic}'. It must be a private channel.` } subscribe(t, r = this.timeout) { var n, s, o; if (this.socket.isConnected() || this.socket.connect(), this.state == Ke.closed) { const { config: { broadcast: a, presence: l, private: c } } = this.params, u = (s = (n = this.bindings.postgres_changes) === null || n === void 0 ? void 0 : n.map(h => h.filter)) !== null && s !== void 0 ? s : [], d = !!this.bindings[Go.PRESENCE] && this.bindings[Go.PRESENCE].length > 0 || ((o = this.params.config.presence) === null || o === void 0 ? void 0 : o.enabled) === !0, p = {}, m = { broadcast: a, presence: Object.assign(Object.assign({}, l), { enabled: d }), postgres_changes: u, private: c }; this.socket.accessTokenValue && (p.access_token = this.socket.accessTokenValue), this._onError(h => t == null ? void 0 : t(Or.CHANNEL_ERROR, h)), this._onClose(() => t == null ? void 0 : t(Or.CLOSED)), this.updateJoinPayload(Object.assign({ config: m }, p)), this.joinedOnce = !0, this._rejoin(r), this.joinPush.receive("ok", async ({ postgres_changes: h }) => { var x; if (this.socket._isManualToken() || this.socket.setAuth(), h === void 0) { t == null || t(Or.SUBSCRIBED); return } else { const g = this.bindings.postgres_changes, b = (x = g == null ? void 0 : g.length) !== null && x !== void 0 ? x : 0, v = []; for (let y = 0; y < b; y++) { const w = g[y], { filter: { event: j, schema: S, table: _, filter: C } } = w, k = h && h[y]; if (k && k.event === j && Qi.isFilterValueEqual(k.schema, S) && Qi.isFilterValueEqual(k.table, _) && Qi.isFilterValueEqual(k.filter, C)) v.push(Object.assign(Object.assign({}, w), { id: k.id })); else { this.unsubscribe(), this.state = Ke.errored, t == null || t(Or.CHANNEL_ERROR, new Error("mismatch between server and client bindings for postgres changes")); return } } this.bindings.postgres_changes = v, t && t(Or.SUBSCRIBED); return } }).receive("error", h => { this.state = Ke.errored, t == null || t(Or.CHANNEL_ERROR, new Error(JSON.stringify(Object.values(h).join(", ") || "error"))) }).receive("timeout", () => { t == null || t(Or.TIMED_OUT) }) } return this } presenceState() { return this.presence.state } async track(t, r = {}) { return await this.send({ type: "presence", event: "track", payload: t }, r.timeout || this.timeout) } async untrack(t = {}) { return await this.send({ type: "presence", event: "untrack" }, t) } on(t, r, n) { return this.state === Ke.joined && t === Go.PRESENCE && (this.socket.log("channel", `resubscribe to ${this.topic} due to change in presence callbacks on joined channel`), this.unsubscribe().then(async () => await this.subscribe())), this._on(t, r, n) } async httpSend(t, r, n = {}) { var s; const o = this.socket.accessTokenValue ? `Bearer ${this.socket.accessTokenValue}` : ""; if (r == null) return Promise.reject("Payload is required for httpSend()"); const a = { method: "POST", headers: { Authorization: o, apikey: this.socket.apiKey ? this.socket.apiKey : "", "Content-Type": "application/json" }, body: JSON.stringify({ messages: [{ topic: this.subTopic, event: t, payload: r, private: this.private }] }) }, l = await this._fetchWithTimeout(this.broadcastEndpointURL, a, (s = n.timeout) !== null && s !== void 0 ? s : this.timeout); if (l.status === 202) return { success: !0 }; let c = l.statusText; try { const u = await l.json(); c = u.error || u.message || c } catch { } return Promise.reject(new Error(c)) } async send(t, r = {}) { var n, s; if (!this._canPush() && t.type === "broadcast") { console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery."); const { event: o, payload: a } = t, c = { method: "POST", headers: { Authorization: this.socket.accessTokenValue ? `Bearer ${this.socket.accessTokenValue}` : "", apikey: this.socket.apiKey ? this.socket.apiKey : "", "Content-Type": "application/json" }, body: JSON.stringify({ messages: [{ topic: this.subTopic, event: o, payload: a, private: this.private }] }) }; try { const u = await this._fetchWithTimeout(this.broadcastEndpointURL, c, (n = r.timeout) !== null && n !== void 0 ? n : this.timeout); return await ((s = u.body) === null || s === void 0 ? void 0 : s.cancel()), u.ok ? "ok" : "error" } catch (u) { return u.name === "AbortError" ? "timed out" : "error" } } else return new Promise(o => { var a, l, c; const u = this._push(t.type, t, r.timeout || this.timeout); t.type === "broadcast" && !(!((c = (l = (a = this.params) === null || a === void 0 ? void 0 : a.config) === null || l === void 0 ? void 0 : l.broadcast) === null || c === void 0) && c.ack) && o("ok"), u.receive("ok", () => o("ok")), u.receive("error", () => o("error")), u.receive("timeout", () => o("timed out")) }) } updateJoinPayload(t) { this.joinPush.updatePayload(t) } unsubscribe(t = this.timeout) { this.state = Ke.leaving; const r = () => { this.socket.log("channel", `leave ${this.topic}`), this._trigger(yr.close, "leave", this._joinRef()) }; this.joinPush.destroy(); let n = null; return new Promise(s => { n = new Fd(this, yr.leave, {}, t), n.receive("ok", () => { r(), s("ok") }).receive("timeout", () => { r(), s("timed out") }).receive("error", () => { s("error") }), n.send(), this._canPush() || n.trigger("ok", {}) }).finally(() => { n == null || n.destroy() }) } teardown() { this.pushBuffer.forEach(t => t.destroy()), this.pushBuffer = [], this.rejoinTimer.reset(), this.joinPush.destroy(), this.state = Ke.closed, this.bindings = {} } async _fetchWithTimeout(t, r, n) { const s = new AbortController, o = setTimeout(() => s.abort(), n), a = await this.socket.fetch(t, Object.assign(Object.assign({}, r), { signal: s.signal })); return clearTimeout(o), a } _push(t, r, n = this.timeout) { if (!this.joinedOnce) throw `tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`; let s = new Fd(this, t, r, n); return this._canPush() ? s.send() : this._addToPushBuffer(s), s } _addToPushBuffer(t) { if (t.startTimeout(), this.pushBuffer.push(t), this.pushBuffer.length > VA) { const r = this.pushBuffer.shift(); r && (r.destroy(), this.socket.log("channel", `discarded push due to buffer overflow: ${r.event}`, r.payload)) } } _onMessage(t, r, n) { return r } _isMember(t) { return this.topic === t } _joinRef() { return this.joinPush.ref } _trigger(t, r, n) { var s, o; const a = t.toLocaleLowerCase(), { close: l, error: c, leave: u, join: d } = yr; if (n && [l, c, u, d].indexOf(a) >= 0 && n !== this._joinRef()) return; let m = this._onMessage(a, r, n); if (r && !m) throw "channel onMessage callbacks must return the payload, modified or unmodified";["insert", "update", "delete"].includes(a) ? (s = this.bindings.postgres_changes) === null || s === void 0 || s.filter(h => { var x, g, b; return ((x = h.filter) === null || x === void 0 ? void 0 : x.event) === "*" || ((b = (g = h.filter) === null || g === void 0 ? void 0 : g.event) === null || b === void 0 ? void 0 : b.toLocaleLowerCase()) === a }).map(h => h.callback(m, n)) : (o = this.bindings[a]) === null || o === void 0 || o.filter(h => { var x, g, b, v, y, w; if (["broadcast", "presence", "postgres_changes"].includes(a)) if ("id" in h) { const j = h.id, S = (x = h.filter) === null || x === void 0 ? void 0 : x.event; return j && ((g = r.ids) === null || g === void 0 ? void 0 : g.includes(j)) && (S === "*" || (S == null ? void 0 : S.toLocaleLowerCase()) === ((b = r.data) === null || b === void 0 ? void 0 : b.type.toLocaleLowerCase())) } else { const j = (y = (v = h == null ? void 0 : h.filter) === null || v === void 0 ? void 0 : v.event) === null || y === void 0 ? void 0 : y.toLocaleLowerCase(); return j === "*" || j === ((w = r == null ? void 0 : r.event) === null || w === void 0 ? void 0 : w.toLocaleLowerCase()) } else return h.type.toLocaleLowerCase() === a }).map(h => { if (typeof m == "object" && "ids" in m) { const x = m.data, { schema: g, table: b, commit_timestamp: v, type: y, errors: w } = x; m = Object.assign(Object.assign({}, { schema: g, table: b, commit_timestamp: v, eventType: y, new: {}, old: {}, errors: w }), this._getPayloadRecords(x)) } h.callback(m, n) }) } _isClosed() { return this.state === Ke.closed } _isJoined() { return this.state === Ke.joined } _isJoining() { return this.state === Ke.joining } _isLeaving() { return this.state === Ke.leaving } _replyEventName(t) { return `chan_reply_${t}` } _on(t, r, n) { const s = t.toLocaleLowerCase(), o = { type: s, filter: r, callback: n }; return this.bindings[s] ? this.bindings[s].push(o) : this.bindings[s] = [o], this } _off(t, r) { const n = t.toLocaleLowerCase(); return this.bindings[n] && (this.bindings[n] = this.bindings[n].filter(s => { var o; return !(((o = s.type) === null || o === void 0 ? void 0 : o.toLocaleLowerCase()) === n && Qi.isEqual(s.filter, r)) })), this } static isEqual(t, r) { if (Object.keys(t).length !== Object.keys(r).length) return !1; for (const n in t) if (t[n] !== r[n]) return !1; return !0 } static isFilterValueEqual(t, r) { return (t ?? void 0) === (r ?? void 0) } _rejoinUntilConnected() { this.rejoinTimer.scheduleTimeout(), this.socket.isConnected() && this._rejoin() } _onClose(t) { this._on(yr.close, {}, t) } _onError(t) { this._on(yr.error, {}, r => t(r)) } _canPush() { return this.socket.isConnected() && this._isJoined() } _rejoin(t = this.timeout) { this._isLeaving() || (this.socket._leaveOpenTopic(this.topic), this.state = Ke.joining, this.joinPush.resend(t)) } _getPayloadRecords(t) { const r = { new: {}, old: {} }; return (t.type === "INSERT" || t.type === "UPDATE") && (r.new = ny(t.columns, t.record)), (t.type === "UPDATE" || t.type === "DELETE") && (r.old = ny(t.columns, t.old_record)), r } }; const Ud = () => { }, Ol = { HEARTBEAT_INTERVAL: 25e3, RECONNECT_DELAY: 10, HEARTBEAT_TIMEOUT_FALLBACK: 100 }, XA = [1e3, 2e3, 5e3, 1e4], ZA = 1e4, eO = `
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`; let tO = class {
  constructor(t, r) { var n; if (this.accessTokenValue = null, this.apiKey = null, this._manuallySetToken = !1, this.channels = new Array, this.endPoint = "", this.httpEndpoint = "", this.headers = {}, this.params = {}, this.timeout = yf, this.transport = null, this.heartbeatIntervalMs = Ol.HEARTBEAT_INTERVAL, this.heartbeatTimer = void 0, this.pendingHeartbeatRef = null, this.heartbeatCallback = Ud, this.ref = 0, this.reconnectTimer = null, this.vsn = ry, this.logger = Ud, this.conn = null, this.sendBuffer = [], this.serializer = new HA, this.stateChangeCallbacks = { open: [], close: [], error: [], message: [] }, this.accessToken = null, this._connectionState = "disconnected", this._wasManualDisconnect = !1, this._authPromise = null, this._resolveFetch = s => s ? (...o) => s(...o) : (...o) => fetch(...o), !(!((n = r == null ? void 0 : r.params) === null || n === void 0) && n.apikey)) throw new Error("API key is required to connect to Realtime"); this.apiKey = r.params.apikey, this.endPoint = `${t}/${xf.websocket}`, this.httpEndpoint = Uj(t), this._initializeOptions(r), this._setupReconnectionTimer(), this.fetch = this._resolveFetch(r == null ? void 0 : r.fetch) } connect() {
    if (!(this.isConnecting() || this.isDisconnecting() || this.conn !== null && this.isConnected())) {
      if (this._setConnectionState("connecting"), this.accessToken && !this._authPromise && this._setAuthSafely("connect"), this.transport) this.conn = new this.transport(this.endpointURL()); else try { this.conn = Lj.createWebSocket(this.endpointURL()) } catch (t) {
        this._setConnectionState("disconnected"); const r = t.message; throw r.includes("Node.js") ? new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`) : new Error(`WebSocket not available: ${r}`)
      } this._setupConnectionHandlers()
    }
  } endpointURL() { return this._appendParams(this.endPoint, Object.assign({}, this.params, { vsn: this.vsn })) } disconnect(t, r) { if (!this.isDisconnecting()) if (this._setConnectionState("disconnecting", !0), this.conn) { const n = setTimeout(() => { this._setConnectionState("disconnected") }, 100); this.conn.onclose = () => { clearTimeout(n), this._setConnectionState("disconnected") }, typeof this.conn.close == "function" && (t ? this.conn.close(t, r ?? "") : this.conn.close()), this._teardownConnection() } else this._setConnectionState("disconnected") } getChannels() { return this.channels } async removeChannel(t) { const r = await t.unsubscribe(); return this.channels.length === 0 && this.disconnect(), r } async removeAllChannels() { const t = await Promise.all(this.channels.map(r => r.unsubscribe())); return this.channels = [], this.disconnect(), t } log(t, r, n) { this.logger(t, r, n) } connectionState() { switch (this.conn && this.conn.readyState) { case $s.connecting: return Ms.Connecting; case $s.open: return Ms.Open; case $s.closing: return Ms.Closing; default: return Ms.Closed } } isConnected() { return this.connectionState() === Ms.Open } isConnecting() { return this._connectionState === "connecting" } isDisconnecting() { return this._connectionState === "disconnecting" } channel(t, r = { config: {} }) { const n = `realtime:${t}`, s = this.getChannels().find(o => o.topic === n); if (s) return s; { const o = new Bj(`realtime:${t}`, r, this); return this.channels.push(o), o } } push(t) { const { topic: r, event: n, payload: s, ref: o } = t, a = () => { this.encode(t, l => { var c; (c = this.conn) === null || c === void 0 || c.send(l) }) }; this.log("push", `${r} ${n} (${o})`, s), this.isConnected() ? a() : this.sendBuffer.push(a) } async setAuth(t = null) { this._authPromise = this._performAuth(t); try { await this._authPromise } finally { this._authPromise = null } } _isManualToken() { return this._manuallySetToken } async sendHeartbeat() { var t; if (!this.isConnected()) { try { this.heartbeatCallback("disconnected") } catch (r) { this.log("error", "error in heartbeat callback", r) } return } if (this.pendingHeartbeatRef) { this.pendingHeartbeatRef = null, this.log("transport", "heartbeat timeout. Attempting to re-establish connection"); try { this.heartbeatCallback("timeout") } catch (r) { this.log("error", "error in heartbeat callback", r) } this._wasManualDisconnect = !1, (t = this.conn) === null || t === void 0 || t.close(BA, "heartbeat timeout"), setTimeout(() => { var r; this.isConnected() || (r = this.reconnectTimer) === null || r === void 0 || r.scheduleTimeout() }, Ol.HEARTBEAT_TIMEOUT_FALLBACK); return } this.pendingHeartbeatRef = this._makeRef(), this.push({ topic: "phoenix", event: "heartbeat", payload: {}, ref: this.pendingHeartbeatRef }); try { this.heartbeatCallback("sent") } catch (r) { this.log("error", "error in heartbeat callback", r) } this._setAuthSafely("heartbeat") } onHeartbeat(t) { this.heartbeatCallback = t } flushSendBuffer() { this.isConnected() && this.sendBuffer.length > 0 && (this.sendBuffer.forEach(t => t()), this.sendBuffer = []) } _makeRef() { let t = this.ref + 1; return t === this.ref ? this.ref = 0 : this.ref = t, this.ref.toString() } _leaveOpenTopic(t) { let r = this.channels.find(n => n.topic === t && (n._isJoined() || n._isJoining())); r && (this.log("transport", `leaving duplicate topic "${t}"`), r.unsubscribe()) } _remove(t) { this.channels = this.channels.filter(r => r.topic !== t.topic) } _onConnMessage(t) { this.decode(t.data, r => { if (r.topic === "phoenix" && r.event === "phx_reply") try { this.heartbeatCallback(r.payload.status === "ok" ? "ok" : "error") } catch (u) { this.log("error", "error in heartbeat callback", u) } r.ref && r.ref === this.pendingHeartbeatRef && (this.pendingHeartbeatRef = null); const { topic: n, event: s, payload: o, ref: a } = r, l = a ? `(${a})` : "", c = o.status || ""; this.log("receive", `${c} ${n} ${s} ${l}`.trim(), o), this.channels.filter(u => u._isMember(n)).forEach(u => u._trigger(s, o, a)), this._triggerStateCallbacks("message", r) }) } _clearTimer(t) { var r; t === "heartbeat" && this.heartbeatTimer ? (clearInterval(this.heartbeatTimer), this.heartbeatTimer = void 0) : t === "reconnect" && ((r = this.reconnectTimer) === null || r === void 0 || r.reset()) } _clearAllTimers() { this._clearTimer("heartbeat"), this._clearTimer("reconnect") } _setupConnectionHandlers() { this.conn && ("binaryType" in this.conn && (this.conn.binaryType = "arraybuffer"), this.conn.onopen = () => this._onConnOpen(), this.conn.onerror = t => this._onConnError(t), this.conn.onmessage = t => this._onConnMessage(t), this.conn.onclose = t => this._onConnClose(t)) } _teardownConnection() { if (this.conn) { if (this.conn.readyState === $s.open || this.conn.readyState === $s.connecting) try { this.conn.close() } catch (t) { this.log("error", "Error closing connection", t) } this.conn.onopen = null, this.conn.onerror = null, this.conn.onmessage = null, this.conn.onclose = null, this.conn = null } this._clearAllTimers(), this.channels.forEach(t => t.teardown()) } _onConnOpen() { this._setConnectionState("connected"), this.log("transport", `connected to ${this.endpointURL()}`), (this._authPromise || (this.accessToken && !this.accessTokenValue ? this.setAuth() : Promise.resolve())).then(() => { this.flushSendBuffer() }).catch(r => { this.log("error", "error waiting for auth on connect", r), this.flushSendBuffer() }), this._clearTimer("reconnect"), this.worker ? this.workerRef || this._startWorkerHeartbeat() : this._startHeartbeat(), this._triggerStateCallbacks("open") } _startHeartbeat() { this.heartbeatTimer && clearInterval(this.heartbeatTimer), this.heartbeatTimer = setInterval(() => this.sendHeartbeat(), this.heartbeatIntervalMs) } _startWorkerHeartbeat() { this.workerUrl ? this.log("worker", `starting worker for from ${this.workerUrl}`) : this.log("worker", "starting default worker"); const t = this._workerObjectUrl(this.workerUrl); this.workerRef = new Worker(t), this.workerRef.onerror = r => { this.log("worker", "worker error", r.message), this.workerRef.terminate() }, this.workerRef.onmessage = r => { r.data.event === "keepAlive" && this.sendHeartbeat() }, this.workerRef.postMessage({ event: "start", interval: this.heartbeatIntervalMs }) } _onConnClose(t) { var r; this._setConnectionState("disconnected"), this.log("transport", "close", t), this._triggerChanError(), this._clearTimer("heartbeat"), this._wasManualDisconnect || (r = this.reconnectTimer) === null || r === void 0 || r.scheduleTimeout(), this._triggerStateCallbacks("close", t) } _onConnError(t) { this._setConnectionState("disconnected"), this.log("transport", `${t}`), this._triggerChanError(), this._triggerStateCallbacks("error", t) } _triggerChanError() { this.channels.forEach(t => t._trigger(yr.error)) } _appendParams(t, r) { if (Object.keys(r).length === 0) return t; const n = t.match(/\?/) ? "&" : "?", s = new URLSearchParams(r); return `${t}${n}${s}` } _workerObjectUrl(t) { let r; if (t) r = t; else { const n = new Blob([eO], { type: "application/javascript" }); r = URL.createObjectURL(n) } return r } _setConnectionState(t, r = !1) { this._connectionState = t, t === "connecting" ? this._wasManualDisconnect = !1 : t === "disconnecting" && (this._wasManualDisconnect = r) } async _performAuth(t = null) { let r, n = !1; if (t) r = t, n = !0; else if (this.accessToken) try { r = await this.accessToken() } catch (s) { this.log("error", "Error fetching access token from callback", s), r = this.accessTokenValue } else r = this.accessTokenValue; n ? this._manuallySetToken = !0 : this.accessToken && (this._manuallySetToken = !1), this.accessTokenValue != r && (this.accessTokenValue = r, this.channels.forEach(s => { const o = { access_token: r, version: UA }; r && s.updateJoinPayload(o), s.joinedOnce && s._isJoined() && s._push(yr.access_token, { access_token: r }) })) } async _waitForAuthIfNeeded() { this._authPromise && await this._authPromise } _setAuthSafely(t = "general") { this._isManualToken() || this.setAuth().catch(r => { this.log("error", `Error setting auth in ${t}`, r) }) } _triggerStateCallbacks(t, r) { try { this.stateChangeCallbacks[t].forEach(n => { try { n(r) } catch (s) { this.log("error", `error in ${t} callback`, s) } }) } catch (n) { this.log("error", `error triggering ${t} callbacks`, n) } } _setupReconnectionTimer() { this.reconnectTimer = new Mj(async () => { setTimeout(async () => { await this._waitForAuthIfNeeded(), this.isConnected() || this.connect() }, Ol.RECONNECT_DELAY) }, this.reconnectAfterMs) } _initializeOptions(t) { var r, n, s, o, a, l, c, u, d, p, m, h; switch (this.transport = (r = t == null ? void 0 : t.transport) !== null && r !== void 0 ? r : null, this.timeout = (n = t == null ? void 0 : t.timeout) !== null && n !== void 0 ? n : yf, this.heartbeatIntervalMs = (s = t == null ? void 0 : t.heartbeatIntervalMs) !== null && s !== void 0 ? s : Ol.HEARTBEAT_INTERVAL, this.worker = (o = t == null ? void 0 : t.worker) !== null && o !== void 0 ? o : !1, this.accessToken = (a = t == null ? void 0 : t.accessToken) !== null && a !== void 0 ? a : null, this.heartbeatCallback = (l = t == null ? void 0 : t.heartbeatCallback) !== null && l !== void 0 ? l : Ud, this.vsn = (c = t == null ? void 0 : t.vsn) !== null && c !== void 0 ? c : ry, t != null && t.params && (this.params = t.params), t != null && t.logger && (this.logger = t.logger), (t != null && t.logLevel || t != null && t.log_level) && (this.logLevel = t.logLevel || t.log_level, this.params = Object.assign(Object.assign({}, this.params), { log_level: this.logLevel })), this.reconnectAfterMs = (u = t == null ? void 0 : t.reconnectAfterMs) !== null && u !== void 0 ? u : x => XA[x - 1] || ZA, this.vsn) { case $j: this.encode = (d = t == null ? void 0 : t.encode) !== null && d !== void 0 ? d : (x, g) => g(JSON.stringify(x)), this.decode = (p = t == null ? void 0 : t.decode) !== null && p !== void 0 ? p : (x, g) => g(JSON.parse(x)); break; case zA: this.encode = (m = t == null ? void 0 : t.encode) !== null && m !== void 0 ? m : this.serializer.encode.bind(this.serializer), this.decode = (h = t == null ? void 0 : t.decode) !== null && h !== void 0 ? h : this.serializer.decode.bind(this.serializer); break; default: throw new Error(`Unsupported serializer version: ${this.vsn}`) }if (this.worker) { if (typeof window < "u" && !window.Worker) throw new Error("Web Worker is not supported"); this.workerUrl = t == null ? void 0 : t.workerUrl } }
}; const rO = Object.freeze(Object.defineProperty({ __proto__: null, REALTIME_CHANNEL_STATES: JA, get REALTIME_LISTEN_TYPES() { return Go }, get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT() { return jf }, get REALTIME_PRESENCE_LISTEN_EVENTS() { return bf }, get REALTIME_SUBSCRIBE_STATES() { return Or }, RealtimeChannel: Bj, RealtimeClient: tO, RealtimePresence: zj, WebSocketFactory: Lj }, Symbol.toStringTag, { value: "Module" })), Vj = Ua(rO); class Ja extends Error { constructor(t) { super(t), this.__isStorageError = !0, this.name = "StorageError" } } function Oe(e) { return typeof e == "object" && e !== null && "__isStorageError" in e } class Hj extends Ja { constructor(t, r, n) { super(t), this.name = "StorageApiError", this.status = r, this.statusCode = n } toJSON() { return { name: this.name, message: this.message, status: this.status, statusCode: this.statusCode } } } class Wc extends Ja { constructor(t, r) { super(t), this.name = "StorageUnknownError", this.originalError = r } } const am = e => e ? (...t) => e(...t) : (...t) => fetch(...t), nO = () => Response, Sf = e => { if (Array.isArray(e)) return e.map(r => Sf(r)); if (typeof e == "function" || e !== Object(e)) return e; const t = {}; return Object.entries(e).forEach(([r, n]) => { const s = r.replace(/([-_][a-z])/gi, o => o.toUpperCase().replace(/[-_]/g, "")); t[s] = Sf(n) }), t }, sO = e => { if (typeof e != "object" || e === null) return !1; const t = Object.getPrototypeOf(e); return (t === null || t === Object.prototype || Object.getPrototypeOf(t) === null) && !(Symbol.toStringTag in e) && !(Symbol.iterator in e) }, oO = e => !e || typeof e != "string" || e.length === 0 || e.length > 100 || e.trim() !== e || e.includes("/") || e.includes("\\") ? !1 : /^[\w!.\*'() &$@=;:+,?-]+$/.test(e), zd = e => { var t; return e.msg || e.message || e.error_description || (typeof e.error == "string" ? e.error : (t = e.error) === null || t === void 0 ? void 0 : t.message) || JSON.stringify(e) }, iO = (e, t, r) => Z(void 0, void 0, void 0, function* () { const n = yield nO(); e instanceof n && !(r != null && r.noResolveJson) ? e.json().then(s => { const o = e.status || 500, a = (s == null ? void 0 : s.statusCode) || o + ""; t(new Hj(zd(s), o, a)) }).catch(s => { t(new Wc(zd(s), s)) }) : t(new Wc(zd(e), e)) }), aO = (e, t, r, n) => { const s = { method: e, headers: (t == null ? void 0 : t.headers) || {} }; return e === "GET" || !n ? s : (sO(n) ? (s.headers = Object.assign({ "Content-Type": "application/json" }, t == null ? void 0 : t.headers), s.body = JSON.stringify(n)) : s.body = n, t != null && t.duplex && (s.duplex = t.duplex), Object.assign(Object.assign({}, s), r)) }; function Xa(e, t, r, n, s, o) { return Z(this, void 0, void 0, function* () { return new Promise((a, l) => { e(r, aO(t, n, s, o)).then(c => { if (!c.ok) throw c; return n != null && n.noResolveJson ? c : c.json() }).then(c => a(c)).catch(c => iO(c, l, n)) }) }) } function Da(e, t, r, n) { return Z(this, void 0, void 0, function* () { return Xa(e, "GET", t, r, n) }) } function pr(e, t, r, n, s) { return Z(this, void 0, void 0, function* () { return Xa(e, "POST", t, n, s, r) }) } function _f(e, t, r, n, s) { return Z(this, void 0, void 0, function* () { return Xa(e, "PUT", t, n, s, r) }) } function lO(e, t, r, n) { return Z(this, void 0, void 0, function* () { return Xa(e, "HEAD", t, Object.assign(Object.assign({}, r), { noResolveJson: !0 }), n) }) } function lm(e, t, r, n, s) { return Z(this, void 0, void 0, function* () { return Xa(e, "DELETE", t, n, s, r) }) } class cO { constructor(t, r) { this.downloadFn = t, this.shouldThrowOnError = r } then(t, r) { return this.execute().then(t, r) } execute() { return Z(this, void 0, void 0, function* () { try { return { data: (yield this.downloadFn()).body, error: null } } catch (t) { if (this.shouldThrowOnError) throw t; if (Oe(t)) return { data: null, error: t }; throw t } }) } } var Wj; class uO { constructor(t, r) { this.downloadFn = t, this.shouldThrowOnError = r, this[Wj] = "BlobDownloadBuilder", this.promise = null } asStream() { return new cO(this.downloadFn, this.shouldThrowOnError) } then(t, r) { return this.getPromise().then(t, r) } catch(t) { return this.getPromise().catch(t) } finally(t) { return this.getPromise().finally(t) } getPromise() { return this.promise || (this.promise = this.execute()), this.promise } execute() { return Z(this, void 0, void 0, function* () { try { return { data: yield (yield this.downloadFn()).blob(), error: null } } catch (t) { if (this.shouldThrowOnError) throw t; if (Oe(t)) return { data: null, error: t }; throw t } }) } } Wj = Symbol.toStringTag; const dO = { limit: 100, offset: 0, sortBy: { column: "name", order: "asc" } }, sy = { cacheControl: "3600", contentType: "text/plain;charset=UTF-8", upsert: !1 }; class hO { constructor(t, r = {}, n, s) { this.shouldThrowOnError = !1, this.url = t, this.headers = r, this.bucketId = n, this.fetch = am(s) } throwOnError() { return this.shouldThrowOnError = !0, this } uploadOrUpdate(t, r, n, s) { return Z(this, void 0, void 0, function* () { try { let o; const a = Object.assign(Object.assign({}, sy), s); let l = Object.assign(Object.assign({}, this.headers), t === "POST" && { "x-upsert": String(a.upsert) }); const c = a.metadata; typeof Blob < "u" && n instanceof Blob ? (o = new FormData, o.append("cacheControl", a.cacheControl), c && o.append("metadata", this.encodeMetadata(c)), o.append("", n)) : typeof FormData < "u" && n instanceof FormData ? (o = n, o.has("cacheControl") || o.append("cacheControl", a.cacheControl), c && !o.has("metadata") && o.append("metadata", this.encodeMetadata(c))) : (o = n, l["cache-control"] = `max-age=${a.cacheControl}`, l["content-type"] = a.contentType, c && (l["x-metadata"] = this.toBase64(this.encodeMetadata(c))), (typeof ReadableStream < "u" && o instanceof ReadableStream || o && typeof o == "object" && "pipe" in o && typeof o.pipe == "function") && !a.duplex && (a.duplex = "half")), s != null && s.headers && (l = Object.assign(Object.assign({}, l), s.headers)); const u = this._removeEmptyFolders(r), d = this._getFinalPath(u), p = yield (t == "PUT" ? _f : pr)(this.fetch, `${this.url}/object/${d}`, o, Object.assign({ headers: l }, a != null && a.duplex ? { duplex: a.duplex } : {})); return { data: { path: u, id: p.Id, fullPath: p.Key }, error: null } } catch (o) { if (this.shouldThrowOnError) throw o; if (Oe(o)) return { data: null, error: o }; throw o } }) } upload(t, r, n) { return Z(this, void 0, void 0, function* () { return this.uploadOrUpdate("POST", t, r, n) }) } uploadToSignedUrl(t, r, n, s) { return Z(this, void 0, void 0, function* () { const o = this._removeEmptyFolders(t), a = this._getFinalPath(o), l = new URL(this.url + `/object/upload/sign/${a}`); l.searchParams.set("token", r); try { let c; const u = Object.assign({ upsert: sy.upsert }, s), d = Object.assign(Object.assign({}, this.headers), { "x-upsert": String(u.upsert) }); typeof Blob < "u" && n instanceof Blob ? (c = new FormData, c.append("cacheControl", u.cacheControl), c.append("", n)) : typeof FormData < "u" && n instanceof FormData ? (c = n, c.append("cacheControl", u.cacheControl)) : (c = n, d["cache-control"] = `max-age=${u.cacheControl}`, d["content-type"] = u.contentType); const p = yield _f(this.fetch, l.toString(), c, { headers: d }); return { data: { path: o, fullPath: p.Key }, error: null } } catch (c) { if (this.shouldThrowOnError) throw c; if (Oe(c)) return { data: null, error: c }; throw c } }) } createSignedUploadUrl(t, r) { return Z(this, void 0, void 0, function* () { try { let n = this._getFinalPath(t); const s = Object.assign({}, this.headers); r != null && r.upsert && (s["x-upsert"] = "true"); const o = yield pr(this.fetch, `${this.url}/object/upload/sign/${n}`, {}, { headers: s }), a = new URL(this.url + o.url), l = a.searchParams.get("token"); if (!l) throw new Ja("No token returned by API"); return { data: { signedUrl: a.toString(), path: t, token: l }, error: null } } catch (n) { if (this.shouldThrowOnError) throw n; if (Oe(n)) return { data: null, error: n }; throw n } }) } update(t, r, n) { return Z(this, void 0, void 0, function* () { return this.uploadOrUpdate("PUT", t, r, n) }) } move(t, r, n) { return Z(this, void 0, void 0, function* () { try { return { data: yield pr(this.fetch, `${this.url}/object/move`, { bucketId: this.bucketId, sourceKey: t, destinationKey: r, destinationBucket: n == null ? void 0 : n.destinationBucket }, { headers: this.headers }), error: null } } catch (s) { if (this.shouldThrowOnError) throw s; if (Oe(s)) return { data: null, error: s }; throw s } }) } copy(t, r, n) { return Z(this, void 0, void 0, function* () { try { return { data: { path: (yield pr(this.fetch, `${this.url}/object/copy`, { bucketId: this.bucketId, sourceKey: t, destinationKey: r, destinationBucket: n == null ? void 0 : n.destinationBucket }, { headers: this.headers })).Key }, error: null } } catch (s) { if (this.shouldThrowOnError) throw s; if (Oe(s)) return { data: null, error: s }; throw s } }) } createSignedUrl(t, r, n) { return Z(this, void 0, void 0, function* () { try { let s = this._getFinalPath(t), o = yield pr(this.fetch, `${this.url}/object/sign/${s}`, Object.assign({ expiresIn: r }, n != null && n.transform ? { transform: n.transform } : {}), { headers: this.headers }); const a = n != null && n.download ? `&download=${n.download === !0 ? "" : n.download}` : ""; return o = { signedUrl: encodeURI(`${this.url}${o.signedURL}${a}`) }, { data: o, error: null } } catch (s) { if (this.shouldThrowOnError) throw s; if (Oe(s)) return { data: null, error: s }; throw s } }) } createSignedUrls(t, r, n) { return Z(this, void 0, void 0, function* () { try { const s = yield pr(this.fetch, `${this.url}/object/sign/${this.bucketId}`, { expiresIn: r, paths: t }, { headers: this.headers }), o = n != null && n.download ? `&download=${n.download === !0 ? "" : n.download}` : ""; return { data: s.map(a => Object.assign(Object.assign({}, a), { signedUrl: a.signedURL ? encodeURI(`${this.url}${a.signedURL}${o}`) : null })), error: null } } catch (s) { if (this.shouldThrowOnError) throw s; if (Oe(s)) return { data: null, error: s }; throw s } }) } download(t, r) { const s = typeof (r == null ? void 0 : r.transform) < "u" ? "render/image/authenticated" : "object", o = this.transformOptsToQueryString((r == null ? void 0 : r.transform) || {}), a = o ? `?${o}` : "", l = this._getFinalPath(t), c = () => Da(this.fetch, `${this.url}/${s}/${l}${a}`, { headers: this.headers, noResolveJson: !0 }); return new uO(c, this.shouldThrowOnError) } info(t) { return Z(this, void 0, void 0, function* () { const r = this._getFinalPath(t); try { const n = yield Da(this.fetch, `${this.url}/object/info/${r}`, { headers: this.headers }); return { data: Sf(n), error: null } } catch (n) { if (this.shouldThrowOnError) throw n; if (Oe(n)) return { data: null, error: n }; throw n } }) } exists(t) { return Z(this, void 0, void 0, function* () { const r = this._getFinalPath(t); try { return yield lO(this.fetch, `${this.url}/object/${r}`, { headers: this.headers }), { data: !0, error: null } } catch (n) { if (this.shouldThrowOnError) throw n; if (Oe(n) && n instanceof Wc) { const s = n.originalError; if ([400, 404].includes(s == null ? void 0 : s.status)) return { data: !1, error: n } } throw n } }) } getPublicUrl(t, r) { const n = this._getFinalPath(t), s = [], o = r != null && r.download ? `download=${r.download === !0 ? "" : r.download}` : ""; o !== "" && s.push(o); const l = typeof (r == null ? void 0 : r.transform) < "u" ? "render/image" : "object", c = this.transformOptsToQueryString((r == null ? void 0 : r.transform) || {}); c !== "" && s.push(c); let u = s.join("&"); return u !== "" && (u = `?${u}`), { data: { publicUrl: encodeURI(`${this.url}/${l}/public/${n}${u}`) } } } remove(t) { return Z(this, void 0, void 0, function* () { try { return { data: yield lm(this.fetch, `${this.url}/object/${this.bucketId}`, { prefixes: t }, { headers: this.headers }), error: null } } catch (r) { if (this.shouldThrowOnError) throw r; if (Oe(r)) return { data: null, error: r }; throw r } }) } list(t, r, n) { return Z(this, void 0, void 0, function* () { try { const s = Object.assign(Object.assign(Object.assign({}, dO), r), { prefix: t || "" }); return { data: yield pr(this.fetch, `${this.url}/object/list/${this.bucketId}`, s, { headers: this.headers }, n), error: null } } catch (s) { if (this.shouldThrowOnError) throw s; if (Oe(s)) return { data: null, error: s }; throw s } }) } listV2(t, r) { return Z(this, void 0, void 0, function* () { try { const n = Object.assign({}, t); return { data: yield pr(this.fetch, `${this.url}/object/list-v2/${this.bucketId}`, n, { headers: this.headers }, r), error: null } } catch (n) { if (this.shouldThrowOnError) throw n; if (Oe(n)) return { data: null, error: n }; throw n } }) } encodeMetadata(t) { return JSON.stringify(t) } toBase64(t) { return typeof Buffer < "u" ? Buffer.from(t).toString("base64") : btoa(t) } _getFinalPath(t) { return `${this.bucketId}/${t.replace(/^\/+/, "")}` } _removeEmptyFolders(t) { return t.replace(/^\/|\/$/g, "").replace(/\/+/g, "/") } transformOptsToQueryString(t) { const r = []; return t.width && r.push(`width=${t.width}`), t.height && r.push(`height=${t.height}`), t.resize && r.push(`resize=${t.resize}`), t.format && r.push(`format=${t.format}`), t.quality && r.push(`quality=${t.quality}`), r.join("&") } } const qj = "2.87.1", Kj = { "X-Client-Info": `storage-js/${qj}` }; class fO { constructor(t, r = {}, n, s) { this.shouldThrowOnError = !1; const o = new URL(t); s != null && s.useNewHostname && /supabase\.(co|in|red)$/.test(o.hostname) && !o.hostname.includes("storage.supabase.") && (o.hostname = o.hostname.replace("supabase.", "storage.supabase.")), this.url = o.href.replace(/\/$/, ""), this.headers = Object.assign(Object.assign({}, Kj), r), this.fetch = am(n) } throwOnError() { return this.shouldThrowOnError = !0, this } listBuckets(t) { return Z(this, void 0, void 0, function* () { try { const r = this.listBucketOptionsToQueryString(t); return { data: yield Da(this.fetch, `${this.url}/bucket${r}`, { headers: this.headers }), error: null } } catch (r) { if (this.shouldThrowOnError) throw r; if (Oe(r)) return { data: null, error: r }; throw r } }) } getBucket(t) { return Z(this, void 0, void 0, function* () { try { return { data: yield Da(this.fetch, `${this.url}/bucket/${t}`, { headers: this.headers }), error: null } } catch (r) { if (this.shouldThrowOnError) throw r; if (Oe(r)) return { data: null, error: r }; throw r } }) } createBucket(t) { return Z(this, arguments, void 0, function* (r, n = { public: !1 }) { try { return { data: yield pr(this.fetch, `${this.url}/bucket`, { id: r, name: r, type: n.type, public: n.public, file_size_limit: n.fileSizeLimit, allowed_mime_types: n.allowedMimeTypes }, { headers: this.headers }), error: null } } catch (s) { if (this.shouldThrowOnError) throw s; if (Oe(s)) return { data: null, error: s }; throw s } }) } updateBucket(t, r) { return Z(this, void 0, void 0, function* () { try { return { data: yield _f(this.fetch, `${this.url}/bucket/${t}`, { id: t, name: t, public: r.public, file_size_limit: r.fileSizeLimit, allowed_mime_types: r.allowedMimeTypes }, { headers: this.headers }), error: null } } catch (n) { if (this.shouldThrowOnError) throw n; if (Oe(n)) return { data: null, error: n }; throw n } }) } emptyBucket(t) { return Z(this, void 0, void 0, function* () { try { return { data: yield pr(this.fetch, `${this.url}/bucket/${t}/empty`, {}, { headers: this.headers }), error: null } } catch (r) { if (this.shouldThrowOnError) throw r; if (Oe(r)) return { data: null, error: r }; throw r } }) } deleteBucket(t) { return Z(this, void 0, void 0, function* () { try { return { data: yield lm(this.fetch, `${this.url}/bucket/${t}`, {}, { headers: this.headers }), error: null } } catch (r) { if (this.shouldThrowOnError) throw r; if (Oe(r)) return { data: null, error: r }; throw r } }) } listBucketOptionsToQueryString(t) { const r = {}; return t && ("limit" in t && (r.limit = String(t.limit)), "offset" in t && (r.offset = String(t.offset)), t.search && (r.search = t.search), t.sortColumn && (r.sortColumn = t.sortColumn), t.sortOrder && (r.sortOrder = t.sortOrder)), Object.keys(r).length > 0 ? "?" + new URLSearchParams(r).toString() : "" } } var La = class extends Error { constructor(e, t) { var r; super(e), this.name = "IcebergError", this.status = t.status, this.icebergType = t.icebergType, this.icebergCode = t.icebergCode, this.details = t.details, this.isCommitStateUnknown = t.icebergType === "CommitStateUnknownException" || [500, 502, 504].includes(t.status) && ((r = t.icebergType) == null ? void 0 : r.includes("CommitState")) === !0 } isNotFound() { return this.status === 404 } isConflict() { return this.status === 409 } isAuthenticationTimeout() { return this.status === 419 } }; function pO(e, t, r) { const n = new URL(t, e); if (r) for (const [s, o] of Object.entries(r)) o !== void 0 && n.searchParams.set(s, o); return n.toString() } async function mO(e) { return !e || e.type === "none" ? {} : e.type === "bearer" ? { Authorization: `Bearer ${e.token}` } : e.type === "header" ? { [e.name]: e.value } : e.type === "custom" ? await e.getHeaders() : {} } function gO(e) { const t = e.fetchImpl ?? globalThis.fetch; return { async request({ method: r, path: n, query: s, body: o, headers: a }) { const l = pO(e.baseUrl, n, s), c = await mO(e.auth), u = await t(l, { method: r, headers: { ...o ? { "Content-Type": "application/json" } : {}, ...c, ...a }, body: o ? JSON.stringify(o) : void 0 }), d = await u.text(), p = (u.headers.get("content-type") || "").includes("application/json"), m = p && d ? JSON.parse(d) : d; if (!u.ok) { const h = p ? m : void 0, x = h == null ? void 0 : h.error; throw new La((x == null ? void 0 : x.message) ?? `Request failed with status ${u.status}`, { status: u.status, icebergType: x == null ? void 0 : x.type, icebergCode: x == null ? void 0 : x.code, details: h }) } return { status: u.status, headers: u.headers, data: m } } } } function Il(e) { return e.join("") } var vO = class { constructor(e, t = "") { this.client = e, this.prefix = t } async listNamespaces(e) { const t = e ? { parent: Il(e.namespace) } : void 0; return (await this.client.request({ method: "GET", path: `${this.prefix}/namespaces`, query: t })).data.namespaces.map(n => ({ namespace: n })) } async createNamespace(e, t) { const r = { namespace: e.namespace, properties: t == null ? void 0 : t.properties }; return (await this.client.request({ method: "POST", path: `${this.prefix}/namespaces`, body: r })).data } async dropNamespace(e) { await this.client.request({ method: "DELETE", path: `${this.prefix}/namespaces/${Il(e.namespace)}` }) } async loadNamespaceMetadata(e) { return { properties: (await this.client.request({ method: "GET", path: `${this.prefix}/namespaces/${Il(e.namespace)}` })).data.properties } } async namespaceExists(e) { try { return await this.client.request({ method: "HEAD", path: `${this.prefix}/namespaces/${Il(e.namespace)}` }), !0 } catch (t) { if (t instanceof La && t.status === 404) return !1; throw t } } async createNamespaceIfNotExists(e, t) { try { return await this.createNamespace(e, t) } catch (r) { if (r instanceof La && r.status === 409) return; throw r } } }; function yo(e) { return e.join("") } var yO = class { constructor(e, t = "", r) { this.client = e, this.prefix = t, this.accessDelegation = r } async listTables(e) { return (await this.client.request({ method: "GET", path: `${this.prefix}/namespaces/${yo(e.namespace)}/tables` })).data.identifiers } async createTable(e, t) { const r = {}; return this.accessDelegation && (r["X-Iceberg-Access-Delegation"] = this.accessDelegation), (await this.client.request({ method: "POST", path: `${this.prefix}/namespaces/${yo(e.namespace)}/tables`, body: t, headers: r })).data.metadata } async updateTable(e, t) { const r = await this.client.request({ method: "POST", path: `${this.prefix}/namespaces/${yo(e.namespace)}/tables/${e.name}`, body: t }); return { "metadata-location": r.data["metadata-location"], metadata: r.data.metadata } } async dropTable(e, t) { await this.client.request({ method: "DELETE", path: `${this.prefix}/namespaces/${yo(e.namespace)}/tables/${e.name}`, query: { purgeRequested: String((t == null ? void 0 : t.purge) ?? !1) } }) } async loadTable(e) { const t = {}; return this.accessDelegation && (t["X-Iceberg-Access-Delegation"] = this.accessDelegation), (await this.client.request({ method: "GET", path: `${this.prefix}/namespaces/${yo(e.namespace)}/tables/${e.name}`, headers: t })).data.metadata } async tableExists(e) { const t = {}; this.accessDelegation && (t["X-Iceberg-Access-Delegation"] = this.accessDelegation); try { return await this.client.request({ method: "HEAD", path: `${this.prefix}/namespaces/${yo(e.namespace)}/tables/${e.name}`, headers: t }), !0 } catch (r) { if (r instanceof La && r.status === 404) return !1; throw r } } async createTableIfNotExists(e, t) { try { return await this.createTable(e, t) } catch (r) { if (r instanceof La && r.status === 409) return await this.loadTable({ namespace: e.namespace, name: t.name }); throw r } } }, xO = class { constructor(e) { var n; let t = "v1"; e.catalogName && (t += `/${e.catalogName}`); const r = e.baseUrl.endsWith("/") ? e.baseUrl : `${e.baseUrl}/`; this.client = gO({ baseUrl: r, auth: e.auth, fetchImpl: e.fetch }), this.accessDelegation = (n = e.accessDelegation) == null ? void 0 : n.join(","), this.namespaceOps = new vO(this.client, t), this.tableOps = new yO(this.client, t, this.accessDelegation) } async listNamespaces(e) { return this.namespaceOps.listNamespaces(e) } async createNamespace(e, t) { return this.namespaceOps.createNamespace(e, t) } async dropNamespace(e) { await this.namespaceOps.dropNamespace(e) } async loadNamespaceMetadata(e) { return this.namespaceOps.loadNamespaceMetadata(e) } async listTables(e) { return this.tableOps.listTables(e) } async createTable(e, t) { return this.tableOps.createTable(e, t) } async updateTable(e, t) { return this.tableOps.updateTable(e, t) } async dropTable(e, t) { await this.tableOps.dropTable(e, t) } async loadTable(e) { return this.tableOps.loadTable(e) } async namespaceExists(e) { return this.namespaceOps.namespaceExists(e) } async tableExists(e) { return this.tableOps.tableExists(e) } async createNamespaceIfNotExists(e, t) { return this.namespaceOps.createNamespaceIfNotExists(e, t) } async createTableIfNotExists(e, t) { return this.tableOps.createTableIfNotExists(e, t) } }; class Gj { constructor(t, r = {}, n) { this.shouldThrowOnError = !1, this.url = t.replace(/\/$/, ""), this.headers = Object.assign(Object.assign({}, Kj), r), this.fetch = am(n) } throwOnError() { return this.shouldThrowOnError = !0, this } createBucket(t) { return Z(this, void 0, void 0, function* () { try { return { data: yield pr(this.fetch, `${this.url}/bucket`, { name: t }, { headers: this.headers }), error: null } } catch (r) { if (this.shouldThrowOnError) throw r; if (Oe(r)) return { data: null, error: r }; throw r } }) } listBuckets(t) { return Z(this, void 0, void 0, function* () { try { const r = new URLSearchParams; (t == null ? void 0 : t.limit) !== void 0 && r.set("limit", t.limit.toString()), (t == null ? void 0 : t.offset) !== void 0 && r.set("offset", t.offset.toString()), t != null && t.sortColumn && r.set("sortColumn", t.sortColumn), t != null && t.sortOrder && r.set("sortOrder", t.sortOrder), t != null && t.search && r.set("search", t.search); const n = r.toString(), s = n ? `${this.url}/bucket?${n}` : `${this.url}/bucket`; return { data: yield Da(this.fetch, s, { headers: this.headers }), error: null } } catch (r) { if (this.shouldThrowOnError) throw r; if (Oe(r)) return { data: null, error: r }; throw r } }) } deleteBucket(t) { return Z(this, void 0, void 0, function* () { try { return { data: yield lm(this.fetch, `${this.url}/bucket/${t}`, {}, { headers: this.headers }), error: null } } catch (r) { if (this.shouldThrowOnError) throw r; if (Oe(r)) return { data: null, error: r }; throw r } }) } from(t) { if (!oO(t)) throw new Ja("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters."); const r = new xO({ baseUrl: this.url, catalogName: t, auth: { type: "custom", getHeaders: () => Z(this, void 0, void 0, function* () { return this.headers }) }, fetch: this.fetch }), n = this.shouldThrowOnError; return new Proxy(r, { get(o, a) { const l = o[a]; return typeof l != "function" ? l : (...c) => Z(this, void 0, void 0, function* () { try { return { data: yield l.apply(o, c), error: null } } catch (u) { if (n) throw u; return { data: null, error: u } } }) } }) } } const cm = { "X-Client-Info": `storage-js/${qj}`, "Content-Type": "application/json" }; class um extends Error { constructor(t) { super(t), this.__isStorageVectorsError = !0, this.name = "StorageVectorsError" } } function Ot(e) { return typeof e == "object" && e !== null && "__isStorageVectorsError" in e } class oc extends um { constructor(t, r, n) { super(t), this.name = "StorageVectorsApiError", this.status = r, this.statusCode = n } toJSON() { return { name: this.name, message: this.message, status: this.status, statusCode: this.statusCode } } } class Yj extends um { constructor(t, r) { super(t), this.name = "StorageVectorsUnknownError", this.originalError = r } } var Nf; (function (e) { e.InternalError = "InternalError", e.S3VectorConflictException = "S3VectorConflictException", e.S3VectorNotFoundException = "S3VectorNotFoundException", e.S3VectorBucketNotEmpty = "S3VectorBucketNotEmpty", e.S3VectorMaxBucketsExceeded = "S3VectorMaxBucketsExceeded", e.S3VectorMaxIndexesExceeded = "S3VectorMaxIndexesExceeded" })(Nf || (Nf = {})); const Fu = e => e ? (...t) => e(...t) : (...t) => fetch(...t), wO = () => Response, Qj = e => { if (typeof e != "object" || e === null) return !1; const t = Object.getPrototypeOf(e); return (t === null || t === Object.prototype || Object.getPrototypeOf(t) === null) && !(Symbol.toStringTag in e) && !(Symbol.iterator in e) }, bO = e => Array.from(new Float32Array(e)), jO = (e, t) => { if (t !== void 0 && e.float32.length !== t) throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`) }, oy = e => e.msg || e.message || e.error_description || e.error || JSON.stringify(e), SO = (e, t, r) => Z(void 0, void 0, void 0, function* () { if (e && typeof e == "object" && "status" in e && "ok" in e && typeof e.status == "number" && !(r != null && r.noResolveJson)) { const s = e.status || 500, o = e; if (typeof o.json == "function") o.json().then(a => { const l = (a == null ? void 0 : a.statusCode) || (a == null ? void 0 : a.code) || s + ""; t(new oc(oy(a), s, l)) }).catch(() => { const a = s + "", l = o.statusText || `HTTP ${s} error`; t(new oc(l, s, a)) }); else { const a = s + "", l = o.statusText || `HTTP ${s} error`; t(new oc(l, s, a)) } } else t(new Yj(oy(e), e)) }), _O = (e, t, r, n) => { const s = { method: e, headers: (t == null ? void 0 : t.headers) || {} }; return n ? (Qj(n) ? (s.headers = Object.assign({ "Content-Type": "application/json" }, t == null ? void 0 : t.headers), s.body = JSON.stringify(n)) : s.body = n, Object.assign(Object.assign({}, s), r)) : s }; function NO(e, t, r, n, s, o) { return Z(this, void 0, void 0, function* () { return new Promise((a, l) => { e(r, _O(t, n, s, o)).then(c => { if (!c.ok) throw c; if (n != null && n.noResolveJson) return c; const u = c.headers.get("content-type"); return !u || !u.includes("application/json") ? {} : c.json() }).then(c => a(c)).catch(c => SO(c, l, n)) }) }) } function Ut(e, t, r, n, s) { return Z(this, void 0, void 0, function* () { return NO(e, "POST", t, n, s, r) }) } class Jj { constructor(t, r = {}, n) { this.shouldThrowOnError = !1, this.url = t.replace(/\/$/, ""), this.headers = Object.assign(Object.assign({}, cm), r), this.fetch = Fu(n) } throwOnError() { return this.shouldThrowOnError = !0, this } createIndex(t) { return Z(this, void 0, void 0, function* () { try { return { data: (yield Ut(this.fetch, `${this.url}/CreateIndex`, t, { headers: this.headers })) || {}, error: null } } catch (r) { if (this.shouldThrowOnError) throw r; if (Ot(r)) return { data: null, error: r }; throw r } }) } getIndex(t, r) { return Z(this, void 0, void 0, function* () { try { return { data: yield Ut(this.fetch, `${this.url}/GetIndex`, { vectorBucketName: t, indexName: r }, { headers: this.headers }), error: null } } catch (n) { if (this.shouldThrowOnError) throw n; if (Ot(n)) return { data: null, error: n }; throw n } }) } listIndexes(t) { return Z(this, void 0, void 0, function* () { try { return { data: yield Ut(this.fetch, `${this.url}/ListIndexes`, t, { headers: this.headers }), error: null } } catch (r) { if (this.shouldThrowOnError) throw r; if (Ot(r)) return { data: null, error: r }; throw r } }) } deleteIndex(t, r) { return Z(this, void 0, void 0, function* () { try { return { data: (yield Ut(this.fetch, `${this.url}/DeleteIndex`, { vectorBucketName: t, indexName: r }, { headers: this.headers })) || {}, error: null } } catch (n) { if (this.shouldThrowOnError) throw n; if (Ot(n)) return { data: null, error: n }; throw n } }) } } class Xj { constructor(t, r = {}, n) { this.shouldThrowOnError = !1, this.url = t.replace(/\/$/, ""), this.headers = Object.assign(Object.assign({}, cm), r), this.fetch = Fu(n) } throwOnError() { return this.shouldThrowOnError = !0, this } putVectors(t) { return Z(this, void 0, void 0, function* () { try { if (t.vectors.length < 1 || t.vectors.length > 500) throw new Error("Vector batch size must be between 1 and 500 items"); return { data: (yield Ut(this.fetch, `${this.url}/PutVectors`, t, { headers: this.headers })) || {}, error: null } } catch (r) { if (this.shouldThrowOnError) throw r; if (Ot(r)) return { data: null, error: r }; throw r } }) } getVectors(t) { return Z(this, void 0, void 0, function* () { try { return { data: yield Ut(this.fetch, `${this.url}/GetVectors`, t, { headers: this.headers }), error: null } } catch (r) { if (this.shouldThrowOnError) throw r; if (Ot(r)) return { data: null, error: r }; throw r } }) } listVectors(t) { return Z(this, void 0, void 0, function* () { try { if (t.segmentCount !== void 0) { if (t.segmentCount < 1 || t.segmentCount > 16) throw new Error("segmentCount must be between 1 and 16"); if (t.segmentIndex !== void 0 && (t.segmentIndex < 0 || t.segmentIndex >= t.segmentCount)) throw new Error(`segmentIndex must be between 0 and ${t.segmentCount - 1}`) } return { data: yield Ut(this.fetch, `${this.url}/ListVectors`, t, { headers: this.headers }), error: null } } catch (r) { if (this.shouldThrowOnError) throw r; if (Ot(r)) return { data: null, error: r }; throw r } }) } queryVectors(t) { return Z(this, void 0, void 0, function* () { try { return { data: yield Ut(this.fetch, `${this.url}/QueryVectors`, t, { headers: this.headers }), error: null } } catch (r) { if (this.shouldThrowOnError) throw r; if (Ot(r)) return { data: null, error: r }; throw r } }) } deleteVectors(t) { return Z(this, void 0, void 0, function* () { try { if (t.keys.length < 1 || t.keys.length > 500) throw new Error("Keys batch size must be between 1 and 500 items"); return { data: (yield Ut(this.fetch, `${this.url}/DeleteVectors`, t, { headers: this.headers })) || {}, error: null } } catch (r) { if (this.shouldThrowOnError) throw r; if (Ot(r)) return { data: null, error: r }; throw r } }) } } class Zj { constructor(t, r = {}, n) { this.shouldThrowOnError = !1, this.url = t.replace(/\/$/, ""), this.headers = Object.assign(Object.assign({}, cm), r), this.fetch = Fu(n) } throwOnError() { return this.shouldThrowOnError = !0, this } createBucket(t) { return Z(this, void 0, void 0, function* () { try { return { data: (yield Ut(this.fetch, `${this.url}/CreateVectorBucket`, { vectorBucketName: t }, { headers: this.headers })) || {}, error: null } } catch (r) { if (this.shouldThrowOnError) throw r; if (Ot(r)) return { data: null, error: r }; throw r } }) } getBucket(t) { return Z(this, void 0, void 0, function* () { try { return { data: yield Ut(this.fetch, `${this.url}/GetVectorBucket`, { vectorBucketName: t }, { headers: this.headers }), error: null } } catch (r) { if (this.shouldThrowOnError) throw r; if (Ot(r)) return { data: null, error: r }; throw r } }) } listBuckets() { return Z(this, arguments, void 0, function* (t = {}) { try { return { data: yield Ut(this.fetch, `${this.url}/ListVectorBuckets`, t, { headers: this.headers }), error: null } } catch (r) { if (this.shouldThrowOnError) throw r; if (Ot(r)) return { data: null, error: r }; throw r } }) } deleteBucket(t) { return Z(this, void 0, void 0, function* () { try { return { data: (yield Ut(this.fetch, `${this.url}/DeleteVectorBucket`, { vectorBucketName: t }, { headers: this.headers })) || {}, error: null } } catch (r) { if (this.shouldThrowOnError) throw r; if (Ot(r)) return { data: null, error: r }; throw r } }) } } class e1 extends Zj { constructor(t, r = {}) { super(t, r.headers || {}, r.fetch) } from(t) { return new t1(this.url, this.headers, t, this.fetch) } createBucket(t) { const r = Object.create(null, { createBucket: { get: () => super.createBucket } }); return Z(this, void 0, void 0, function* () { return r.createBucket.call(this, t) }) } getBucket(t) { const r = Object.create(null, { getBucket: { get: () => super.getBucket } }); return Z(this, void 0, void 0, function* () { return r.getBucket.call(this, t) }) } listBuckets() { const t = Object.create(null, { listBuckets: { get: () => super.listBuckets } }); return Z(this, arguments, void 0, function* (r = {}) { return t.listBuckets.call(this, r) }) } deleteBucket(t) { const r = Object.create(null, { deleteBucket: { get: () => super.deleteBucket } }); return Z(this, void 0, void 0, function* () { return r.deleteBucket.call(this, t) }) } } class t1 extends Jj { constructor(t, r, n, s) { super(t, r, s), this.vectorBucketName = n } createIndex(t) { const r = Object.create(null, { createIndex: { get: () => super.createIndex } }); return Z(this, void 0, void 0, function* () { return r.createIndex.call(this, Object.assign(Object.assign({}, t), { vectorBucketName: this.vectorBucketName })) }) } listIndexes() { const t = Object.create(null, { listIndexes: { get: () => super.listIndexes } }); return Z(this, arguments, void 0, function* (r = {}) { return t.listIndexes.call(this, Object.assign(Object.assign({}, r), { vectorBucketName: this.vectorBucketName })) }) } getIndex(t) { const r = Object.create(null, { getIndex: { get: () => super.getIndex } }); return Z(this, void 0, void 0, function* () { return r.getIndex.call(this, this.vectorBucketName, t) }) } deleteIndex(t) { const r = Object.create(null, { deleteIndex: { get: () => super.deleteIndex } }); return Z(this, void 0, void 0, function* () { return r.deleteIndex.call(this, this.vectorBucketName, t) }) } index(t) { return new r1(this.url, this.headers, this.vectorBucketName, t, this.fetch) } } class r1 extends Xj { constructor(t, r, n, s, o) { super(t, r, o), this.vectorBucketName = n, this.indexName = s } putVectors(t) { const r = Object.create(null, { putVectors: { get: () => super.putVectors } }); return Z(this, void 0, void 0, function* () { return r.putVectors.call(this, Object.assign(Object.assign({}, t), { vectorBucketName: this.vectorBucketName, indexName: this.indexName })) }) } getVectors(t) { const r = Object.create(null, { getVectors: { get: () => super.getVectors } }); return Z(this, void 0, void 0, function* () { return r.getVectors.call(this, Object.assign(Object.assign({}, t), { vectorBucketName: this.vectorBucketName, indexName: this.indexName })) }) } listVectors() { const t = Object.create(null, { listVectors: { get: () => super.listVectors } }); return Z(this, arguments, void 0, function* (r = {}) { return t.listVectors.call(this, Object.assign(Object.assign({}, r), { vectorBucketName: this.vectorBucketName, indexName: this.indexName })) }) } queryVectors(t) { const r = Object.create(null, { queryVectors: { get: () => super.queryVectors } }); return Z(this, void 0, void 0, function* () { return r.queryVectors.call(this, Object.assign(Object.assign({}, t), { vectorBucketName: this.vectorBucketName, indexName: this.indexName })) }) } deleteVectors(t) { const r = Object.create(null, { deleteVectors: { get: () => super.deleteVectors } }); return Z(this, void 0, void 0, function* () { return r.deleteVectors.call(this, Object.assign(Object.assign({}, t), { vectorBucketName: this.vectorBucketName, indexName: this.indexName })) }) } } class EO extends fO { constructor(t, r = {}, n, s) { super(t, r, n, s) } from(t) { return new hO(this.url, this.headers, t, this.fetch) } get vectors() { return new e1(this.url + "/vector", { headers: this.headers, fetch: this.fetch }) } get analytics() { return new Gj(this.url + "/iceberg", this.headers, this.fetch) } } const CO = Object.freeze(Object.defineProperty({ __proto__: null, StorageAnalyticsClient: Gj, StorageApiError: Hj, StorageClient: EO, StorageError: Ja, StorageUnknownError: Wc, StorageVectorsApiError: oc, StorageVectorsClient: e1, StorageVectorsError: um, get StorageVectorsErrorCode() { return Nf }, StorageVectorsUnknownError: Yj, VectorBucketApi: Zj, VectorBucketScope: t1, VectorDataApi: Xj, VectorIndexApi: Jj, VectorIndexScope: r1, isPlainObject: Qj, isStorageError: Oe, isStorageVectorsError: Ot, normalizeToFloat32: bO, resolveFetch: Fu, resolveResponse: wO, validateVectorDimension: jO }, Symbol.toStringTag, { value: "Module" })), kO = Ua(CO); var n1 = {}, Uu = {}; Object.defineProperty(Uu, "__esModule", { value: !0 }); Uu.version = void 0; Uu.version = "2.87.1"; (function (e) { Object.defineProperty(e, "__esModule", { value: !0 }), e.DEFAULT_REALTIME_OPTIONS = e.DEFAULT_AUTH_OPTIONS = e.DEFAULT_DB_OPTIONS = e.DEFAULT_GLOBAL_OPTIONS = e.DEFAULT_HEADERS = void 0; const t = Uu; let r = ""; typeof Deno < "u" ? r = "deno" : typeof document < "u" ? r = "web" : typeof navigator < "u" && navigator.product === "ReactNative" ? r = "react-native" : r = "node", e.DEFAULT_HEADERS = { "X-Client-Info": `supabase-js-${r}/${t.version}` }, e.DEFAULT_GLOBAL_OPTIONS = { headers: e.DEFAULT_HEADERS }, e.DEFAULT_DB_OPTIONS = { schema: "public" }, e.DEFAULT_AUTH_OPTIONS = { autoRefreshToken: !0, persistSession: !0, detectSessionInUrl: !0, flowType: "implicit" }, e.DEFAULT_REALTIME_OPTIONS = {} })(n1); var s1 = {}; (function (e) { Object.defineProperty(e, "__esModule", { value: !0 }), e.fetchWithAuth = e.resolveHeadersConstructor = e.resolveFetch = void 0; const t = s => s ? (...o) => s(...o) : (...o) => fetch(...o); e.resolveFetch = t; const r = () => Headers; e.resolveHeadersConstructor = r; const n = (s, o, a) => { const l = (0, e.resolveFetch)(a), c = (0, e.resolveHeadersConstructor)(); return async (u, d) => { var p; const m = (p = await o()) !== null && p !== void 0 ? p : s; let h = new c(d == null ? void 0 : d.headers); return h.has("apikey") || h.set("apikey", s), h.has("Authorization") || h.set("Authorization", `Bearer ${m}`), l(u, Object.assign(Object.assign({}, d), { headers: h })) } }; e.fetchWithAuth = n })(s1); var bs = {}; Object.defineProperty(bs, "__esModule", { value: !0 }); bs.isBrowser = void 0; bs.uuid = PO; bs.ensureTrailingSlash = o1; bs.applySettingDefaults = RO; bs.validateSupabaseUrl = AO; function PO() { return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function (e) { var t = Math.random() * 16 | 0, r = e == "x" ? t : t & 3 | 8; return r.toString(16) }) } function o1(e) { return e.endsWith("/") ? e : e + "/" } const TO = () => typeof window < "u"; bs.isBrowser = TO; function RO(e, t) { var r, n; const { db: s, auth: o, realtime: a, global: l } = e, { db: c, auth: u, realtime: d, global: p } = t, m = { db: Object.assign(Object.assign({}, c), s), auth: Object.assign(Object.assign({}, u), o), realtime: Object.assign(Object.assign({}, d), a), storage: {}, global: Object.assign(Object.assign(Object.assign({}, p), l), { headers: Object.assign(Object.assign({}, (r = p == null ? void 0 : p.headers) !== null && r !== void 0 ? r : {}), (n = l == null ? void 0 : l.headers) !== null && n !== void 0 ? n : {}) }), accessToken: async () => "" }; return e.accessToken ? m.accessToken = e.accessToken : delete m.accessToken, m } function AO(e) { const t = e == null ? void 0 : e.trim(); if (!t) throw new Error("supabaseUrl is required."); if (!t.match(/^https?:\/\//i)) throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL."); try { return new URL(o1(t)) } catch { throw Error("Invalid supabaseUrl: Provided URL is malformed.") } } var zu = {}; const i1 = "2.87.1", Eo = 30 * 1e3, Ef = 3, Bd = Ef * Eo, OO = "http://localhost:9999", IO = "supabase.auth.token", DO = { "X-Client-Info": `gotrue-js/${i1}` }, Cf = "X-Supabase-Api-Version", a1 = { "2024-01-01": { timestamp: Date.parse("2024-01-01T00:00:00.0Z"), name: "2024-01-01" } }, LO = /^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i, $O = 10 * 60 * 1e3; let vi = class extends Error { constructor(t, r, n) { super(t), this.__isAuthError = !0, this.name = "AuthError", this.status = r, this.code = n } }; function te(e) { return typeof e == "object" && e !== null && "__isAuthError" in e } let l1 = class extends vi { constructor(t, r, n) { super(t, r, n), this.name = "AuthApiError", this.status = r, this.code = n } }; function c1(e) { return te(e) && e.name === "AuthApiError" } let Mn = class extends vi { constructor(t, r) { super(t), this.name = "AuthUnknownError", this.originalError = r } }, _n = class extends vi { constructor(t, r, n, s) { super(t, n, s), this.name = r, this.status = n } }, kt = class extends _n { constructor() { super("Auth session missing!", "AuthSessionMissingError", 400, void 0) } }; function u1(e) { return te(e) && e.name === "AuthSessionMissingError" } let As = class extends _n { constructor() { super("Auth session or user missing", "AuthInvalidTokenResponseError", 500, void 0) } }, Ji = class extends _n { constructor(t) { super(t, "AuthInvalidCredentialsError", 400, void 0) } }, Xi = class extends _n { constructor(t, r = null) { super(t, "AuthImplicitGrantRedirectError", 500, void 0), this.details = null, this.details = r } toJSON() { return { name: this.name, message: this.message, status: this.status, details: this.details } } }; function d1(e) { return te(e) && e.name === "AuthImplicitGrantRedirectError" } let kf = class extends _n { constructor(t, r = null) { super(t, "AuthPKCEGrantCodeExchangeError", 500, void 0), this.details = null, this.details = r } toJSON() { return { name: this.name, message: this.message, status: this.status, details: this.details } } }, qc = class extends _n { constructor(t, r) { super(t, "AuthRetryableFetchError", r, void 0) } }; function ic(e) { return te(e) && e.name === "AuthRetryableFetchError" } let Pf = class extends _n { constructor(t, r, n) { super(t, "AuthWeakPasswordError", r, "weak_password"), this.reasons = n } }; function MO(e) { return te(e) && e.name === "AuthWeakPasswordError" } let Kc = class extends _n { constructor(t) { super(t, "AuthInvalidJwtError", 400, "invalid_jwt") } }; const Gc = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""), iy = ` 	
\r=`.split(""), FO = (() => { const e = new Array(128); for (let t = 0; t < e.length; t += 1)e[t] = -1; for (let t = 0; t < iy.length; t += 1)e[iy[t].charCodeAt(0)] = -2; for (let t = 0; t < Gc.length; t += 1)e[Gc[t].charCodeAt(0)] = t; return e })(); function ay(e, t, r) { if (e !== null) for (t.queue = t.queue << 8 | e, t.queuedBits += 8; t.queuedBits >= 6;) { const n = t.queue >> t.queuedBits - 6 & 63; r(Gc[n]), t.queuedBits -= 6 } else if (t.queuedBits > 0) for (t.queue = t.queue << 6 - t.queuedBits, t.queuedBits = 6; t.queuedBits >= 6;) { const n = t.queue >> t.queuedBits - 6 & 63; r(Gc[n]), t.queuedBits -= 6 } } function h1(e, t, r) { const n = FO[e]; if (n > -1) for (t.queue = t.queue << 6 | n, t.queuedBits += 6; t.queuedBits >= 8;)r(t.queue >> t.queuedBits - 8 & 255), t.queuedBits -= 8; else { if (n === -2) return; throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`) } } function ly(e) { const t = [], r = a => { t.push(String.fromCodePoint(a)) }, n = { utf8seq: 0, codepoint: 0 }, s = { queue: 0, queuedBits: 0 }, o = a => { BO(a, n, r) }; for (let a = 0; a < e.length; a += 1)h1(e.charCodeAt(a), s, o); return t.join("") } function UO(e, t) { if (e <= 127) { t(e); return } else if (e <= 2047) { t(192 | e >> 6), t(128 | e & 63); return } else if (e <= 65535) { t(224 | e >> 12), t(128 | e >> 6 & 63), t(128 | e & 63); return } else if (e <= 1114111) { t(240 | e >> 18), t(128 | e >> 12 & 63), t(128 | e >> 6 & 63), t(128 | e & 63); return } throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`) } function zO(e, t) { for (let r = 0; r < e.length; r += 1) { let n = e.charCodeAt(r); if (n > 55295 && n <= 56319) { const s = (n - 55296) * 1024 & 65535; n = (e.charCodeAt(r + 1) - 56320 & 65535 | s) + 65536, r += 1 } UO(n, t) } } function BO(e, t, r) { if (t.utf8seq === 0) { if (e <= 127) { r(e); return } for (let n = 1; n < 6; n += 1)if (!(e >> 7 - n & 1)) { t.utf8seq = n; break } if (t.utf8seq === 2) t.codepoint = e & 31; else if (t.utf8seq === 3) t.codepoint = e & 15; else if (t.utf8seq === 4) t.codepoint = e & 7; else throw new Error("Invalid UTF-8 sequence"); t.utf8seq -= 1 } else if (t.utf8seq > 0) { if (e <= 127) throw new Error("Invalid UTF-8 sequence"); t.codepoint = t.codepoint << 6 | e & 63, t.utf8seq -= 1, t.utf8seq === 0 && r(t.codepoint) } } function Yo(e) { const t = [], r = { queue: 0, queuedBits: 0 }, n = s => { t.push(s) }; for (let s = 0; s < e.length; s += 1)h1(e.charCodeAt(s), r, n); return new Uint8Array(t) } function VO(e) { const t = []; return zO(e, r => t.push(r)), new Uint8Array(t) } function Vs(e) { const t = [], r = { queue: 0, queuedBits: 0 }, n = s => { t.push(s) }; return e.forEach(s => ay(s, r, n)), ay(null, r, n), t.join("") } function HO(e) { return Math.round(Date.now() / 1e3) + e } function WO() { return Symbol("auth-callback") } const it = () => typeof window < "u" && typeof document < "u", Cs = { tested: !1, writable: !1 }, f1 = () => { if (!it()) return !1; try { if (typeof globalThis.localStorage != "object") return !1 } catch { return !1 } if (Cs.tested) return Cs.writable; const e = `lswt-${Math.random()}${Math.random()}`; try { globalThis.localStorage.setItem(e, e), globalThis.localStorage.removeItem(e), Cs.tested = !0, Cs.writable = !0 } catch { Cs.tested = !0, Cs.writable = !1 } return Cs.writable }; function qO(e) { const t = {}, r = new URL(e); if (r.hash && r.hash[0] === "#") try { new URLSearchParams(r.hash.substring(1)).forEach((s, o) => { t[o] = s }) } catch { } return r.searchParams.forEach((n, s) => { t[s] = n }), t } const p1 = e => e ? (...t) => e(...t) : (...t) => fetch(...t), KO = e => typeof e == "object" && e !== null && "status" in e && "ok" in e && "json" in e && typeof e.json == "function", Co = async (e, t, r) => { await e.setItem(t, JSON.stringify(r)) }, ks = async (e, t) => { const r = await e.getItem(t); if (!r) return null; try { return JSON.parse(r) } catch { return r } }, ot = async (e, t) => { await e.removeItem(t) }; class Bu { constructor() { this.promise = new Bu.promiseConstructor((t, r) => { this.resolve = t, this.reject = r }) } } Bu.promiseConstructor = Promise; function Vd(e) { const t = e.split("."); if (t.length !== 3) throw new Kc("Invalid JWT structure"); for (let n = 0; n < t.length; n++)if (!LO.test(t[n])) throw new Kc("JWT not in base64url format"); return { header: JSON.parse(ly(t[0])), payload: JSON.parse(ly(t[1])), signature: Yo(t[2]), raw: { header: t[0], payload: t[1] } } } async function GO(e) { return await new Promise(t => { setTimeout(() => t(null), e) }) } function YO(e, t) { return new Promise((n, s) => { (async () => { for (let o = 0; o < 1 / 0; o++)try { const a = await e(o); if (!t(o, null, a)) { n(a); return } } catch (a) { if (!t(o, a)) { s(a); return } } })() }) } function QO(e) { return ("0" + e.toString(16)).substr(-2) } function JO() { const t = new Uint32Array(56); if (typeof crypto > "u") { const r = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~", n = r.length; let s = ""; for (let o = 0; o < 56; o++)s += r.charAt(Math.floor(Math.random() * n)); return s } return crypto.getRandomValues(t), Array.from(t, QO).join("") } async function XO(e) { const r = new TextEncoder().encode(e), n = await crypto.subtle.digest("SHA-256", r), s = new Uint8Array(n); return Array.from(s).map(o => String.fromCharCode(o)).join("") } async function ZO(e) { if (!(typeof crypto < "u" && typeof crypto.subtle < "u" && typeof TextEncoder < "u")) return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."), e; const r = await XO(e); return btoa(r).replace(/\+/g, "-").replace(/\//g, "_").replace(/=+$/, "") } async function xo(e, t, r = !1) { const n = JO(); let s = n; r && (s += "/PASSWORD_RECOVERY"), await Co(e, `${t}-code-verifier`, s); const o = await ZO(n); return [o, n === o ? "plain" : "s256"] } const eI = /^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i; function tI(e) { const t = e.headers.get(Cf); if (!t || !t.match(eI)) return null; try { return new Date(`${t}T00:00:00.0Z`) } catch { return null } } function rI(e) { if (!e) throw new Error("Missing exp claim"); const t = Math.floor(Date.now() / 1e3); if (e <= t) throw new Error("JWT has expired") } function nI(e) { switch (e) { case "RS256": return { name: "RSASSA-PKCS1-v1_5", hash: { name: "SHA-256" } }; case "ES256": return { name: "ECDSA", namedCurve: "P-256", hash: { name: "SHA-256" } }; default: throw new Error("Invalid alg claim") } } const sI = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/; function wo(e) { if (!sI.test(e)) throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not") } function Hd() { const e = {}; return new Proxy(e, { get: (t, r) => { if (r === "__isUserNotAvailableProxy") return !0; if (typeof r == "symbol") { const n = r.toString(); if (n === "Symbol(Symbol.toPrimitive)" || n === "Symbol(Symbol.toStringTag)" || n === "Symbol(util.inspect.custom)") return } throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`) }, set: (t, r) => { throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`) }, deleteProperty: (t, r) => { throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`) } }) } function oI(e, t) { return new Proxy(e, { get: (r, n, s) => { if (n === "__isInsecureUserWarningProxy") return !0; if (typeof n == "symbol") { const o = n.toString(); if (o === "Symbol(Symbol.toPrimitive)" || o === "Symbol(Symbol.toStringTag)" || o === "Symbol(util.inspect.custom)" || o === "Symbol(nodejs.util.inspect.custom)") return Reflect.get(r, n, s) } return !t.value && typeof n == "string" && (console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."), t.value = !0), Reflect.get(r, n, s) } }) } function cy(e) { return JSON.parse(JSON.stringify(e)) } const Os = e => e.msg || e.message || e.error_description || e.error || JSON.stringify(e), iI = [502, 503, 504]; async function uy(e) { var t; if (!KO(e)) throw new qc(Os(e), 0); if (iI.includes(e.status)) throw new qc(Os(e), e.status); let r; try { r = await e.json() } catch (o) { throw new Mn(Os(o), o) } let n; const s = tI(e); if (s && s.getTime() >= a1["2024-01-01"].timestamp && typeof r == "object" && r && typeof r.code == "string" ? n = r.code : typeof r == "object" && r && typeof r.error_code == "string" && (n = r.error_code), n) { if (n === "weak_password") throw new Pf(Os(r), e.status, ((t = r.weak_password) === null || t === void 0 ? void 0 : t.reasons) || []); if (n === "session_not_found") throw new kt } else if (typeof r == "object" && r && typeof r.weak_password == "object" && r.weak_password && Array.isArray(r.weak_password.reasons) && r.weak_password.reasons.length && r.weak_password.reasons.reduce((o, a) => o && typeof a == "string", !0)) throw new Pf(Os(r), e.status, r.weak_password.reasons); throw new l1(Os(r), e.status || 500, n) } const aI = (e, t, r, n) => { const s = { method: e, headers: (t == null ? void 0 : t.headers) || {} }; return e === "GET" ? s : (s.headers = Object.assign({ "Content-Type": "application/json;charset=UTF-8" }, t == null ? void 0 : t.headers), s.body = JSON.stringify(n), Object.assign(Object.assign({}, s), r)) }; async function oe(e, t, r, n) { var s; const o = Object.assign({}, n == null ? void 0 : n.headers); o[Cf] || (o[Cf] = a1["2024-01-01"].name), n != null && n.jwt && (o.Authorization = `Bearer ${n.jwt}`); const a = (s = n == null ? void 0 : n.query) !== null && s !== void 0 ? s : {}; n != null && n.redirectTo && (a.redirect_to = n.redirectTo); const l = Object.keys(a).length ? "?" + new URLSearchParams(a).toString() : "", c = await lI(e, t, r + l, { headers: o, noResolveJson: n == null ? void 0 : n.noResolveJson }, {}, n == null ? void 0 : n.body); return n != null && n.xform ? n == null ? void 0 : n.xform(c) : { data: Object.assign({}, c), error: null } } async function lI(e, t, r, n, s, o) { const a = aI(t, n, s, o); let l; try { l = await e(r, Object.assign({}, a)) } catch (c) { throw console.error(c), new qc(Os(c), 0) } if (l.ok || await uy(l), n != null && n.noResolveJson) return l; try { return await l.json() } catch (c) { await uy(c) } } function ur(e) { var t; let r = null; dI(e) && (r = Object.assign({}, e), e.expires_at || (r.expires_at = HO(e.expires_in))); const n = (t = e.user) !== null && t !== void 0 ? t : e; return { data: { session: r, user: n }, error: null } } function dy(e) { const t = ur(e); return !t.error && e.weak_password && typeof e.weak_password == "object" && Array.isArray(e.weak_password.reasons) && e.weak_password.reasons.length && e.weak_password.message && typeof e.weak_password.message == "string" && e.weak_password.reasons.reduce((r, n) => r && typeof n == "string", !0) && (t.data.weak_password = e.weak_password), t } function Fn(e) { var t; return { data: { user: (t = e.user) !== null && t !== void 0 ? t : e }, error: null } } function cI(e) { return { data: e, error: null } } function uI(e) { const { action_link: t, email_otp: r, hashed_token: n, redirect_to: s, verification_type: o } = e, a = ws(e, ["action_link", "email_otp", "hashed_token", "redirect_to", "verification_type"]), l = { action_link: t, email_otp: r, hashed_token: n, redirect_to: s, verification_type: o }, c = Object.assign({}, a); return { data: { properties: l, user: c }, error: null } } function hy(e) { return e } function dI(e) { return e.access_token && e.refresh_token && e.expires_in } const ac = ["global", "local", "others"]; let dm = class { constructor({ url: t = "", headers: r = {}, fetch: n }) { this.url = t, this.headers = r, this.fetch = p1(n), this.mfa = { listFactors: this._listFactors.bind(this), deleteFactor: this._deleteFactor.bind(this) }, this.oauth = { listClients: this._listOAuthClients.bind(this), createClient: this._createOAuthClient.bind(this), getClient: this._getOAuthClient.bind(this), updateClient: this._updateOAuthClient.bind(this), deleteClient: this._deleteOAuthClient.bind(this), regenerateClientSecret: this._regenerateOAuthClientSecret.bind(this) } } async signOut(t, r = ac[0]) { if (ac.indexOf(r) < 0) throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ac.join(", ")}`); try { return await oe(this.fetch, "POST", `${this.url}/logout?scope=${r}`, { headers: this.headers, jwt: t, noResolveJson: !0 }), { data: null, error: null } } catch (n) { if (te(n)) return { data: null, error: n }; throw n } } async inviteUserByEmail(t, r = {}) { try { return await oe(this.fetch, "POST", `${this.url}/invite`, { body: { email: t, data: r.data }, headers: this.headers, redirectTo: r.redirectTo, xform: Fn }) } catch (n) { if (te(n)) return { data: { user: null }, error: n }; throw n } } async generateLink(t) { try { const { options: r } = t, n = ws(t, ["options"]), s = Object.assign(Object.assign({}, n), r); return "newEmail" in n && (s.new_email = n == null ? void 0 : n.newEmail, delete s.newEmail), await oe(this.fetch, "POST", `${this.url}/admin/generate_link`, { body: s, headers: this.headers, xform: uI, redirectTo: r == null ? void 0 : r.redirectTo }) } catch (r) { if (te(r)) return { data: { properties: null, user: null }, error: r }; throw r } } async createUser(t) { try { return await oe(this.fetch, "POST", `${this.url}/admin/users`, { body: t, headers: this.headers, xform: Fn }) } catch (r) { if (te(r)) return { data: { user: null }, error: r }; throw r } } async listUsers(t) { var r, n, s, o, a, l, c; try { const u = { nextPage: null, lastPage: 0, total: 0 }, d = await oe(this.fetch, "GET", `${this.url}/admin/users`, { headers: this.headers, noResolveJson: !0, query: { page: (n = (r = t == null ? void 0 : t.page) === null || r === void 0 ? void 0 : r.toString()) !== null && n !== void 0 ? n : "", per_page: (o = (s = t == null ? void 0 : t.perPage) === null || s === void 0 ? void 0 : s.toString()) !== null && o !== void 0 ? o : "" }, xform: hy }); if (d.error) throw d.error; const p = await d.json(), m = (a = d.headers.get("x-total-count")) !== null && a !== void 0 ? a : 0, h = (c = (l = d.headers.get("link")) === null || l === void 0 ? void 0 : l.split(",")) !== null && c !== void 0 ? c : []; return h.length > 0 && (h.forEach(x => { const g = parseInt(x.split(";")[0].split("=")[1].substring(0, 1)), b = JSON.parse(x.split(";")[1].split("=")[1]); u[`${b}Page`] = g }), u.total = parseInt(m)), { data: Object.assign(Object.assign({}, p), u), error: null } } catch (u) { if (te(u)) return { data: { users: [] }, error: u }; throw u } } async getUserById(t) { wo(t); try { return await oe(this.fetch, "GET", `${this.url}/admin/users/${t}`, { headers: this.headers, xform: Fn }) } catch (r) { if (te(r)) return { data: { user: null }, error: r }; throw r } } async updateUserById(t, r) { wo(t); try { return await oe(this.fetch, "PUT", `${this.url}/admin/users/${t}`, { body: r, headers: this.headers, xform: Fn }) } catch (n) { if (te(n)) return { data: { user: null }, error: n }; throw n } } async deleteUser(t, r = !1) { wo(t); try { return await oe(this.fetch, "DELETE", `${this.url}/admin/users/${t}`, { headers: this.headers, body: { should_soft_delete: r }, xform: Fn }) } catch (n) { if (te(n)) return { data: { user: null }, error: n }; throw n } } async _listFactors(t) { wo(t.userId); try { const { data: r, error: n } = await oe(this.fetch, "GET", `${this.url}/admin/users/${t.userId}/factors`, { headers: this.headers, xform: s => ({ data: { factors: s }, error: null }) }); return { data: r, error: n } } catch (r) { if (te(r)) return { data: null, error: r }; throw r } } async _deleteFactor(t) { wo(t.userId), wo(t.id); try { return { data: await oe(this.fetch, "DELETE", `${this.url}/admin/users/${t.userId}/factors/${t.id}`, { headers: this.headers }), error: null } } catch (r) { if (te(r)) return { data: null, error: r }; throw r } } async _listOAuthClients(t) { var r, n, s, o, a, l, c; try { const u = { nextPage: null, lastPage: 0, total: 0 }, d = await oe(this.fetch, "GET", `${this.url}/admin/oauth/clients`, { headers: this.headers, noResolveJson: !0, query: { page: (n = (r = t == null ? void 0 : t.page) === null || r === void 0 ? void 0 : r.toString()) !== null && n !== void 0 ? n : "", per_page: (o = (s = t == null ? void 0 : t.perPage) === null || s === void 0 ? void 0 : s.toString()) !== null && o !== void 0 ? o : "" }, xform: hy }); if (d.error) throw d.error; const p = await d.json(), m = (a = d.headers.get("x-total-count")) !== null && a !== void 0 ? a : 0, h = (c = (l = d.headers.get("link")) === null || l === void 0 ? void 0 : l.split(",")) !== null && c !== void 0 ? c : []; return h.length > 0 && (h.forEach(x => { const g = parseInt(x.split(";")[0].split("=")[1].substring(0, 1)), b = JSON.parse(x.split(";")[1].split("=")[1]); u[`${b}Page`] = g }), u.total = parseInt(m)), { data: Object.assign(Object.assign({}, p), u), error: null } } catch (u) { if (te(u)) return { data: { clients: [] }, error: u }; throw u } } async _createOAuthClient(t) { try { return await oe(this.fetch, "POST", `${this.url}/admin/oauth/clients`, { body: t, headers: this.headers, xform: r => ({ data: r, error: null }) }) } catch (r) { if (te(r)) return { data: null, error: r }; throw r } } async _getOAuthClient(t) { try { return await oe(this.fetch, "GET", `${this.url}/admin/oauth/clients/${t}`, { headers: this.headers, xform: r => ({ data: r, error: null }) }) } catch (r) { if (te(r)) return { data: null, error: r }; throw r } } async _updateOAuthClient(t, r) { try { return await oe(this.fetch, "PUT", `${this.url}/admin/oauth/clients/${t}`, { body: r, headers: this.headers, xform: n => ({ data: n, error: null }) }) } catch (n) { if (te(n)) return { data: null, error: n }; throw n } } async _deleteOAuthClient(t) { try { return await oe(this.fetch, "DELETE", `${this.url}/admin/oauth/clients/${t}`, { headers: this.headers, noResolveJson: !0 }), { data: null, error: null } } catch (r) { if (te(r)) return { data: null, error: r }; throw r } } async _regenerateOAuthClientSecret(t) { try { return await oe(this.fetch, "POST", `${this.url}/admin/oauth/clients/${t}/regenerate_secret`, { headers: this.headers, xform: r => ({ data: r, error: null }) }) } catch (r) { if (te(r)) return { data: null, error: r }; throw r } } }; function fy(e = {}) { return { getItem: t => e[t] || null, setItem: (t, r) => { e[t] = r }, removeItem: t => { delete e[t] } } } const Is = { debug: !!(globalThis && f1() && globalThis.localStorage && globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug") === "true") }; class hm extends Error { constructor(t) { super(t), this.isAcquireTimeout = !0 } } let m1 = class extends hm { }; class hI extends hm { } async function g1(e, t, r) { Is.debug && console.log("@supabase/gotrue-js: navigatorLock: acquire lock", e, t); const n = new globalThis.AbortController; return t > 0 && setTimeout(() => { n.abort(), Is.debug && console.log("@supabase/gotrue-js: navigatorLock acquire timed out", e) }, t), await Promise.resolve().then(() => globalThis.navigator.locks.request(e, t === 0 ? { mode: "exclusive", ifAvailable: !0 } : { mode: "exclusive", signal: n.signal }, async s => { if (s) { Is.debug && console.log("@supabase/gotrue-js: navigatorLock: acquired", e, s.name); try { return await r() } finally { Is.debug && console.log("@supabase/gotrue-js: navigatorLock: released", e, s.name) } } else { if (t === 0) throw Is.debug && console.log("@supabase/gotrue-js: navigatorLock: not immediately available", e), new m1(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`); if (Is.debug) try { const o = await globalThis.navigator.locks.query(); console.log("@supabase/gotrue-js: Navigator LockManager state", JSON.stringify(o, null, "  ")) } catch (o) { console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state", o) } return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"), await r() } })) } const py = {}; async function fI(e, t, r) { var n; const s = (n = py[e]) !== null && n !== void 0 ? n : Promise.resolve(), o = Promise.race([s.catch(() => null), t >= 0 ? new Promise((a, l) => { setTimeout(() => { l(new hI(`Acquring process lock with name "${e}" timed out`)) }, t) }) : null].filter(a => a)).catch(a => { if (a && a.isAcquireTimeout) throw a; return null }).then(async () => await r()); return py[e] = o.catch(async a => { if (a && a.isAcquireTimeout) return await s, null; throw a }), await o } function pI() { if (typeof globalThis != "object") try { Object.defineProperty(Object.prototype, "__magic__", { get: function () { return this }, configurable: !0 }), __magic__.globalThis = __magic__, delete Object.prototype.__magic__ } catch { typeof self < "u" && (self.globalThis = self) } } function v1(e) { if (!/^0x[a-fA-F0-9]{40}$/.test(e)) throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`); return e.toLowerCase() } function mI(e) { return parseInt(e, 16) } function gI(e) { const t = new TextEncoder().encode(e); return "0x" + Array.from(t, n => n.toString(16).padStart(2, "0")).join("") } function vI(e) {
  var t; const { chainId: r, domain: n, expirationTime: s, issuedAt: o = new Date, nonce: a, notBefore: l, requestId: c, resources: u, scheme: d, uri: p, version: m } = e; {
    if (!Number.isInteger(r)) throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`); if (!n) throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.'); if (a && a.length < 8) throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`); if (!p) throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.'); if (m !== "1") throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`); if (!((t = e.statement) === null || t === void 0) && t.includes(`
`)) throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)
  } const h = v1(e.address), x = d ? `${d}://${n}` : n, g = e.statement ? `${e.statement}
`: "", b = `${x} wants you to sign in with your Ethereum account:
${h}

${g}`; let v = `URI: ${p}
Version: ${m}
Chain ID: ${r}${a ? `
Nonce: ${a}` : ""}
Issued At: ${o.toISOString()}`; if (s && (v += `
Expiration Time: ${s.toISOString()}`), l && (v += `
Not Before: ${l.toISOString()}`), c && (v += `
Request ID: ${c}`), u) {
    let y = `
Resources:`; for (const w of u) {
      if (!w || typeof w != "string") throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`); y += `
- ${w}`
    } v += y
  } return `${b}
${v}`
} class Ge extends Error { constructor({ message: t, code: r, cause: n, name: s }) { var o; super(t, { cause: n }), this.__isWebAuthnError = !0, this.name = (o = s ?? (n instanceof Error ? n.name : void 0)) !== null && o !== void 0 ? o : "Unknown Error", this.code = r } } class Yc extends Ge { constructor(t, r) { super({ code: "ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY", cause: r, message: t }), this.name = "WebAuthnUnknownError", this.originalError = r } } function yI({ error: e, options: t }) { var r, n, s; const { publicKey: o } = t; if (!o) throw Error("options was missing required publicKey property"); if (e.name === "AbortError") { if (t.signal instanceof AbortSignal) return new Ge({ message: "Registration ceremony was sent an abort signal", code: "ERROR_CEREMONY_ABORTED", cause: e }) } else if (e.name === "ConstraintError") { if (((r = o.authenticatorSelection) === null || r === void 0 ? void 0 : r.requireResidentKey) === !0) return new Ge({ message: "Discoverable credentials were required but no available authenticator supported it", code: "ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT", cause: e }); if (t.mediation === "conditional" && ((n = o.authenticatorSelection) === null || n === void 0 ? void 0 : n.userVerification) === "required") return new Ge({ message: "User verification was required during automatic registration but it could not be performed", code: "ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE", cause: e }); if (((s = o.authenticatorSelection) === null || s === void 0 ? void 0 : s.userVerification) === "required") return new Ge({ message: "User verification was required but no available authenticator supported it", code: "ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT", cause: e }) } else { if (e.name === "InvalidStateError") return new Ge({ message: "The authenticator was previously registered", code: "ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED", cause: e }); if (e.name === "NotAllowedError") return new Ge({ message: e.message, code: "ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY", cause: e }); if (e.name === "NotSupportedError") return o.pubKeyCredParams.filter(l => l.type === "public-key").length === 0 ? new Ge({ message: 'No entry in pubKeyCredParams was of type "public-key"', code: "ERROR_MALFORMED_PUBKEYCREDPARAMS", cause: e }) : new Ge({ message: "No available authenticator supported any of the specified pubKeyCredParams algorithms", code: "ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG", cause: e }); if (e.name === "SecurityError") { const a = window.location.hostname; if (y1(a)) { if (o.rp.id !== a) return new Ge({ message: `The RP ID "${o.rp.id}" is invalid for this domain`, code: "ERROR_INVALID_RP_ID", cause: e }) } else return new Ge({ message: `${window.location.hostname} is an invalid domain`, code: "ERROR_INVALID_DOMAIN", cause: e }) } else if (e.name === "TypeError") { if (o.user.id.byteLength < 1 || o.user.id.byteLength > 64) return new Ge({ message: "User ID was not between 1 and 64 characters", code: "ERROR_INVALID_USER_ID_LENGTH", cause: e }) } else if (e.name === "UnknownError") return new Ge({ message: "The authenticator was unable to process the specified options, or could not create a new credential", code: "ERROR_AUTHENTICATOR_GENERAL_ERROR", cause: e }) } return new Ge({ message: "a Non-Webauthn related error has occurred", code: "ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY", cause: e }) } function xI({ error: e, options: t }) { const { publicKey: r } = t; if (!r) throw Error("options was missing required publicKey property"); if (e.name === "AbortError") { if (t.signal instanceof AbortSignal) return new Ge({ message: "Authentication ceremony was sent an abort signal", code: "ERROR_CEREMONY_ABORTED", cause: e }) } else { if (e.name === "NotAllowedError") return new Ge({ message: e.message, code: "ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY", cause: e }); if (e.name === "SecurityError") { const n = window.location.hostname; if (y1(n)) { if (r.rpId !== n) return new Ge({ message: `The RP ID "${r.rpId}" is invalid for this domain`, code: "ERROR_INVALID_RP_ID", cause: e }) } else return new Ge({ message: `${window.location.hostname} is an invalid domain`, code: "ERROR_INVALID_DOMAIN", cause: e }) } else if (e.name === "UnknownError") return new Ge({ message: "The authenticator was unable to process the specified options, or could not create a new assertion signature", code: "ERROR_AUTHENTICATOR_GENERAL_ERROR", cause: e }) } return new Ge({ message: "a Non-Webauthn related error has occurred", code: "ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY", cause: e }) } class wI { createNewAbortSignal() { if (this.controller) { const r = new Error("Cancelling existing WebAuthn API call for new one"); r.name = "AbortError", this.controller.abort(r) } const t = new AbortController; return this.controller = t, t.signal } cancelCeremony() { if (this.controller) { const t = new Error("Manually cancelling existing WebAuthn API call"); t.name = "AbortError", this.controller.abort(t), this.controller = void 0 } } } const bI = new wI; function jI(e) { if (!e) throw new Error("Credential creation options are required"); if (typeof PublicKeyCredential < "u" && "parseCreationOptionsFromJSON" in PublicKeyCredential && typeof PublicKeyCredential.parseCreationOptionsFromJSON == "function") return PublicKeyCredential.parseCreationOptionsFromJSON(e); const { challenge: t, user: r, excludeCredentials: n } = e, s = ws(e, ["challenge", "user", "excludeCredentials"]), o = Yo(t).buffer, a = Object.assign(Object.assign({}, r), { id: Yo(r.id).buffer }), l = Object.assign(Object.assign({}, s), { challenge: o, user: a }); if (n && n.length > 0) { l.excludeCredentials = new Array(n.length); for (let c = 0; c < n.length; c++) { const u = n[c]; l.excludeCredentials[c] = Object.assign(Object.assign({}, u), { id: Yo(u.id).buffer, type: u.type || "public-key", transports: u.transports }) } } return l } function SI(e) { if (!e) throw new Error("Credential request options are required"); if (typeof PublicKeyCredential < "u" && "parseRequestOptionsFromJSON" in PublicKeyCredential && typeof PublicKeyCredential.parseRequestOptionsFromJSON == "function") return PublicKeyCredential.parseRequestOptionsFromJSON(e); const { challenge: t, allowCredentials: r } = e, n = ws(e, ["challenge", "allowCredentials"]), s = Yo(t).buffer, o = Object.assign(Object.assign({}, n), { challenge: s }); if (r && r.length > 0) { o.allowCredentials = new Array(r.length); for (let a = 0; a < r.length; a++) { const l = r[a]; o.allowCredentials[a] = Object.assign(Object.assign({}, l), { id: Yo(l.id).buffer, type: l.type || "public-key", transports: l.transports }) } } return o } function _I(e) { var t; if ("toJSON" in e && typeof e.toJSON == "function") return e.toJSON(); const r = e; return { id: e.id, rawId: e.id, response: { attestationObject: Vs(new Uint8Array(e.response.attestationObject)), clientDataJSON: Vs(new Uint8Array(e.response.clientDataJSON)) }, type: "public-key", clientExtensionResults: e.getClientExtensionResults(), authenticatorAttachment: (t = r.authenticatorAttachment) !== null && t !== void 0 ? t : void 0 } } function NI(e) { var t; if ("toJSON" in e && typeof e.toJSON == "function") return e.toJSON(); const r = e, n = e.getClientExtensionResults(), s = e.response; return { id: e.id, rawId: e.id, response: { authenticatorData: Vs(new Uint8Array(s.authenticatorData)), clientDataJSON: Vs(new Uint8Array(s.clientDataJSON)), signature: Vs(new Uint8Array(s.signature)), userHandle: s.userHandle ? Vs(new Uint8Array(s.userHandle)) : void 0 }, type: "public-key", clientExtensionResults: n, authenticatorAttachment: (t = r.authenticatorAttachment) !== null && t !== void 0 ? t : void 0 } } function y1(e) { return e === "localhost" || /^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e) } function my() { var e, t; return !!(it() && "PublicKeyCredential" in window && window.PublicKeyCredential && "credentials" in navigator && typeof ((e = navigator == null ? void 0 : navigator.credentials) === null || e === void 0 ? void 0 : e.create) == "function" && typeof ((t = navigator == null ? void 0 : navigator.credentials) === null || t === void 0 ? void 0 : t.get) == "function") } async function EI(e) { try { const t = await navigator.credentials.create(e); return t ? t instanceof PublicKeyCredential ? { data: t, error: null } : { data: null, error: new Yc("Browser returned unexpected credential type", t) } : { data: null, error: new Yc("Empty credential response", t) } } catch (t) { return { data: null, error: yI({ error: t, options: e }) } } } async function CI(e) { try { const t = await navigator.credentials.get(e); return t ? t instanceof PublicKeyCredential ? { data: t, error: null } : { data: null, error: new Yc("Browser returned unexpected credential type", t) } : { data: null, error: new Yc("Empty credential response", t) } } catch (t) { return { data: null, error: xI({ error: t, options: e }) } } } const kI = { hints: ["security-key"], authenticatorSelection: { authenticatorAttachment: "cross-platform", requireResidentKey: !1, userVerification: "preferred", residentKey: "discouraged" }, attestation: "direct" }, PI = { userVerification: "preferred", hints: ["security-key"], attestation: "direct" }; function Qc(...e) { const t = s => s !== null && typeof s == "object" && !Array.isArray(s), r = s => s instanceof ArrayBuffer || ArrayBuffer.isView(s), n = {}; for (const s of e) if (s) for (const o in s) { const a = s[o]; if (a !== void 0) if (Array.isArray(a)) n[o] = a; else if (r(a)) n[o] = a; else if (t(a)) { const l = n[o]; t(l) ? n[o] = Qc(l, a) : n[o] = Qc(a) } else n[o] = a } return n } function TI(e, t) { return Qc(kI, e, t || {}) } function RI(e, t) { return Qc(PI, e, t || {}) } class AI { constructor(t) { this.client = t, this.enroll = this._enroll.bind(this), this.challenge = this._challenge.bind(this), this.verify = this._verify.bind(this), this.authenticate = this._authenticate.bind(this), this.register = this._register.bind(this) } async _enroll(t) { return this.client.mfa.enroll(Object.assign(Object.assign({}, t), { factorType: "webauthn" })) } async _challenge({ factorId: t, webauthn: r, friendlyName: n, signal: s }, o) { try { const { data: a, error: l } = await this.client.mfa.challenge({ factorId: t, webauthn: r }); if (!a) return { data: null, error: l }; const c = s ?? bI.createNewAbortSignal(); if (a.webauthn.type === "create") { const { user: u } = a.webauthn.credential_options.publicKey; u.name || (u.name = `${u.id}:${n}`), u.displayName || (u.displayName = u.name) } switch (a.webauthn.type) { case "create": { const u = TI(a.webauthn.credential_options.publicKey, o == null ? void 0 : o.create), { data: d, error: p } = await EI({ publicKey: u, signal: c }); return d ? { data: { factorId: t, challengeId: a.id, webauthn: { type: a.webauthn.type, credential_response: d } }, error: null } : { data: null, error: p } } case "request": { const u = RI(a.webauthn.credential_options.publicKey, o == null ? void 0 : o.request), { data: d, error: p } = await CI(Object.assign(Object.assign({}, a.webauthn.credential_options), { publicKey: u, signal: c })); return d ? { data: { factorId: t, challengeId: a.id, webauthn: { type: a.webauthn.type, credential_response: d } }, error: null } : { data: null, error: p } } } } catch (a) { return te(a) ? { data: null, error: a } : { data: null, error: new Mn("Unexpected error in challenge", a) } } } async _verify({ challengeId: t, factorId: r, webauthn: n }) { return this.client.mfa.verify({ factorId: r, challengeId: t, webauthn: n }) } async _authenticate({ factorId: t, webauthn: { rpId: r = typeof window < "u" ? window.location.hostname : void 0, rpOrigins: n = typeof window < "u" ? [window.location.origin] : void 0, signal: s } = {} }, o) { if (!r) return { data: null, error: new vi("rpId is required for WebAuthn authentication") }; try { if (!my()) return { data: null, error: new Mn("Browser does not support WebAuthn", null) }; const { data: a, error: l } = await this.challenge({ factorId: t, webauthn: { rpId: r, rpOrigins: n }, signal: s }, { request: o }); if (!a) return { data: null, error: l }; const { webauthn: c } = a; return this._verify({ factorId: t, challengeId: a.challengeId, webauthn: { type: c.type, rpId: r, rpOrigins: n, credential_response: c.credential_response } }) } catch (a) { return te(a) ? { data: null, error: a } : { data: null, error: new Mn("Unexpected error in authenticate", a) } } } async _register({ friendlyName: t, webauthn: { rpId: r = typeof window < "u" ? window.location.hostname : void 0, rpOrigins: n = typeof window < "u" ? [window.location.origin] : void 0, signal: s } = {} }, o) { if (!r) return { data: null, error: new vi("rpId is required for WebAuthn registration") }; try { if (!my()) return { data: null, error: new Mn("Browser does not support WebAuthn", null) }; const { data: a, error: l } = await this._enroll({ friendlyName: t }); if (!a) return await this.client.mfa.listFactors().then(d => { var p; return (p = d.data) === null || p === void 0 ? void 0 : p.all.find(m => m.factor_type === "webauthn" && m.friendly_name === t && m.status !== "unverified") }).then(d => d ? this.client.mfa.unenroll({ factorId: d == null ? void 0 : d.id }) : void 0), { data: null, error: l }; const { data: c, error: u } = await this._challenge({ factorId: a.id, friendlyName: a.friendly_name, webauthn: { rpId: r, rpOrigins: n }, signal: s }, { create: o }); return c ? this._verify({ factorId: a.id, challengeId: c.challengeId, webauthn: { rpId: r, rpOrigins: n, type: c.webauthn.type, credential_response: c.webauthn.credential_response } }) : { data: null, error: u } } catch (a) { return te(a) ? { data: null, error: a } : { data: null, error: new Mn("Unexpected error in register", a) } } } } pI(); const OI = { url: OO, storageKey: IO, autoRefreshToken: !0, persistSession: !0, detectSessionInUrl: !0, headers: DO, flowType: "implicit", debug: !1, hasCustomAuthorizationHeader: !1, throwOnError: !1 }; async function gy(e, t, r) { return await r() } const bo = {}; let fm = class Tf {
  get jwks() { var t, r; return (r = (t = bo[this.storageKey]) === null || t === void 0 ? void 0 : t.jwks) !== null && r !== void 0 ? r : { keys: [] } } set jwks(t) { bo[this.storageKey] = Object.assign(Object.assign({}, bo[this.storageKey]), { jwks: t }) } get jwks_cached_at() { var t, r; return (r = (t = bo[this.storageKey]) === null || t === void 0 ? void 0 : t.cachedAt) !== null && r !== void 0 ? r : Number.MIN_SAFE_INTEGER } set jwks_cached_at(t) { bo[this.storageKey] = Object.assign(Object.assign({}, bo[this.storageKey]), { cachedAt: t }) } constructor(t) { var r, n, s; this.userStorage = null, this.memoryStorage = null, this.stateChangeEmitters = new Map, this.autoRefreshTicker = null, this.visibilityChangedCallback = null, this.refreshingDeferred = null, this.initializePromise = null, this.detectSessionInUrl = !0, this.hasCustomAuthorizationHeader = !1, this.suppressGetSessionWarning = !1, this.lockAcquired = !1, this.pendingInLock = [], this.broadcastChannel = null, this.logger = console.log; const o = Object.assign(Object.assign({}, OI), t); if (this.storageKey = o.storageKey, this.instanceID = (r = Tf.nextInstanceID[this.storageKey]) !== null && r !== void 0 ? r : 0, Tf.nextInstanceID[this.storageKey] = this.instanceID + 1, this.logDebugMessages = !!o.debug, typeof o.debug == "function" && (this.logger = o.debug), this.instanceID > 0 && it()) { const a = `${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`; console.warn(a), this.logDebugMessages && console.trace(a) } if (this.persistSession = o.persistSession, this.autoRefreshToken = o.autoRefreshToken, this.admin = new dm({ url: o.url, headers: o.headers, fetch: o.fetch }), this.url = o.url, this.headers = o.headers, this.fetch = p1(o.fetch), this.lock = o.lock || gy, this.detectSessionInUrl = o.detectSessionInUrl, this.flowType = o.flowType, this.hasCustomAuthorizationHeader = o.hasCustomAuthorizationHeader, this.throwOnError = o.throwOnError, o.lock ? this.lock = o.lock : this.persistSession && it() && (!((n = globalThis == null ? void 0 : globalThis.navigator) === null || n === void 0) && n.locks) ? this.lock = g1 : this.lock = gy, this.jwks || (this.jwks = { keys: [] }, this.jwks_cached_at = Number.MIN_SAFE_INTEGER), this.mfa = { verify: this._verify.bind(this), enroll: this._enroll.bind(this), unenroll: this._unenroll.bind(this), challenge: this._challenge.bind(this), listFactors: this._listFactors.bind(this), challengeAndVerify: this._challengeAndVerify.bind(this), getAuthenticatorAssuranceLevel: this._getAuthenticatorAssuranceLevel.bind(this), webauthn: new AI(this) }, this.oauth = { getAuthorizationDetails: this._getAuthorizationDetails.bind(this), approveAuthorization: this._approveAuthorization.bind(this), denyAuthorization: this._denyAuthorization.bind(this), listGrants: this._listOAuthGrants.bind(this), revokeGrant: this._revokeOAuthGrant.bind(this) }, this.persistSession ? (o.storage ? this.storage = o.storage : f1() ? this.storage = globalThis.localStorage : (this.memoryStorage = {}, this.storage = fy(this.memoryStorage)), o.userStorage && (this.userStorage = o.userStorage)) : (this.memoryStorage = {}, this.storage = fy(this.memoryStorage)), it() && globalThis.BroadcastChannel && this.persistSession && this.storageKey) { try { this.broadcastChannel = new globalThis.BroadcastChannel(this.storageKey) } catch (a) { console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available", a) } (s = this.broadcastChannel) === null || s === void 0 || s.addEventListener("message", async a => { this._debug("received broadcast notification from other tab or client", a), await this._notifyAllSubscribers(a.data.event, a.data.session, !1) }) } this.initialize() } isThrowOnErrorEnabled() { return this.throwOnError } _returnResult(t) { if (this.throwOnError && t && t.error) throw t.error; return t } _logPrefix() { return `GoTrueClient@${this.storageKey}:${this.instanceID} (${i1}) ${new Date().toISOString()}` } _debug(...t) { return this.logDebugMessages && this.logger(this._logPrefix(), ...t), this } async initialize() { return this.initializePromise ? await this.initializePromise : (this.initializePromise = (async () => await this._acquireLock(-1, async () => await this._initialize()))(), await this.initializePromise) } async _initialize() { var t; try { let r = {}, n = "none"; if (it() && (r = qO(window.location.href), this._isImplicitGrantCallback(r) ? n = "implicit" : await this._isPKCECallback(r) && (n = "pkce")), it() && this.detectSessionInUrl && n !== "none") { const { data: s, error: o } = await this._getSessionFromURL(r, n); if (o) { if (this._debug("#_initialize()", "error detecting session from URL", o), d1(o)) { const c = (t = o.details) === null || t === void 0 ? void 0 : t.code; if (c === "identity_already_exists" || c === "identity_not_found" || c === "single_identity_not_deletable") return { error: o } } return await this._removeSession(), { error: o } } const { session: a, redirectType: l } = s; return this._debug("#_initialize()", "detected session in URL", a, "redirect type", l), await this._saveSession(a), setTimeout(async () => { l === "recovery" ? await this._notifyAllSubscribers("PASSWORD_RECOVERY", a) : await this._notifyAllSubscribers("SIGNED_IN", a) }, 0), { error: null } } return await this._recoverAndRefresh(), { error: null } } catch (r) { return te(r) ? this._returnResult({ error: r }) : this._returnResult({ error: new Mn("Unexpected error during initialization", r) }) } finally { await this._handleVisibilityChange(), this._debug("#_initialize()", "end") } } async signInAnonymously(t) { var r, n, s; try { const o = await oe(this.fetch, "POST", `${this.url}/signup`, { headers: this.headers, body: { data: (n = (r = t == null ? void 0 : t.options) === null || r === void 0 ? void 0 : r.data) !== null && n !== void 0 ? n : {}, gotrue_meta_security: { captcha_token: (s = t == null ? void 0 : t.options) === null || s === void 0 ? void 0 : s.captchaToken } }, xform: ur }), { data: a, error: l } = o; if (l || !a) return this._returnResult({ data: { user: null, session: null }, error: l }); const c = a.session, u = a.user; return a.session && (await this._saveSession(a.session), await this._notifyAllSubscribers("SIGNED_IN", c)), this._returnResult({ data: { user: u, session: c }, error: null }) } catch (o) { if (te(o)) return this._returnResult({ data: { user: null, session: null }, error: o }); throw o } } async signUp(t) { var r, n, s; try { let o; if ("email" in t) { const { email: d, password: p, options: m } = t; let h = null, x = null; this.flowType === "pkce" && ([h, x] = await xo(this.storage, this.storageKey)), o = await oe(this.fetch, "POST", `${this.url}/signup`, { headers: this.headers, redirectTo: m == null ? void 0 : m.emailRedirectTo, body: { email: d, password: p, data: (r = m == null ? void 0 : m.data) !== null && r !== void 0 ? r : {}, gotrue_meta_security: { captcha_token: m == null ? void 0 : m.captchaToken }, code_challenge: h, code_challenge_method: x }, xform: ur }) } else if ("phone" in t) { const { phone: d, password: p, options: m } = t; o = await oe(this.fetch, "POST", `${this.url}/signup`, { headers: this.headers, body: { phone: d, password: p, data: (n = m == null ? void 0 : m.data) !== null && n !== void 0 ? n : {}, channel: (s = m == null ? void 0 : m.channel) !== null && s !== void 0 ? s : "sms", gotrue_meta_security: { captcha_token: m == null ? void 0 : m.captchaToken } }, xform: ur }) } else throw new Ji("You must provide either an email or phone number and a password"); const { data: a, error: l } = o; if (l || !a) return await ot(this.storage, `${this.storageKey}-code-verifier`), this._returnResult({ data: { user: null, session: null }, error: l }); const c = a.session, u = a.user; return a.session && (await this._saveSession(a.session), await this._notifyAllSubscribers("SIGNED_IN", c)), this._returnResult({ data: { user: u, session: c }, error: null }) } catch (o) { if (await ot(this.storage, `${this.storageKey}-code-verifier`), te(o)) return this._returnResult({ data: { user: null, session: null }, error: o }); throw o } } async signInWithPassword(t) { try { let r; if ("email" in t) { const { email: o, password: a, options: l } = t; r = await oe(this.fetch, "POST", `${this.url}/token?grant_type=password`, { headers: this.headers, body: { email: o, password: a, gotrue_meta_security: { captcha_token: l == null ? void 0 : l.captchaToken } }, xform: dy }) } else if ("phone" in t) { const { phone: o, password: a, options: l } = t; r = await oe(this.fetch, "POST", `${this.url}/token?grant_type=password`, { headers: this.headers, body: { phone: o, password: a, gotrue_meta_security: { captcha_token: l == null ? void 0 : l.captchaToken } }, xform: dy }) } else throw new Ji("You must provide either an email or phone number and a password"); const { data: n, error: s } = r; if (s) return this._returnResult({ data: { user: null, session: null }, error: s }); if (!n || !n.session || !n.user) { const o = new As; return this._returnResult({ data: { user: null, session: null }, error: o }) } return n.session && (await this._saveSession(n.session), await this._notifyAllSubscribers("SIGNED_IN", n.session)), this._returnResult({ data: Object.assign({ user: n.user, session: n.session }, n.weak_password ? { weakPassword: n.weak_password } : null), error: s }) } catch (r) { if (te(r)) return this._returnResult({ data: { user: null, session: null }, error: r }); throw r } } async signInWithOAuth(t) { var r, n, s, o; return await this._handleProviderSignIn(t.provider, { redirectTo: (r = t.options) === null || r === void 0 ? void 0 : r.redirectTo, scopes: (n = t.options) === null || n === void 0 ? void 0 : n.scopes, queryParams: (s = t.options) === null || s === void 0 ? void 0 : s.queryParams, skipBrowserRedirect: (o = t.options) === null || o === void 0 ? void 0 : o.skipBrowserRedirect }) } async exchangeCodeForSession(t) { return await this.initializePromise, this._acquireLock(-1, async () => this._exchangeCodeForSession(t)) } async signInWithWeb3(t) { const { chain: r } = t; switch (r) { case "ethereum": return await this.signInWithEthereum(t); case "solana": return await this.signInWithSolana(t); default: throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`) } } async signInWithEthereum(t) { var r, n, s, o, a, l, c, u, d, p, m; let h, x; if ("message" in t) h = t.message, x = t.signature; else { const { chain: g, wallet: b, statement: v, options: y } = t; let w; if (it()) if (typeof b == "object") w = b; else { const E = window; if ("ethereum" in E && typeof E.ethereum == "object" && "request" in E.ethereum && typeof E.ethereum.request == "function") w = E.ethereum; else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.") } else { if (typeof b != "object" || !(y != null && y.url)) throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments."); w = b } const j = new URL((r = y == null ? void 0 : y.url) !== null && r !== void 0 ? r : window.location.href), S = await w.request({ method: "eth_requestAccounts" }).then(E => E).catch(() => { throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid") }); if (!S || S.length === 0) throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected."); const _ = v1(S[0]); let C = (n = y == null ? void 0 : y.signInWithEthereum) === null || n === void 0 ? void 0 : n.chainId; if (!C) { const E = await w.request({ method: "eth_chainId" }); C = mI(E) } const k = { domain: j.host, address: _, statement: v, uri: j.href, version: "1", chainId: C, nonce: (s = y == null ? void 0 : y.signInWithEthereum) === null || s === void 0 ? void 0 : s.nonce, issuedAt: (a = (o = y == null ? void 0 : y.signInWithEthereum) === null || o === void 0 ? void 0 : o.issuedAt) !== null && a !== void 0 ? a : new Date, expirationTime: (l = y == null ? void 0 : y.signInWithEthereum) === null || l === void 0 ? void 0 : l.expirationTime, notBefore: (c = y == null ? void 0 : y.signInWithEthereum) === null || c === void 0 ? void 0 : c.notBefore, requestId: (u = y == null ? void 0 : y.signInWithEthereum) === null || u === void 0 ? void 0 : u.requestId, resources: (d = y == null ? void 0 : y.signInWithEthereum) === null || d === void 0 ? void 0 : d.resources }; h = vI(k), x = await w.request({ method: "personal_sign", params: [gI(h), _] }) } try { const { data: g, error: b } = await oe(this.fetch, "POST", `${this.url}/token?grant_type=web3`, { headers: this.headers, body: Object.assign({ chain: "ethereum", message: h, signature: x }, !((p = t.options) === null || p === void 0) && p.captchaToken ? { gotrue_meta_security: { captcha_token: (m = t.options) === null || m === void 0 ? void 0 : m.captchaToken } } : null), xform: ur }); if (b) throw b; if (!g || !g.session || !g.user) { const v = new As; return this._returnResult({ data: { user: null, session: null }, error: v }) } return g.session && (await this._saveSession(g.session), await this._notifyAllSubscribers("SIGNED_IN", g.session)), this._returnResult({ data: Object.assign({}, g), error: b }) } catch (g) { if (te(g)) return this._returnResult({ data: { user: null, session: null }, error: g }); throw g } } async signInWithSolana(t) {
    var r, n, s, o, a, l, c, u, d, p, m, h; let x, g; if ("message" in t) x = t.message, g = t.signature; else {
      const { chain: b, wallet: v, statement: y, options: w } = t; let j; if (it()) if (typeof v == "object") j = v; else { const _ = window; if ("solana" in _ && typeof _.solana == "object" && ("signIn" in _.solana && typeof _.solana.signIn == "function" || "signMessage" in _.solana && typeof _.solana.signMessage == "function")) j = _.solana; else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.") } else { if (typeof v != "object" || !(w != null && w.url)) throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments."); j = v } const S = new URL((r = w == null ? void 0 : w.url) !== null && r !== void 0 ? r : window.location.href); if ("signIn" in j && j.signIn) { const _ = await j.signIn(Object.assign(Object.assign(Object.assign({ issuedAt: new Date().toISOString() }, w == null ? void 0 : w.signInWithSolana), { version: "1", domain: S.host, uri: S.href }), y ? { statement: y } : null)); let C; if (Array.isArray(_) && _[0] && typeof _[0] == "object") C = _[0]; else if (_ && typeof _ == "object" && "signedMessage" in _ && "signature" in _) C = _; else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value"); if ("signedMessage" in C && "signature" in C && (typeof C.signedMessage == "string" || C.signedMessage instanceof Uint8Array) && C.signature instanceof Uint8Array) x = typeof C.signedMessage == "string" ? C.signedMessage : new TextDecoder().decode(C.signedMessage), g = C.signature; else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields") } else {
        if (!("signMessage" in j) || typeof j.signMessage != "function" || !("publicKey" in j) || typeof j != "object" || !j.publicKey || !("toBase58" in j.publicKey) || typeof j.publicKey.toBase58 != "function") throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API"); x = [`${S.host} wants you to sign in with your Solana account:`, j.publicKey.toBase58(), ...y ? ["", y, ""] : [""], "Version: 1", `URI: ${S.href}`, `Issued At: ${(s = (n = w == null ? void 0 : w.signInWithSolana) === null || n === void 0 ? void 0 : n.issuedAt) !== null && s !== void 0 ? s : new Date().toISOString()}`, ...!((o = w == null ? void 0 : w.signInWithSolana) === null || o === void 0) && o.notBefore ? [`Not Before: ${w.signInWithSolana.notBefore}`] : [], ...!((a = w == null ? void 0 : w.signInWithSolana) === null || a === void 0) && a.expirationTime ? [`Expiration Time: ${w.signInWithSolana.expirationTime}`] : [], ...!((l = w == null ? void 0 : w.signInWithSolana) === null || l === void 0) && l.chainId ? [`Chain ID: ${w.signInWithSolana.chainId}`] : [], ...!((c = w == null ? void 0 : w.signInWithSolana) === null || c === void 0) && c.nonce ? [`Nonce: ${w.signInWithSolana.nonce}`] : [], ...!((u = w == null ? void 0 : w.signInWithSolana) === null || u === void 0) && u.requestId ? [`Request ID: ${w.signInWithSolana.requestId}`] : [], ...!((p = (d = w == null ? void 0 : w.signInWithSolana) === null || d === void 0 ? void 0 : d.resources) === null || p === void 0) && p.length ? ["Resources", ...w.signInWithSolana.resources.map(C => `- ${C}`)] : []].join(`
`); const _ = await j.signMessage(new TextEncoder().encode(x), "utf8"); if (!_ || !(_ instanceof Uint8Array)) throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value"); g = _
      }
    } try { const { data: b, error: v } = await oe(this.fetch, "POST", `${this.url}/token?grant_type=web3`, { headers: this.headers, body: Object.assign({ chain: "solana", message: x, signature: Vs(g) }, !((m = t.options) === null || m === void 0) && m.captchaToken ? { gotrue_meta_security: { captcha_token: (h = t.options) === null || h === void 0 ? void 0 : h.captchaToken } } : null), xform: ur }); if (v) throw v; if (!b || !b.session || !b.user) { const y = new As; return this._returnResult({ data: { user: null, session: null }, error: y }) } return b.session && (await this._saveSession(b.session), await this._notifyAllSubscribers("SIGNED_IN", b.session)), this._returnResult({ data: Object.assign({}, b), error: v }) } catch (b) { if (te(b)) return this._returnResult({ data: { user: null, session: null }, error: b }); throw b }
  } async _exchangeCodeForSession(t) { const r = await ks(this.storage, `${this.storageKey}-code-verifier`), [n, s] = (r ?? "").split("/"); try { const { data: o, error: a } = await oe(this.fetch, "POST", `${this.url}/token?grant_type=pkce`, { headers: this.headers, body: { auth_code: t, code_verifier: n }, xform: ur }); if (await ot(this.storage, `${this.storageKey}-code-verifier`), a) throw a; if (!o || !o.session || !o.user) { const l = new As; return this._returnResult({ data: { user: null, session: null, redirectType: null }, error: l }) } return o.session && (await this._saveSession(o.session), await this._notifyAllSubscribers("SIGNED_IN", o.session)), this._returnResult({ data: Object.assign(Object.assign({}, o), { redirectType: s ?? null }), error: a }) } catch (o) { if (await ot(this.storage, `${this.storageKey}-code-verifier`), te(o)) return this._returnResult({ data: { user: null, session: null, redirectType: null }, error: o }); throw o } } async signInWithIdToken(t) { try { const { options: r, provider: n, token: s, access_token: o, nonce: a } = t, l = await oe(this.fetch, "POST", `${this.url}/token?grant_type=id_token`, { headers: this.headers, body: { provider: n, id_token: s, access_token: o, nonce: a, gotrue_meta_security: { captcha_token: r == null ? void 0 : r.captchaToken } }, xform: ur }), { data: c, error: u } = l; if (u) return this._returnResult({ data: { user: null, session: null }, error: u }); if (!c || !c.session || !c.user) { const d = new As; return this._returnResult({ data: { user: null, session: null }, error: d }) } return c.session && (await this._saveSession(c.session), await this._notifyAllSubscribers("SIGNED_IN", c.session)), this._returnResult({ data: c, error: u }) } catch (r) { if (te(r)) return this._returnResult({ data: { user: null, session: null }, error: r }); throw r } } async signInWithOtp(t) { var r, n, s, o, a; try { if ("email" in t) { const { email: l, options: c } = t; let u = null, d = null; this.flowType === "pkce" && ([u, d] = await xo(this.storage, this.storageKey)); const { error: p } = await oe(this.fetch, "POST", `${this.url}/otp`, { headers: this.headers, body: { email: l, data: (r = c == null ? void 0 : c.data) !== null && r !== void 0 ? r : {}, create_user: (n = c == null ? void 0 : c.shouldCreateUser) !== null && n !== void 0 ? n : !0, gotrue_meta_security: { captcha_token: c == null ? void 0 : c.captchaToken }, code_challenge: u, code_challenge_method: d }, redirectTo: c == null ? void 0 : c.emailRedirectTo }); return this._returnResult({ data: { user: null, session: null }, error: p }) } if ("phone" in t) { const { phone: l, options: c } = t, { data: u, error: d } = await oe(this.fetch, "POST", `${this.url}/otp`, { headers: this.headers, body: { phone: l, data: (s = c == null ? void 0 : c.data) !== null && s !== void 0 ? s : {}, create_user: (o = c == null ? void 0 : c.shouldCreateUser) !== null && o !== void 0 ? o : !0, gotrue_meta_security: { captcha_token: c == null ? void 0 : c.captchaToken }, channel: (a = c == null ? void 0 : c.channel) !== null && a !== void 0 ? a : "sms" } }); return this._returnResult({ data: { user: null, session: null, messageId: u == null ? void 0 : u.message_id }, error: d }) } throw new Ji("You must provide either an email or phone number.") } catch (l) { if (await ot(this.storage, `${this.storageKey}-code-verifier`), te(l)) return this._returnResult({ data: { user: null, session: null }, error: l }); throw l } } async verifyOtp(t) { var r, n; try { let s, o; "options" in t && (s = (r = t.options) === null || r === void 0 ? void 0 : r.redirectTo, o = (n = t.options) === null || n === void 0 ? void 0 : n.captchaToken); const { data: a, error: l } = await oe(this.fetch, "POST", `${this.url}/verify`, { headers: this.headers, body: Object.assign(Object.assign({}, t), { gotrue_meta_security: { captcha_token: o } }), redirectTo: s, xform: ur }); if (l) throw l; if (!a) throw new Error("An error occurred on token verification."); const c = a.session, u = a.user; return c != null && c.access_token && (await this._saveSession(c), await this._notifyAllSubscribers(t.type == "recovery" ? "PASSWORD_RECOVERY" : "SIGNED_IN", c)), this._returnResult({ data: { user: u, session: c }, error: null }) } catch (s) { if (te(s)) return this._returnResult({ data: { user: null, session: null }, error: s }); throw s } } async signInWithSSO(t) { var r, n, s, o, a; try { let l = null, c = null; this.flowType === "pkce" && ([l, c] = await xo(this.storage, this.storageKey)); const u = await oe(this.fetch, "POST", `${this.url}/sso`, { body: Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, "providerId" in t ? { provider_id: t.providerId } : null), "domain" in t ? { domain: t.domain } : null), { redirect_to: (n = (r = t.options) === null || r === void 0 ? void 0 : r.redirectTo) !== null && n !== void 0 ? n : void 0 }), !((s = t == null ? void 0 : t.options) === null || s === void 0) && s.captchaToken ? { gotrue_meta_security: { captcha_token: t.options.captchaToken } } : null), { skip_http_redirect: !0, code_challenge: l, code_challenge_method: c }), headers: this.headers, xform: cI }); return !((o = u.data) === null || o === void 0) && o.url && it() && !(!((a = t.options) === null || a === void 0) && a.skipBrowserRedirect) && window.location.assign(u.data.url), this._returnResult(u) } catch (l) { if (await ot(this.storage, `${this.storageKey}-code-verifier`), te(l)) return this._returnResult({ data: null, error: l }); throw l } } async reauthenticate() { return await this.initializePromise, await this._acquireLock(-1, async () => await this._reauthenticate()) } async _reauthenticate() { try { return await this._useSession(async t => { const { data: { session: r }, error: n } = t; if (n) throw n; if (!r) throw new kt; const { error: s } = await oe(this.fetch, "GET", `${this.url}/reauthenticate`, { headers: this.headers, jwt: r.access_token }); return this._returnResult({ data: { user: null, session: null }, error: s }) }) } catch (t) { if (te(t)) return this._returnResult({ data: { user: null, session: null }, error: t }); throw t } } async resend(t) { try { const r = `${this.url}/resend`; if ("email" in t) { const { email: n, type: s, options: o } = t, { error: a } = await oe(this.fetch, "POST", r, { headers: this.headers, body: { email: n, type: s, gotrue_meta_security: { captcha_token: o == null ? void 0 : o.captchaToken } }, redirectTo: o == null ? void 0 : o.emailRedirectTo }); return this._returnResult({ data: { user: null, session: null }, error: a }) } else if ("phone" in t) { const { phone: n, type: s, options: o } = t, { data: a, error: l } = await oe(this.fetch, "POST", r, { headers: this.headers, body: { phone: n, type: s, gotrue_meta_security: { captcha_token: o == null ? void 0 : o.captchaToken } } }); return this._returnResult({ data: { user: null, session: null, messageId: a == null ? void 0 : a.message_id }, error: l }) } throw new Ji("You must provide either an email or phone number and a type") } catch (r) { if (te(r)) return this._returnResult({ data: { user: null, session: null }, error: r }); throw r } } async getSession() { return await this.initializePromise, await this._acquireLock(-1, async () => this._useSession(async r => r)) } async _acquireLock(t, r) { this._debug("#_acquireLock", "begin", t); try { if (this.lockAcquired) { const n = this.pendingInLock.length ? this.pendingInLock[this.pendingInLock.length - 1] : Promise.resolve(), s = (async () => (await n, await r()))(); return this.pendingInLock.push((async () => { try { await s } catch { } })()), s } return await this.lock(`lock:${this.storageKey}`, t, async () => { this._debug("#_acquireLock", "lock acquired for storage key", this.storageKey); try { this.lockAcquired = !0; const n = r(); for (this.pendingInLock.push((async () => { try { await n } catch { } })()), await n; this.pendingInLock.length;) { const s = [...this.pendingInLock]; await Promise.all(s), this.pendingInLock.splice(0, s.length) } return await n } finally { this._debug("#_acquireLock", "lock released for storage key", this.storageKey), this.lockAcquired = !1 } }) } finally { this._debug("#_acquireLock", "end") } } async _useSession(t) { this._debug("#_useSession", "begin"); try { const r = await this.__loadSession(); return await t(r) } finally { this._debug("#_useSession", "end") } } async __loadSession() { this._debug("#__loadSession()", "begin"), this.lockAcquired || this._debug("#__loadSession()", "used outside of an acquired lock!", new Error().stack); try { let t = null; const r = await ks(this.storage, this.storageKey); if (this._debug("#getSession()", "session from storage", r), r !== null && (this._isValidSession(r) ? t = r : (this._debug("#getSession()", "session from storage is not valid"), await this._removeSession())), !t) return { data: { session: null }, error: null }; const n = t.expires_at ? t.expires_at * 1e3 - Date.now() < Bd : !1; if (this._debug("#__loadSession()", `session has${n ? "" : " not"} expired`, "expires_at", t.expires_at), !n) { if (this.userStorage) { const a = await ks(this.userStorage, this.storageKey + "-user"); a != null && a.user ? t.user = a.user : t.user = Hd() } if (this.storage.isServer && t.user && !t.user.__isUserNotAvailableProxy) { const a = { value: this.suppressGetSessionWarning }; t.user = oI(t.user, a), a.value && (this.suppressGetSessionWarning = !0) } return { data: { session: t }, error: null } } const { data: s, error: o } = await this._callRefreshToken(t.refresh_token); return o ? this._returnResult({ data: { session: null }, error: o }) : this._returnResult({ data: { session: s }, error: null }) } finally { this._debug("#__loadSession()", "end") } } async getUser(t) { if (t) return await this._getUser(t); await this.initializePromise; const r = await this._acquireLock(-1, async () => await this._getUser()); return r.data.user && (this.suppressGetSessionWarning = !0), r } async _getUser(t) { try { return t ? await oe(this.fetch, "GET", `${this.url}/user`, { headers: this.headers, jwt: t, xform: Fn }) : await this._useSession(async r => { var n, s, o; const { data: a, error: l } = r; if (l) throw l; return !(!((n = a.session) === null || n === void 0) && n.access_token) && !this.hasCustomAuthorizationHeader ? { data: { user: null }, error: new kt } : await oe(this.fetch, "GET", `${this.url}/user`, { headers: this.headers, jwt: (o = (s = a.session) === null || s === void 0 ? void 0 : s.access_token) !== null && o !== void 0 ? o : void 0, xform: Fn }) }) } catch (r) { if (te(r)) return u1(r) && (await this._removeSession(), await ot(this.storage, `${this.storageKey}-code-verifier`)), this._returnResult({ data: { user: null }, error: r }); throw r } } async updateUser(t, r = {}) { return await this.initializePromise, await this._acquireLock(-1, async () => await this._updateUser(t, r)) } async _updateUser(t, r = {}) { try { return await this._useSession(async n => { const { data: s, error: o } = n; if (o) throw o; if (!s.session) throw new kt; const a = s.session; let l = null, c = null; this.flowType === "pkce" && t.email != null && ([l, c] = await xo(this.storage, this.storageKey)); const { data: u, error: d } = await oe(this.fetch, "PUT", `${this.url}/user`, { headers: this.headers, redirectTo: r == null ? void 0 : r.emailRedirectTo, body: Object.assign(Object.assign({}, t), { code_challenge: l, code_challenge_method: c }), jwt: a.access_token, xform: Fn }); if (d) throw d; return a.user = u.user, await this._saveSession(a), await this._notifyAllSubscribers("USER_UPDATED", a), this._returnResult({ data: { user: a.user }, error: null }) }) } catch (n) { if (await ot(this.storage, `${this.storageKey}-code-verifier`), te(n)) return this._returnResult({ data: { user: null }, error: n }); throw n } } async setSession(t) { return await this.initializePromise, await this._acquireLock(-1, async () => await this._setSession(t)) } async _setSession(t) { try { if (!t.access_token || !t.refresh_token) throw new kt; const r = Date.now() / 1e3; let n = r, s = !0, o = null; const { payload: a } = Vd(t.access_token); if (a.exp && (n = a.exp, s = n <= r), s) { const { data: l, error: c } = await this._callRefreshToken(t.refresh_token); if (c) return this._returnResult({ data: { user: null, session: null }, error: c }); if (!l) return { data: { user: null, session: null }, error: null }; o = l } else { const { data: l, error: c } = await this._getUser(t.access_token); if (c) throw c; o = { access_token: t.access_token, refresh_token: t.refresh_token, user: l.user, token_type: "bearer", expires_in: n - r, expires_at: n }, await this._saveSession(o), await this._notifyAllSubscribers("SIGNED_IN", o) } return this._returnResult({ data: { user: o.user, session: o }, error: null }) } catch (r) { if (te(r)) return this._returnResult({ data: { session: null, user: null }, error: r }); throw r } } async refreshSession(t) { return await this.initializePromise, await this._acquireLock(-1, async () => await this._refreshSession(t)) } async _refreshSession(t) { try { return await this._useSession(async r => { var n; if (!t) { const { data: a, error: l } = r; if (l) throw l; t = (n = a.session) !== null && n !== void 0 ? n : void 0 } if (!(t != null && t.refresh_token)) throw new kt; const { data: s, error: o } = await this._callRefreshToken(t.refresh_token); return o ? this._returnResult({ data: { user: null, session: null }, error: o }) : s ? this._returnResult({ data: { user: s.user, session: s }, error: null }) : this._returnResult({ data: { user: null, session: null }, error: null }) }) } catch (r) { if (te(r)) return this._returnResult({ data: { user: null, session: null }, error: r }); throw r } } async _getSessionFromURL(t, r) { try { if (!it()) throw new Xi("No browser detected."); if (t.error || t.error_description || t.error_code) throw new Xi(t.error_description || "Error in URL with unspecified error_description", { error: t.error || "unspecified_error", code: t.error_code || "unspecified_code" }); switch (r) { case "implicit": if (this.flowType === "pkce") throw new kf("Not a valid PKCE flow url."); break; case "pkce": if (this.flowType === "implicit") throw new Xi("Not a valid implicit grant flow url."); break; default: }if (r === "pkce") { if (this._debug("#_initialize()", "begin", "is PKCE flow", !0), !t.code) throw new kf("No code detected."); const { data: y, error: w } = await this._exchangeCodeForSession(t.code); if (w) throw w; const j = new URL(window.location.href); return j.searchParams.delete("code"), window.history.replaceState(window.history.state, "", j.toString()), { data: { session: y.session, redirectType: null }, error: null } } const { provider_token: n, provider_refresh_token: s, access_token: o, refresh_token: a, expires_in: l, expires_at: c, token_type: u } = t; if (!o || !l || !a || !u) throw new Xi("No session defined in URL"); const d = Math.round(Date.now() / 1e3), p = parseInt(l); let m = d + p; c && (m = parseInt(c)); const h = m - d; h * 1e3 <= Eo && console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${p}s`); const x = m - p; d - x >= 120 ? console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale", x, m, d) : d - x < 0 && console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew", x, m, d); const { data: g, error: b } = await this._getUser(o); if (b) throw b; const v = { provider_token: n, provider_refresh_token: s, access_token: o, expires_in: p, expires_at: m, refresh_token: a, token_type: u, user: g.user }; return window.location.hash = "", this._debug("#_getSessionFromURL()", "clearing window.location.hash"), this._returnResult({ data: { session: v, redirectType: t.type }, error: null }) } catch (n) { if (te(n)) return this._returnResult({ data: { session: null, redirectType: null }, error: n }); throw n } } _isImplicitGrantCallback(t) { return !!(t.access_token || t.error_description) } async _isPKCECallback(t) { const r = await ks(this.storage, `${this.storageKey}-code-verifier`); return !!(t.code && r) } async signOut(t = { scope: "global" }) { return await this.initializePromise, await this._acquireLock(-1, async () => await this._signOut(t)) } async _signOut({ scope: t } = { scope: "global" }) { return await this._useSession(async r => { var n; const { data: s, error: o } = r; if (o) return this._returnResult({ error: o }); const a = (n = s.session) === null || n === void 0 ? void 0 : n.access_token; if (a) { const { error: l } = await this.admin.signOut(a, t); if (l && !(c1(l) && (l.status === 404 || l.status === 401 || l.status === 403))) return this._returnResult({ error: l }) } return t !== "others" && (await this._removeSession(), await ot(this.storage, `${this.storageKey}-code-verifier`)), this._returnResult({ error: null }) }) } onAuthStateChange(t) { const r = WO(), n = { id: r, callback: t, unsubscribe: () => { this._debug("#unsubscribe()", "state change callback with id removed", r), this.stateChangeEmitters.delete(r) } }; return this._debug("#onAuthStateChange()", "registered callback with id", r), this.stateChangeEmitters.set(r, n), (async () => (await this.initializePromise, await this._acquireLock(-1, async () => { this._emitInitialSession(r) })))(), { data: { subscription: n } } } async _emitInitialSession(t) { return await this._useSession(async r => { var n, s; try { const { data: { session: o }, error: a } = r; if (a) throw a; await ((n = this.stateChangeEmitters.get(t)) === null || n === void 0 ? void 0 : n.callback("INITIAL_SESSION", o)), this._debug("INITIAL_SESSION", "callback id", t, "session", o) } catch (o) { await ((s = this.stateChangeEmitters.get(t)) === null || s === void 0 ? void 0 : s.callback("INITIAL_SESSION", null)), this._debug("INITIAL_SESSION", "callback id", t, "error", o), console.error(o) } }) } async resetPasswordForEmail(t, r = {}) { let n = null, s = null; this.flowType === "pkce" && ([n, s] = await xo(this.storage, this.storageKey, !0)); try { return await oe(this.fetch, "POST", `${this.url}/recover`, { body: { email: t, code_challenge: n, code_challenge_method: s, gotrue_meta_security: { captcha_token: r.captchaToken } }, headers: this.headers, redirectTo: r.redirectTo }) } catch (o) { if (await ot(this.storage, `${this.storageKey}-code-verifier`), te(o)) return this._returnResult({ data: null, error: o }); throw o } } async getUserIdentities() { var t; try { const { data: r, error: n } = await this.getUser(); if (n) throw n; return this._returnResult({ data: { identities: (t = r.user.identities) !== null && t !== void 0 ? t : [] }, error: null }) } catch (r) { if (te(r)) return this._returnResult({ data: null, error: r }); throw r } } async linkIdentity(t) { return "token" in t ? this.linkIdentityIdToken(t) : this.linkIdentityOAuth(t) } async linkIdentityOAuth(t) { var r; try { const { data: n, error: s } = await this._useSession(async o => { var a, l, c, u, d; const { data: p, error: m } = o; if (m) throw m; const h = await this._getUrlForProvider(`${this.url}/user/identities/authorize`, t.provider, { redirectTo: (a = t.options) === null || a === void 0 ? void 0 : a.redirectTo, scopes: (l = t.options) === null || l === void 0 ? void 0 : l.scopes, queryParams: (c = t.options) === null || c === void 0 ? void 0 : c.queryParams, skipBrowserRedirect: !0 }); return await oe(this.fetch, "GET", h, { headers: this.headers, jwt: (d = (u = p.session) === null || u === void 0 ? void 0 : u.access_token) !== null && d !== void 0 ? d : void 0 }) }); if (s) throw s; return it() && !(!((r = t.options) === null || r === void 0) && r.skipBrowserRedirect) && window.location.assign(n == null ? void 0 : n.url), this._returnResult({ data: { provider: t.provider, url: n == null ? void 0 : n.url }, error: null }) } catch (n) { if (te(n)) return this._returnResult({ data: { provider: t.provider, url: null }, error: n }); throw n } } async linkIdentityIdToken(t) { return await this._useSession(async r => { var n; try { const { error: s, data: { session: o } } = r; if (s) throw s; const { options: a, provider: l, token: c, access_token: u, nonce: d } = t, p = await oe(this.fetch, "POST", `${this.url}/token?grant_type=id_token`, { headers: this.headers, jwt: (n = o == null ? void 0 : o.access_token) !== null && n !== void 0 ? n : void 0, body: { provider: l, id_token: c, access_token: u, nonce: d, link_identity: !0, gotrue_meta_security: { captcha_token: a == null ? void 0 : a.captchaToken } }, xform: ur }), { data: m, error: h } = p; return h ? this._returnResult({ data: { user: null, session: null }, error: h }) : !m || !m.session || !m.user ? this._returnResult({ data: { user: null, session: null }, error: new As }) : (m.session && (await this._saveSession(m.session), await this._notifyAllSubscribers("USER_UPDATED", m.session)), this._returnResult({ data: m, error: h })) } catch (s) { if (await ot(this.storage, `${this.storageKey}-code-verifier`), te(s)) return this._returnResult({ data: { user: null, session: null }, error: s }); throw s } }) } async unlinkIdentity(t) { try { return await this._useSession(async r => { var n, s; const { data: o, error: a } = r; if (a) throw a; return await oe(this.fetch, "DELETE", `${this.url}/user/identities/${t.identity_id}`, { headers: this.headers, jwt: (s = (n = o.session) === null || n === void 0 ? void 0 : n.access_token) !== null && s !== void 0 ? s : void 0 }) }) } catch (r) { if (te(r)) return this._returnResult({ data: null, error: r }); throw r } } async _refreshAccessToken(t) { const r = `#_refreshAccessToken(${t.substring(0, 5)}...)`; this._debug(r, "begin"); try { const n = Date.now(); return await YO(async s => (s > 0 && await GO(200 * Math.pow(2, s - 1)), this._debug(r, "refreshing attempt", s), await oe(this.fetch, "POST", `${this.url}/token?grant_type=refresh_token`, { body: { refresh_token: t }, headers: this.headers, xform: ur })), (s, o) => { const a = 200 * Math.pow(2, s); return o && ic(o) && Date.now() + a - n < Eo }) } catch (n) { if (this._debug(r, "error", n), te(n)) return this._returnResult({ data: { session: null, user: null }, error: n }); throw n } finally { this._debug(r, "end") } } _isValidSession(t) { return typeof t == "object" && t !== null && "access_token" in t && "refresh_token" in t && "expires_at" in t } async _handleProviderSignIn(t, r) { const n = await this._getUrlForProvider(`${this.url}/authorize`, t, { redirectTo: r.redirectTo, scopes: r.scopes, queryParams: r.queryParams }); return this._debug("#_handleProviderSignIn()", "provider", t, "options", r, "url", n), it() && !r.skipBrowserRedirect && window.location.assign(n), { data: { provider: t, url: n }, error: null } } async _recoverAndRefresh() { var t, r; const n = "#_recoverAndRefresh()"; this._debug(n, "begin"); try { const s = await ks(this.storage, this.storageKey); if (s && this.userStorage) { let a = await ks(this.userStorage, this.storageKey + "-user"); !this.storage.isServer && Object.is(this.storage, this.userStorage) && !a && (a = { user: s.user }, await Co(this.userStorage, this.storageKey + "-user", a)), s.user = (t = a == null ? void 0 : a.user) !== null && t !== void 0 ? t : Hd() } else if (s && !s.user && !s.user) { const a = await ks(this.storage, this.storageKey + "-user"); a && (a != null && a.user) ? (s.user = a.user, await ot(this.storage, this.storageKey + "-user"), await Co(this.storage, this.storageKey, s)) : s.user = Hd() } if (this._debug(n, "session from storage", s), !this._isValidSession(s)) { this._debug(n, "session is not valid"), s !== null && await this._removeSession(); return } const o = ((r = s.expires_at) !== null && r !== void 0 ? r : 1 / 0) * 1e3 - Date.now() < Bd; if (this._debug(n, `session has${o ? "" : " not"} expired with margin of ${Bd}s`), o) { if (this.autoRefreshToken && s.refresh_token) { const { error: a } = await this._callRefreshToken(s.refresh_token); a && (console.error(a), ic(a) || (this._debug(n, "refresh failed with a non-retryable error, removing the session", a), await this._removeSession())) } } else if (s.user && s.user.__isUserNotAvailableProxy === !0) try { const { data: a, error: l } = await this._getUser(s.access_token); !l && (a != null && a.user) ? (s.user = a.user, await this._saveSession(s), await this._notifyAllSubscribers("SIGNED_IN", s)) : this._debug(n, "could not get user data, skipping SIGNED_IN notification") } catch (a) { console.error("Error getting user data:", a), this._debug(n, "error getting user data, skipping SIGNED_IN notification", a) } else await this._notifyAllSubscribers("SIGNED_IN", s) } catch (s) { this._debug(n, "error", s), console.error(s); return } finally { this._debug(n, "end") } } async _callRefreshToken(t) { var r, n; if (!t) throw new kt; if (this.refreshingDeferred) return this.refreshingDeferred.promise; const s = `#_callRefreshToken(${t.substring(0, 5)}...)`; this._debug(s, "begin"); try { this.refreshingDeferred = new Bu; const { data: o, error: a } = await this._refreshAccessToken(t); if (a) throw a; if (!o.session) throw new kt; await this._saveSession(o.session), await this._notifyAllSubscribers("TOKEN_REFRESHED", o.session); const l = { data: o.session, error: null }; return this.refreshingDeferred.resolve(l), l } catch (o) { if (this._debug(s, "error", o), te(o)) { const a = { data: null, error: o }; return ic(o) || await this._removeSession(), (r = this.refreshingDeferred) === null || r === void 0 || r.resolve(a), a } throw (n = this.refreshingDeferred) === null || n === void 0 || n.reject(o), o } finally { this.refreshingDeferred = null, this._debug(s, "end") } } async _notifyAllSubscribers(t, r, n = !0) { const s = `#_notifyAllSubscribers(${t})`; this._debug(s, "begin", r, `broadcast = ${n}`); try { this.broadcastChannel && n && this.broadcastChannel.postMessage({ event: t, session: r }); const o = [], a = Array.from(this.stateChangeEmitters.values()).map(async l => { try { await l.callback(t, r) } catch (c) { o.push(c) } }); if (await Promise.all(a), o.length > 0) { for (let l = 0; l < o.length; l += 1)console.error(o[l]); throw o[0] } } finally { this._debug(s, "end") } } async _saveSession(t) { this._debug("#_saveSession()", t), this.suppressGetSessionWarning = !0, await ot(this.storage, `${this.storageKey}-code-verifier`); const r = Object.assign({}, t), n = r.user && r.user.__isUserNotAvailableProxy === !0; if (this.userStorage) { !n && r.user && await Co(this.userStorage, this.storageKey + "-user", { user: r.user }); const s = Object.assign({}, r); delete s.user; const o = cy(s); await Co(this.storage, this.storageKey, o) } else { const s = cy(r); await Co(this.storage, this.storageKey, s) } } async _removeSession() { this._debug("#_removeSession()"), this.suppressGetSessionWarning = !1, await ot(this.storage, this.storageKey), await ot(this.storage, this.storageKey + "-code-verifier"), await ot(this.storage, this.storageKey + "-user"), this.userStorage && await ot(this.userStorage, this.storageKey + "-user"), await this._notifyAllSubscribers("SIGNED_OUT", null) } _removeVisibilityChangedCallback() { this._debug("#_removeVisibilityChangedCallback()"); const t = this.visibilityChangedCallback; this.visibilityChangedCallback = null; try { t && it() && (window != null && window.removeEventListener) && window.removeEventListener("visibilitychange", t) } catch (r) { console.error("removing visibilitychange callback failed", r) } } async _startAutoRefresh() { await this._stopAutoRefresh(), this._debug("#_startAutoRefresh()"); const t = setInterval(() => this._autoRefreshTokenTick(), Eo); this.autoRefreshTicker = t, t && typeof t == "object" && typeof t.unref == "function" ? t.unref() : typeof Deno < "u" && typeof Deno.unrefTimer == "function" && Deno.unrefTimer(t), setTimeout(async () => { await this.initializePromise, await this._autoRefreshTokenTick() }, 0) } async _stopAutoRefresh() { this._debug("#_stopAutoRefresh()"); const t = this.autoRefreshTicker; this.autoRefreshTicker = null, t && clearInterval(t) } async startAutoRefresh() { this._removeVisibilityChangedCallback(), await this._startAutoRefresh() } async stopAutoRefresh() { this._removeVisibilityChangedCallback(), await this._stopAutoRefresh() } async _autoRefreshTokenTick() { this._debug("#_autoRefreshTokenTick()", "begin"); try { await this._acquireLock(0, async () => { try { const t = Date.now(); try { return await this._useSession(async r => { const { data: { session: n } } = r; if (!n || !n.refresh_token || !n.expires_at) { this._debug("#_autoRefreshTokenTick()", "no session"); return } const s = Math.floor((n.expires_at * 1e3 - t) / Eo); this._debug("#_autoRefreshTokenTick()", `access token expires in ${s} ticks, a tick lasts ${Eo}ms, refresh threshold is ${Ef} ticks`), s <= Ef && await this._callRefreshToken(n.refresh_token) }) } catch (r) { console.error("Auto refresh tick failed with error. This is likely a transient error.", r) } } finally { this._debug("#_autoRefreshTokenTick()", "end") } }) } catch (t) { if (t.isAcquireTimeout || t instanceof hm) this._debug("auto refresh token tick lock not available"); else throw t } } async _handleVisibilityChange() { if (this._debug("#_handleVisibilityChange()"), !it() || !(window != null && window.addEventListener)) return this.autoRefreshToken && this.startAutoRefresh(), !1; try { this.visibilityChangedCallback = async () => await this._onVisibilityChanged(!1), window == null || window.addEventListener("visibilitychange", this.visibilityChangedCallback), await this._onVisibilityChanged(!0) } catch (t) { console.error("_handleVisibilityChange", t) } } async _onVisibilityChanged(t) { const r = `#_onVisibilityChanged(${t})`; this._debug(r, "visibilityState", document.visibilityState), document.visibilityState === "visible" ? (this.autoRefreshToken && this._startAutoRefresh(), t || (await this.initializePromise, await this._acquireLock(-1, async () => { if (document.visibilityState !== "visible") { this._debug(r, "acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting"); return } await this._recoverAndRefresh() }))) : document.visibilityState === "hidden" && this.autoRefreshToken && this._stopAutoRefresh() } async _getUrlForProvider(t, r, n) { const s = [`provider=${encodeURIComponent(r)}`]; if (n != null && n.redirectTo && s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`), n != null && n.scopes && s.push(`scopes=${encodeURIComponent(n.scopes)}`), this.flowType === "pkce") { const [o, a] = await xo(this.storage, this.storageKey), l = new URLSearchParams({ code_challenge: `${encodeURIComponent(o)}`, code_challenge_method: `${encodeURIComponent(a)}` }); s.push(l.toString()) } if (n != null && n.queryParams) { const o = new URLSearchParams(n.queryParams); s.push(o.toString()) } return n != null && n.skipBrowserRedirect && s.push(`skip_http_redirect=${n.skipBrowserRedirect}`), `${t}?${s.join("&")}` } async _unenroll(t) { try { return await this._useSession(async r => { var n; const { data: s, error: o } = r; return o ? this._returnResult({ data: null, error: o }) : await oe(this.fetch, "DELETE", `${this.url}/factors/${t.factorId}`, { headers: this.headers, jwt: (n = s == null ? void 0 : s.session) === null || n === void 0 ? void 0 : n.access_token }) }) } catch (r) { if (te(r)) return this._returnResult({ data: null, error: r }); throw r } } async _enroll(t) { try { return await this._useSession(async r => { var n, s; const { data: o, error: a } = r; if (a) return this._returnResult({ data: null, error: a }); const l = Object.assign({ friendly_name: t.friendlyName, factor_type: t.factorType }, t.factorType === "phone" ? { phone: t.phone } : t.factorType === "totp" ? { issuer: t.issuer } : {}), { data: c, error: u } = await oe(this.fetch, "POST", `${this.url}/factors`, { body: l, headers: this.headers, jwt: (n = o == null ? void 0 : o.session) === null || n === void 0 ? void 0 : n.access_token }); return u ? this._returnResult({ data: null, error: u }) : (t.factorType === "totp" && c.type === "totp" && (!((s = c == null ? void 0 : c.totp) === null || s === void 0) && s.qr_code) && (c.totp.qr_code = `data:image/svg+xml;utf-8,${c.totp.qr_code}`), this._returnResult({ data: c, error: null })) }) } catch (r) { if (te(r)) return this._returnResult({ data: null, error: r }); throw r } } async _verify(t) { return this._acquireLock(-1, async () => { try { return await this._useSession(async r => { var n; const { data: s, error: o } = r; if (o) return this._returnResult({ data: null, error: o }); const a = Object.assign({ challenge_id: t.challengeId }, "webauthn" in t ? { webauthn: Object.assign(Object.assign({}, t.webauthn), { credential_response: t.webauthn.type === "create" ? _I(t.webauthn.credential_response) : NI(t.webauthn.credential_response) }) } : { code: t.code }), { data: l, error: c } = await oe(this.fetch, "POST", `${this.url}/factors/${t.factorId}/verify`, { body: a, headers: this.headers, jwt: (n = s == null ? void 0 : s.session) === null || n === void 0 ? void 0 : n.access_token }); return c ? this._returnResult({ data: null, error: c }) : (await this._saveSession(Object.assign({ expires_at: Math.round(Date.now() / 1e3) + l.expires_in }, l)), await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED", l), this._returnResult({ data: l, error: c })) }) } catch (r) { if (te(r)) return this._returnResult({ data: null, error: r }); throw r } }) } async _challenge(t) { return this._acquireLock(-1, async () => { try { return await this._useSession(async r => { var n; const { data: s, error: o } = r; if (o) return this._returnResult({ data: null, error: o }); const a = await oe(this.fetch, "POST", `${this.url}/factors/${t.factorId}/challenge`, { body: t, headers: this.headers, jwt: (n = s == null ? void 0 : s.session) === null || n === void 0 ? void 0 : n.access_token }); if (a.error) return a; const { data: l } = a; if (l.type !== "webauthn") return { data: l, error: null }; switch (l.webauthn.type) { case "create": return { data: Object.assign(Object.assign({}, l), { webauthn: Object.assign(Object.assign({}, l.webauthn), { credential_options: Object.assign(Object.assign({}, l.webauthn.credential_options), { publicKey: jI(l.webauthn.credential_options.publicKey) }) }) }), error: null }; case "request": return { data: Object.assign(Object.assign({}, l), { webauthn: Object.assign(Object.assign({}, l.webauthn), { credential_options: Object.assign(Object.assign({}, l.webauthn.credential_options), { publicKey: SI(l.webauthn.credential_options.publicKey) }) }) }), error: null } } }) } catch (r) { if (te(r)) return this._returnResult({ data: null, error: r }); throw r } }) } async _challengeAndVerify(t) { const { data: r, error: n } = await this._challenge({ factorId: t.factorId }); return n ? this._returnResult({ data: null, error: n }) : await this._verify({ factorId: t.factorId, challengeId: r.id, code: t.code }) } async _listFactors() { var t; const { data: { user: r }, error: n } = await this.getUser(); if (n) return { data: null, error: n }; const s = { all: [], phone: [], totp: [], webauthn: [] }; for (const o of (t = r == null ? void 0 : r.factors) !== null && t !== void 0 ? t : []) s.all.push(o), o.status === "verified" && s[o.factor_type].push(o); return { data: s, error: null } } async _getAuthenticatorAssuranceLevel() { var t, r; const { data: { session: n }, error: s } = await this.getSession(); if (s) return this._returnResult({ data: null, error: s }); if (!n) return { data: { currentLevel: null, nextLevel: null, currentAuthenticationMethods: [] }, error: null }; const { payload: o } = Vd(n.access_token); let a = null; o.aal && (a = o.aal); let l = a; ((r = (t = n.user.factors) === null || t === void 0 ? void 0 : t.filter(d => d.status === "verified")) !== null && r !== void 0 ? r : []).length > 0 && (l = "aal2"); const u = o.amr || []; return { data: { currentLevel: a, nextLevel: l, currentAuthenticationMethods: u }, error: null } } async _getAuthorizationDetails(t) { try { return await this._useSession(async r => { const { data: { session: n }, error: s } = r; return s ? this._returnResult({ data: null, error: s }) : n ? await oe(this.fetch, "GET", `${this.url}/oauth/authorizations/${t}`, { headers: this.headers, jwt: n.access_token, xform: o => ({ data: o, error: null }) }) : this._returnResult({ data: null, error: new kt }) }) } catch (r) { if (te(r)) return this._returnResult({ data: null, error: r }); throw r } } async _approveAuthorization(t, r) { try { return await this._useSession(async n => { const { data: { session: s }, error: o } = n; if (o) return this._returnResult({ data: null, error: o }); if (!s) return this._returnResult({ data: null, error: new kt }); const a = await oe(this.fetch, "POST", `${this.url}/oauth/authorizations/${t}/consent`, { headers: this.headers, jwt: s.access_token, body: { action: "approve" }, xform: l => ({ data: l, error: null }) }); return a.data && a.data.redirect_url && it() && !(r != null && r.skipBrowserRedirect) && window.location.assign(a.data.redirect_url), a }) } catch (n) { if (te(n)) return this._returnResult({ data: null, error: n }); throw n } } async _denyAuthorization(t, r) { try { return await this._useSession(async n => { const { data: { session: s }, error: o } = n; if (o) return this._returnResult({ data: null, error: o }); if (!s) return this._returnResult({ data: null, error: new kt }); const a = await oe(this.fetch, "POST", `${this.url}/oauth/authorizations/${t}/consent`, { headers: this.headers, jwt: s.access_token, body: { action: "deny" }, xform: l => ({ data: l, error: null }) }); return a.data && a.data.redirect_url && it() && !(r != null && r.skipBrowserRedirect) && window.location.assign(a.data.redirect_url), a }) } catch (n) { if (te(n)) return this._returnResult({ data: null, error: n }); throw n } } async _listOAuthGrants() { try { return await this._useSession(async t => { const { data: { session: r }, error: n } = t; return n ? this._returnResult({ data: null, error: n }) : r ? await oe(this.fetch, "GET", `${this.url}/user/oauth/grants`, { headers: this.headers, jwt: r.access_token, xform: s => ({ data: s, error: null }) }) : this._returnResult({ data: null, error: new kt }) }) } catch (t) { if (te(t)) return this._returnResult({ data: null, error: t }); throw t } } async _revokeOAuthGrant(t) { try { return await this._useSession(async r => { const { data: { session: n }, error: s } = r; return s ? this._returnResult({ data: null, error: s }) : n ? (await oe(this.fetch, "DELETE", `${this.url}/user/oauth/grants`, { headers: this.headers, jwt: n.access_token, query: { client_id: t.clientId }, noResolveJson: !0 }), { data: {}, error: null }) : this._returnResult({ data: null, error: new kt }) }) } catch (r) { if (te(r)) return this._returnResult({ data: null, error: r }); throw r } } async fetchJwk(t, r = { keys: [] }) { let n = r.keys.find(l => l.kid === t); if (n) return n; const s = Date.now(); if (n = this.jwks.keys.find(l => l.kid === t), n && this.jwks_cached_at + $O > s) return n; const { data: o, error: a } = await oe(this.fetch, "GET", `${this.url}/.well-known/jwks.json`, { headers: this.headers }); if (a) throw a; return !o.keys || o.keys.length === 0 || (this.jwks = o, this.jwks_cached_at = s, n = o.keys.find(l => l.kid === t), !n) ? null : n } async getClaims(t, r = {}) { try { let n = t; if (!n) { const { data: h, error: x } = await this.getSession(); if (x || !h.session) return this._returnResult({ data: null, error: x }); n = h.session.access_token } const { header: s, payload: o, signature: a, raw: { header: l, payload: c } } = Vd(n); r != null && r.allowExpired || rI(o.exp); const u = !s.alg || s.alg.startsWith("HS") || !s.kid || !("crypto" in globalThis && "subtle" in globalThis.crypto) ? null : await this.fetchJwk(s.kid, r != null && r.keys ? { keys: r.keys } : r == null ? void 0 : r.jwks); if (!u) { const { error: h } = await this.getUser(n); if (h) throw h; return { data: { claims: o, header: s, signature: a }, error: null } } const d = nI(s.alg), p = await crypto.subtle.importKey("jwk", u, d, !0, ["verify"]); if (!await crypto.subtle.verify(d, p, a, VO(`${l}.${c}`))) throw new Kc("Invalid JWT signature"); return { data: { claims: o, header: s, signature: a }, error: null } } catch (n) { if (te(n)) return this._returnResult({ data: null, error: n }); throw n } }
}; fm.nextInstanceID = {}; const II = dm, DI = fm, LI = Object.freeze(Object.defineProperty({ __proto__: null, AuthAdminApi: II, AuthApiError: l1, AuthClient: DI, AuthError: vi, AuthImplicitGrantRedirectError: Xi, AuthInvalidCredentialsError: Ji, AuthInvalidJwtError: Kc, AuthInvalidTokenResponseError: As, AuthPKCEGrantCodeExchangeError: kf, AuthRetryableFetchError: qc, AuthSessionMissingError: kt, AuthUnknownError: Mn, AuthWeakPasswordError: Pf, CustomAuthError: _n, GoTrueAdminApi: dm, GoTrueClient: fm, NavigatorLockAcquireTimeoutError: m1, SIGN_OUT_SCOPES: ac, isAuthApiError: c1, isAuthError: te, isAuthImplicitGrantRedirectError: d1, isAuthRetryableFetchError: ic, isAuthSessionMissingError: u1, isAuthWeakPasswordError: MO, lockInternals: Is, navigatorLock: g1, processLock: fI }, Symbol.toStringTag, { value: "Module" })), x1 = Ua(LI); Object.defineProperty(zu, "__esModule", { value: !0 }); zu.SupabaseAuthClient = void 0; const $I = x1; class MI extends $I.AuthClient { constructor(t) { super(t) } } zu.SupabaseAuthClient = MI; Object.defineProperty(Bc, "__esModule", { value: !0 }); const FI = _j, UI = mt, zI = Vj, BI = kO, Dl = n1, VI = s1, vy = bs, HI = zu; let WI = class { constructor(t, r, n) { var s, o, a; this.supabaseUrl = t, this.supabaseKey = r; const l = (0, vy.validateSupabaseUrl)(t); if (!r) throw new Error("supabaseKey is required."); this.realtimeUrl = new URL("realtime/v1", l), this.realtimeUrl.protocol = this.realtimeUrl.protocol.replace("http", "ws"), this.authUrl = new URL("auth/v1", l), this.storageUrl = new URL("storage/v1", l), this.functionsUrl = new URL("functions/v1", l); const c = `sb-${l.hostname.split(".")[0]}-auth-token`, u = { db: Dl.DEFAULT_DB_OPTIONS, realtime: Dl.DEFAULT_REALTIME_OPTIONS, auth: Object.assign(Object.assign({}, Dl.DEFAULT_AUTH_OPTIONS), { storageKey: c }), global: Dl.DEFAULT_GLOBAL_OPTIONS }, d = (0, vy.applySettingDefaults)(n ?? {}, u); this.storageKey = (s = d.auth.storageKey) !== null && s !== void 0 ? s : "", this.headers = (o = d.global.headers) !== null && o !== void 0 ? o : {}, d.accessToken ? (this.accessToken = d.accessToken, this.auth = new Proxy({}, { get: (p, m) => { throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`) } })) : this.auth = this._initSupabaseAuthClient((a = d.auth) !== null && a !== void 0 ? a : {}, this.headers, d.global.fetch), this.fetch = (0, VI.fetchWithAuth)(r, this._getAccessToken.bind(this), d.global.fetch), this.realtime = this._initRealtimeClient(Object.assign({ headers: this.headers, accessToken: this._getAccessToken.bind(this) }, d.realtime)), this.accessToken && this.accessToken().then(p => this.realtime.setAuth(p)).catch(p => console.warn("Failed to set initial Realtime auth token:", p)), this.rest = new UI.PostgrestClient(new URL("rest/v1", l).href, { headers: this.headers, schema: d.db.schema, fetch: this.fetch }), this.storage = new BI.StorageClient(this.storageUrl.href, this.headers, this.fetch, n == null ? void 0 : n.storage), d.accessToken || this._listenForAuthEvents() } get functions() { return new FI.FunctionsClient(this.functionsUrl.href, { headers: this.headers, customFetch: this.fetch }) } from(t) { return this.rest.from(t) } schema(t) { return this.rest.schema(t) } rpc(t, r = {}, n = { head: !1, get: !1, count: void 0 }) { return this.rest.rpc(t, r, n) } channel(t, r = { config: {} }) { return this.realtime.channel(t, r) } getChannels() { return this.realtime.getChannels() } removeChannel(t) { return this.realtime.removeChannel(t) } removeAllChannels() { return this.realtime.removeAllChannels() } async _getAccessToken() { var t, r; if (this.accessToken) return await this.accessToken(); const { data: n } = await this.auth.getSession(); return (r = (t = n.session) === null || t === void 0 ? void 0 : t.access_token) !== null && r !== void 0 ? r : this.supabaseKey } _initSupabaseAuthClient({ autoRefreshToken: t, persistSession: r, detectSessionInUrl: n, storage: s, userStorage: o, storageKey: a, flowType: l, lock: c, debug: u, throwOnError: d }, p, m) { const h = { Authorization: `Bearer ${this.supabaseKey}`, apikey: `${this.supabaseKey}` }; return new HI.SupabaseAuthClient({ url: this.authUrl.href, headers: Object.assign(Object.assign({}, h), p), storageKey: a, autoRefreshToken: t, persistSession: r, detectSessionInUrl: n, storage: s, userStorage: o, flowType: l, lock: c, debug: u, throwOnError: d, fetch: m, hasCustomAuthorizationHeader: Object.keys(this.headers).some(x => x.toLowerCase() === "authorization") }) } _initRealtimeClient(t) { return new zI.RealtimeClient(this.realtimeUrl.href, Object.assign(Object.assign({}, t), { params: Object.assign({ apikey: this.supabaseKey }, t == null ? void 0 : t.params) })) } _listenForAuthEvents() { return this.auth.onAuthStateChange((r, n) => { this._handleTokenChanged(r, "CLIENT", n == null ? void 0 : n.access_token) }) } _handleTokenChanged(t, r, n) { (t === "TOKEN_REFRESHED" || t === "SIGNED_IN") && this.changedAccessToken !== n ? (this.changedAccessToken = n, this.realtime.setAuth(n)) : t === "SIGNED_OUT" && (this.realtime.setAuth(), r == "STORAGE" && this.auth.signOut(), this.changedAccessToken = void 0) } }; Bc.default = WI; (function (e) { var t = go && go.__createBinding || (Object.create ? function (d, p, m, h) { h === void 0 && (h = m); var x = Object.getOwnPropertyDescriptor(p, m); (!x || ("get" in x ? !p.__esModule : x.writable || x.configurable)) && (x = { enumerable: !0, get: function () { return p[m] } }), Object.defineProperty(d, h, x) } : function (d, p, m, h) { h === void 0 && (h = m), d[h] = p[m] }), r = go && go.__exportStar || function (d, p) { for (var m in d) m !== "default" && !Object.prototype.hasOwnProperty.call(p, m) && t(p, d, m) }, n = go && go.__importDefault || function (d) { return d && d.__esModule ? d : { default: d } }; Object.defineProperty(e, "__esModule", { value: !0 }), e.createClient = e.SupabaseClient = e.FunctionRegion = e.FunctionsError = e.FunctionsRelayError = e.FunctionsFetchError = e.FunctionsHttpError = e.PostgrestError = void 0; const s = n(Bc); r(x1, e); var o = mt; Object.defineProperty(e, "PostgrestError", { enumerable: !0, get: function () { return o.PostgrestError } }); var a = _j; Object.defineProperty(e, "FunctionsHttpError", { enumerable: !0, get: function () { return a.FunctionsHttpError } }), Object.defineProperty(e, "FunctionsFetchError", { enumerable: !0, get: function () { return a.FunctionsFetchError } }), Object.defineProperty(e, "FunctionsRelayError", { enumerable: !0, get: function () { return a.FunctionsRelayError } }), Object.defineProperty(e, "FunctionsError", { enumerable: !0, get: function () { return a.FunctionsError } }), Object.defineProperty(e, "FunctionRegion", { enumerable: !0, get: function () { return a.FunctionRegion } }), r(Vj, e); var l = Bc; Object.defineProperty(e, "SupabaseClient", { enumerable: !0, get: function () { return n(l).default } }); const c = (d, p, m) => new s.default(d, p, m); e.createClient = c; function u() { if (typeof window < "u" || typeof process > "u") return !1; const d = process.version; if (d == null) return !1; const p = d.match(/^v(\d+)\./); return p ? parseInt(p[1], 10) <= 18 : !1 } u() && console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217") })(nm); const w1 = Bf(nm), qI = Wy({ __proto__: null, default: w1 }, [nm]), { PostgrestError: KI, FunctionsHttpError: GI, FunctionsFetchError: YI, FunctionsRelayError: QI, FunctionsError: JI, FunctionRegion: XI, SupabaseClient: ZI, createClient: pm, GoTrueAdminApi: e4, GoTrueClient: t4, AuthAdminApi: r4, AuthClient: n4, navigatorLock: s4, NavigatorLockAcquireTimeoutError: o4, lockInternals: i4, processLock: a4, SIGN_OUT_SCOPES: l4, AuthError: c4, AuthApiError: u4, AuthUnknownError: d4, CustomAuthError: h4, AuthSessionMissingError: f4, AuthInvalidTokenResponseError: p4, AuthInvalidCredentialsError: m4, AuthImplicitGrantRedirectError: g4, AuthPKCEGrantCodeExchangeError: v4, AuthRetryableFetchError: y4, AuthWeakPasswordError: x4, AuthInvalidJwtError: w4, isAuthError: b4, isAuthApiError: j4, isAuthSessionMissingError: S4, isAuthImplicitGrantRedirectError: _4, isAuthRetryableFetchError: N4, isAuthWeakPasswordError: E4, RealtimePresence: C4, RealtimeChannel: k4, RealtimeClient: P4, REALTIME_LISTEN_TYPES: T4, REALTIME_POSTGRES_CHANGES_LISTEN_EVENT: R4, REALTIME_PRESENCE_LISTEN_EVENTS: A4, REALTIME_SUBSCRIBE_STATES: O4, REALTIME_CHANNEL_STATES: I4 } = w1 || qI, b1 = Object.freeze(Object.defineProperty({ __proto__: null, AuthAdminApi: r4, AuthApiError: u4, AuthClient: n4, AuthError: c4, AuthImplicitGrantRedirectError: g4, AuthInvalidCredentialsError: m4, AuthInvalidJwtError: w4, AuthInvalidTokenResponseError: p4, AuthPKCEGrantCodeExchangeError: v4, AuthRetryableFetchError: y4, AuthSessionMissingError: f4, AuthUnknownError: d4, AuthWeakPasswordError: x4, CustomAuthError: h4, FunctionRegion: XI, FunctionsError: JI, FunctionsFetchError: YI, FunctionsHttpError: GI, FunctionsRelayError: QI, GoTrueAdminApi: e4, GoTrueClient: t4, NavigatorLockAcquireTimeoutError: o4, PostgrestError: KI, REALTIME_CHANNEL_STATES: I4, REALTIME_LISTEN_TYPES: T4, REALTIME_POSTGRES_CHANGES_LISTEN_EVENT: R4, REALTIME_PRESENCE_LISTEN_EVENTS: A4, REALTIME_SUBSCRIBE_STATES: O4, RealtimeChannel: k4, RealtimeClient: P4, RealtimePresence: C4, SIGN_OUT_SCOPES: l4, SupabaseClient: ZI, createClient: pm, isAuthApiError: j4, isAuthError: b4, isAuthImplicitGrantRedirectError: _4, isAuthRetryableFetchError: N4, isAuthSessionMissingError: S4, isAuthWeakPasswordError: E4, lockInternals: i4, navigatorLock: s4, processLock: a4 }, Symbol.toStringTag, { value: "Module" })), j1 = f.createContext(void 0), D4 = "https://xgynmajzjqljhhojtvcq.supabase.co", L4 = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhneW5tYWp6anFsamhob2p0dmNxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUzMTE5NTUsImV4cCI6MjA4MDg4Nzk1NX0.L-BUzVk3XUS-et4mB9bi1PcmLVFN_5pA_ykUD2Lme2s", Ps = pm(D4, L4); function $4({ children: e }) { const [t, r] = f.useState(null), [n, s] = f.useState(null), [o, a] = f.useState(!0); f.useEffect(() => { Ps.auth.getSession().then(({ data: { session: m } }) => { s(m), r((m == null ? void 0 : m.user) ?? null), a(!1) }); const { data: { subscription: p } } = Ps.auth.onAuthStateChange((m, h) => { s(h), r((h == null ? void 0 : h.user) ?? null), a(!1) }); return () => p.unsubscribe() }, []); const d = { user: t, session: n, loading: o, signUp: async (p, m) => { const { data: h, error: x } = await Ps.auth.signUp({ email: p, password: m }); if (x) throw x; if (!h.user) throw new Error("Failed to create user"); await new Promise(v => setTimeout(v, 500)); const { data: g, error: b } = await Ps.from("profiles").select("*").eq("id", h.user.id).single(); b && b.code !== "PGRST116" && (console.warn("Profile not found immediately after signup:", b.message), console.warn("This is normal if the database trigger hasn't run yet.")) }, signIn: async (p, m) => { const { data: h, error: x } = await Ps.auth.signInWithPassword({ email: p, password: m }); if (x) throw x; if (!h.user) throw new Error("Failed to sign in") }, signOut: async () => { const { error: p } = await Ps.auth.signOut(); if (p) throw p }, supabase: Ps }; return i.jsx(j1.Provider, { value: d, children: e }) } function ut() { const e = f.useContext(j1); if (e === void 0) throw new Error("useAuth must be used within an AuthProvider"); return e } const S1 = f.createContext(void 0); function M4({ children: e }) { const [t, r] = f.useState(() => { const o = localStorage.getItem("theme"); return o || (window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light") }); f.useEffect(() => { const o = document.documentElement; t === "dark" ? o.classList.add("dark") : o.classList.remove("dark"), localStorage.setItem("theme", t) }, [t]); const n = () => { r(o => o === "light" ? "dark" : "light") }, s = o => { r(o) }; return i.jsx(S1.Provider, { value: { theme: t, toggleTheme: n, setTheme: s }, children: e }) } function mm() { const e = f.useContext(S1); if (e === void 0) throw new Error("useTheme must be used within a ThemeProvider"); return e } function Rr({ children: e }) { const { user: t, loading: r } = ut(); return r ? i.jsx("div", { className: "min-h-screen flex items-center justify-center", children: i.jsx(Be, { className: "h-8 w-8 animate-spin text-primary" }) }) : t ? i.jsx(i.Fragment, { children: e }) : i.jsx(fA, { to: "/landing", replace: !0 }) } var F4 = Symbol.for("react.lazy"), Jc = ou[" use ".trim().toString()]; function U4(e) { return typeof e == "object" && e !== null && "then" in e } function _1(e) { return e != null && typeof e == "object" && "$$typeof" in e && e.$$typeof === F4 && "_payload" in e && U4(e._payload) } function Vu(e) { const t = B4(e), r = f.forwardRef((n, s) => { let { children: o, ...a } = n; _1(o) && typeof Jc == "function" && (o = Jc(o._payload)); const l = f.Children.toArray(o), c = l.find(H4); if (c) { const u = c.props.children, d = l.map(p => p === c ? f.Children.count(u) > 1 ? f.Children.only(null) : f.isValidElement(u) ? u.props.children : null : p); return i.jsx(t, { ...a, ref: s, children: f.isValidElement(u) ? f.cloneElement(u, void 0, d) : null }) } return i.jsx(t, { ...a, ref: s, children: o }) }); return r.displayName = `${e}.Slot`, r } var z4 = Vu("Slot"); function B4(e) { const t = f.forwardRef((r, n) => { let { children: s, ...o } = r; if (_1(s) && typeof Jc == "function" && (s = Jc(s._payload)), f.isValidElement(s)) { const a = q4(s), l = W4(o, s.props); return s.type !== f.Fragment && (l.ref = n ? _i(n, a) : a), f.cloneElement(s, l) } return f.Children.count(s) > 1 ? f.Children.only(null) : null }); return t.displayName = `${e}.SlotClone`, t } var V4 = Symbol("radix.slottable"); function H4(e) { return f.isValidElement(e) && typeof e.type == "function" && "__radixId" in e.type && e.type.__radixId === V4 } function W4(e, t) { const r = { ...t }; for (const n in t) { const s = e[n], o = t[n]; /^on[A-Z]/.test(n) ? s && o ? r[n] = (...l) => { const c = o(...l); return s(...l), c } : s && (r[n] = s) : n === "style" ? r[n] = { ...s, ...o } : n === "className" && (r[n] = [s, o].filter(Boolean).join(" ")) } return { ...e, ...r } } function q4(e) { var n, s; let t = (n = Object.getOwnPropertyDescriptor(e.props, "ref")) == null ? void 0 : n.get, r = t && "isReactWarning" in t && t.isReactWarning; return r ? e.ref : (t = (s = Object.getOwnPropertyDescriptor(e, "ref")) == null ? void 0 : s.get, r = t && "isReactWarning" in t && t.isReactWarning, r ? e.props.ref : e.props.ref || e.ref) } const K4 = Ga("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0", { variants: { variant: { default: "bg-primary text-primary-foreground hover:bg-primary/90", destructive: "bg-destructive text-destructive-foreground hover:bg-destructive/90", outline: "border border-input bg-background hover:bg-accent hover:text-accent-foreground", secondary: "bg-secondary text-secondary-foreground hover:bg-secondary/80", ghost: "hover:bg-accent hover:text-accent-foreground", link: "text-primary underline-offset-4 hover:underline" }, size: { default: "h-10 px-4 py-2", sm: "h-9 rounded-md px-3", lg: "h-11 rounded-md px-8", icon: "h-10 w-10" } }, defaultVariants: { variant: "default", size: "default" } }), H = f.forwardRef(({ className: e, variant: t, size: r, asChild: n = !1, ...s }, o) => { const a = n ? z4 : "button"; return i.jsx(a, { className: F(K4({ variant: t, size: r, className: e })), ref: o, ...s }) }); H.displayName = "Button"; const ae = f.forwardRef(({ className: e, type: t, ...r }, n) => i.jsx("input", { type: t, className: F("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm", e), ref: n, ...r })); ae.displayName = "Input"; const bt = f.forwardRef(({ className: e, ...t }, r) => i.jsx("div", { ref: r, className: F("rounded-lg border bg-card text-card-foreground shadow-sm", e), ...t })); bt.displayName = "Card"; const jt = f.forwardRef(({ className: e, ...t }, r) => i.jsx("div", { ref: r, className: F("flex flex-col space-y-1.5 p-6", e), ...t })); jt.displayName = "CardHeader"; const St = f.forwardRef(({ className: e, ...t }, r) => i.jsx("h3", { ref: r, className: F("text-2xl font-semibold leading-none tracking-tight", e), ...t })); St.displayName = "CardTitle"; const un = f.forwardRef(({ className: e, ...t }, r) => i.jsx("p", { ref: r, className: F("text-sm text-muted-foreground", e), ...t })); un.displayName = "CardDescription"; const Rt = f.forwardRef(({ className: e, ...t }, r) => i.jsx("div", { ref: r, className: F("p-6 pt-0", e), ...t })); Rt.displayName = "CardContent"; const G4 = f.forwardRef(({ className: e, ...t }, r) => i.jsx("div", { ref: r, className: F("flex items-center p-6 pt-0", e), ...t })); G4.displayName = "CardFooter"; const Y4 = () => i.jsxs("div", { className: "studyhub-logo-shell", children: [i.jsxs("div", { className: "studyhub-logo-particles", children: [i.jsx("div", { className: "particle" }), i.jsx("div", { className: "particle" }), i.jsx("div", { className: "particle" }), i.jsx("div", { className: "particle" }), i.jsx("div", { className: "particle" })] }), i.jsxs("div", { className: "studyhub-logo", children: [i.jsxs("div", { className: "book-icon", children: [i.jsx("div", { className: "book-spine" }), i.jsx("div", { className: "book-cover" }), i.jsx("div", { className: "page page-1" }), i.jsx("div", { className: "page page-2" }), i.jsx("div", { className: "page page-3" }), i.jsxs("div", { className: "bulb-container", children: [i.jsx("div", { className: "light-ray ray-1" }), i.jsx("div", { className: "light-ray ray-2" }), i.jsx("div", { className: "light-ray ray-3" }), i.jsx("div", { className: "bulb", children: i.jsx("div", { className: "bulb-base" }) })] })] }), i.jsxs("div", { className: "brand-name", children: [i.jsx("span", { className: "study", children: "Study" }), i.jsx("span", { className: "hub", children: "Hub" })] }), i.jsx("div", { className: "tagline", children: "Learn smarter. Shine brighter." })] })] }), Rf = () => i.jsx("div", { className: "logo-icon-shell", "aria-label": "Study Spark Hub animated logo", children: i.jsx("div", { className: "logo-icon-scale", children: i.jsxs("div", { className: "logo-book-icon", children: [i.jsx("div", { className: "logo-book-spine" }), i.jsx("div", { className: "logo-book-cover" }), i.jsx("div", { className: "logo-page logo-page-1" }), i.jsx("div", { className: "logo-page logo-page-2" }), i.jsx("div", { className: "logo-page logo-page-3" }), i.jsxs("div", { className: "logo-bulb-container", children: [i.jsx("div", { className: "logo-light-ray logo-ray-1" }), i.jsx("div", { className: "logo-light-ray logo-ray-2" }), i.jsx("div", { className: "logo-light-ray logo-ray-3" }), i.jsx("div", { className: "logo-bulb", children: i.jsx("div", { className: "logo-bulb-base" }) })] })] }) }) }); function Q4() { const [e, t] = f.useState(""), [r, n] = f.useState(!1), { toast: s } = bn(), o = async a => { if (a.preventDefault(), !!e.trim()) { n(!0); try { const l = "https://xgynmajzjqljhhojtvcq.supabase.co", c = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhneW5tYWp6anFsamhob2p0dmNxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUzMTE5NTUsImV4cCI6MjA4MDg4Nzk1NX0.L-BUzVk3XUS-et4mB9bi1PcmLVFN_5pA_ykUD2Lme2s", u = pm(l, c), { error: d } = await u.from("email_subscriptions").insert({ email: e.trim(), source: "landing_page", subscribed_at: new Date().toISOString() }); d && console.warn("Email subscription table may not exist:", d), s({ title: "Subscribed!", description: "Thank you for subscribing to our newsletter." }), t("") } catch (l) { console.error("Error subscribing:", l), s({ title: "Subscribed!", description: "Thank you for subscribing to our newsletter." }), t("") } finally { n(!1) } } }; return i.jsxs("form", { onSubmit: o, className: "flex gap-2", children: [i.jsxs("div", { className: "relative flex-1", children: [i.jsx(z0, { className: "absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground" }), i.jsx(ae, { type: "email", placeholder: "Enter your email", value: e, onChange: a => t(a.target.value), className: "pl-9", required: !0, disabled: r })] }), i.jsx(H, { type: "submit", disabled: r || !e.trim(), children: r ? i.jsx(Be, { className: "h-4 w-4 animate-spin" }) : "Subscribe" })] }) } function J4() { const { theme: e, toggleTheme: t } = mm(), r = [{ icon: mn, title: "Exam Notes", description: "Organized notes by subject and topic with highlights", link: "/notes" }, { icon: Ni, title: "Flashcards", description: "Interactive cards with quiz mode and progress tracking", link: "/flashcards" }, { icon: cn, title: "Past Papers", description: "Practice with marked answers and timed quizzes", link: "/past-papers" }, { icon: Mr, title: "Knowledge Organizers", description: "Visual summaries with collapsible sections", link: "/knowledge" }, { icon: Fr, title: "Extracurriculars", description: "Track activities, hours, and achievements", link: "/extracurricular" }, { icon: Ei, title: "AI Question Bank", description: "AI-generated questions tailored to your subjects", link: "/ai-tutor" }], n = ["Organize all your study materials in one place", "Track your progress across all subjects", "Access past papers and practice questions", "Create and review flashcards efficiently", "Monitor your extracurricular activities", "Get personalized study recommendations"]; return i.jsxs("div", { className: "min-h-screen bg-gradient-to-b from-background to-muted/20 landing-grid-bg relative", children: [i.jsx("header", { className: "border-b border-border bg-background/80 backdrop-blur-xl sticky top-0 z-50", children: i.jsxs("div", { className: "container mx-auto px-4 py-4 flex items-center justify-between", children: [i.jsxs("div", { className: "flex items-center gap-3", children: [i.jsx(Rf, {}), i.jsx("h1", { className: "font-bold text-xl", children: "Study Spark Hub" })] }), i.jsxs("div", { className: "flex items-center gap-3", children: [i.jsx(H, { variant: "ghost", size: "icon", onClick: t, className: "h-9 w-9", "aria-label": "Toggle theme", children: e === "light" ? i.jsx(B0, { className: "h-5 w-5" }) : i.jsx(W0, { className: "h-5 w-5" }) }), i.jsx(H, { variant: "ghost", asChild: !0, children: i.jsx(He, { to: "/login", children: "Sign In" }) }), i.jsx(H, { asChild: !0, children: i.jsx(He, { to: "/signup", children: "Get Started" }) })] })] }) }), i.jsx("section", { className: "container mx-auto px-4 py-20 md:py-32", children: i.jsxs("div", { className: "grid grid-cols-1 lg:grid-cols-2 gap-12 items-center", children: [i.jsxs("div", { className: "space-y-6 text-center lg:text-left", children: [i.jsxs("h1", { className: "text-4xl md:text-6xl font-bold tracking-tight", children: ["Your All-in-One", i.jsxs("span", { className: "bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent", children: [" ", "Study Companion"] })] }), i.jsx("p", { className: "text-xl text-muted-foreground max-w-2xl mx-auto lg:mx-0", children: "Organize notes, practice with flashcards, review past papers, and track your progressall in one powerful platform designed for students." }), i.jsxs("div", { className: "flex flex-col sm:flex-row gap-4 justify-center lg:justify-start pt-4", children: [i.jsx(H, { size: "lg", asChild: !0, className: "text-lg px-8", children: i.jsxs(He, { to: "/signup", children: ["Get Started Free", i.jsx(Qh, { className: "ml-2 h-5 w-5" })] }) }), i.jsx(H, { size: "lg", variant: "outline", asChild: !0, className: "text-lg px-8", children: i.jsx(He, { to: "/login", children: "Sign In" }) })] })] }), i.jsx(Y4, {})] }) }), i.jsxs("section", { className: "container mx-auto px-4 py-20", children: [i.jsxs("div", { className: "text-center mb-12", children: [i.jsx("h2", { className: "text-3xl md:text-4xl font-bold mb-4", children: "Everything You Need to Succeed" }), i.jsx("p", { className: "text-muted-foreground text-lg max-w-2xl mx-auto", children: "Powerful tools designed to help you study smarter, not harder" })] }), i.jsx("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto", children: r.map(s => { const o = s.icon; return i.jsx(He, { to: s.link, className: "block", children: i.jsx(bt, { className: "hover:shadow-lg transition-shadow cursor-pointer group h-full", children: i.jsxs(jt, { children: [i.jsx("div", { className: "w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4 group-hover:bg-primary/20 transition-colors", children: i.jsx(o, { className: "h-6 w-6 text-primary" }) }), i.jsx(St, { className: "group-hover:text-primary transition-colors", children: s.title }), i.jsx(un, { children: s.description })] }) }) }, s.title) }) })] }), i.jsx("section", { className: "container mx-auto px-4 py-20 bg-muted/50 rounded-3xl my-20", children: i.jsxs("div", { className: "max-w-4xl mx-auto", children: [i.jsxs("div", { className: "text-center mb-12", children: [i.jsx("h2", { className: "text-3xl md:text-4xl font-bold mb-4", children: "Why Choose Study Spark Hub?" }), i.jsx("p", { className: "text-muted-foreground text-lg", children: "Join thousands of students who are already improving their study habits" })] }), i.jsx("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: n.map(s => i.jsxs("div", { className: "flex items-start gap-3", children: [i.jsx("div", { className: "w-6 h-6 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0 mt-0.5", children: i.jsx(Xs, { className: "h-4 w-4 text-primary" }) }), i.jsx("p", { className: "text-foreground", children: s })] }, s)) })] }) }), i.jsx("section", { className: "container mx-auto px-4 py-20", children: i.jsxs(bt, { className: "max-w-2xl mx-auto bg-gradient-to-br from-primary/10 to-secondary/10 border-primary/20", children: [i.jsxs(jt, { className: "text-center", children: [i.jsx(St, { className: "text-2xl mb-2", children: "Stay Updated" }), i.jsx(un, { className: "text-base", children: "Subscribe to our newsletter for study tips, feature updates, and exclusive content." })] }), i.jsx(Rt, { children: i.jsx(Q4, {}) })] }) }), i.jsx("section", { className: "container mx-auto px-4 py-20", children: i.jsxs(bt, { className: "max-w-3xl mx-auto bg-gradient-to-br from-primary/10 to-secondary/10 border-primary/20", children: [i.jsxs(jt, { className: "text-center", children: [i.jsx(St, { className: "text-3xl mb-4", children: "Ready to Transform Your Study Habits?" }), i.jsx(un, { className: "text-lg", children: "Start organizing your studies today. It's free to get started." })] }), i.jsx(Rt, { className: "text-center", children: i.jsx(H, { size: "lg", asChild: !0, className: "text-lg px-8", children: i.jsxs(He, { to: "/signup", children: ["Create Your Account", i.jsx(Qh, { className: "ml-2 h-5 w-5" })] }) }) })] }) }), i.jsx("footer", { className: "border-t border-border bg-background/80 backdrop-blur-xl mt-20", children: i.jsxs("div", { className: "container mx-auto px-4 py-12", children: [i.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-4 gap-8 mb-8", children: [i.jsxs("div", { className: "space-y-4", children: [i.jsxs("div", { className: "flex items-center gap-3", children: [i.jsx(Rf, {}), i.jsx("h3", { className: "font-bold text-lg", children: "Study Spark Hub" })] }), i.jsx("p", { className: "text-sm text-muted-foreground", children: "Your all-in-one study companion for organized learning and academic success." })] }), i.jsxs("div", { children: [i.jsx("h4", { className: "font-semibold mb-4", children: "Legal" }), i.jsxs("ul", { className: "space-y-2 text-sm", children: [i.jsx("li", { children: i.jsx(He, { to: "/terms", className: "text-muted-foreground hover:text-foreground transition-colors", children: "Terms and Conditions" }) }), i.jsx("li", { children: i.jsx(He, { to: "/returns", className: "text-muted-foreground hover:text-foreground transition-colors", children: "Returns and Refunds" }) })] })] }), i.jsxs("div", { children: [i.jsx("h4", { className: "font-semibold mb-4", children: "Support" }), i.jsxs("ul", { className: "space-y-2 text-sm", children: [i.jsx("li", { children: i.jsx(He, { to: "/faq", className: "text-muted-foreground hover:text-foreground transition-colors", children: "FAQ" }) }), i.jsx("li", { children: i.jsx(He, { to: "/contact", className: "text-muted-foreground hover:text-foreground transition-colors", children: "Contact Us" }) })] })] }), i.jsxs("div", { children: [i.jsx("h4", { className: "font-semibold mb-4", children: "Account" }), i.jsxs("ul", { className: "space-y-2 text-sm", children: [i.jsx("li", { children: i.jsx(He, { to: "/login", className: "text-muted-foreground hover:text-foreground transition-colors", children: "Sign In" }) }), i.jsx("li", { children: i.jsx(He, { to: "/signup", className: "text-muted-foreground hover:text-foreground transition-colors", children: "Sign Up" }) })] })] })] }), i.jsxs("div", { className: "border-t border-border pt-8 flex flex-col md:flex-row items-center justify-between gap-4", children: [i.jsx("p", { className: "text-sm text-muted-foreground", children: " 2024 Study Spark Hub. All rights reserved." }), i.jsxs("div", { className: "flex gap-6 text-sm text-muted-foreground", children: [i.jsx(He, { to: "/terms", className: "hover:text-foreground transition-colors", children: "Terms" }), i.jsx(He, { to: "/faq", className: "hover:text-foreground transition-colors", children: "FAQ" }), i.jsx(He, { to: "/returns", className: "hover:text-foreground transition-colors", children: "Returns" })] })] })] }) })] }) } var X4 = ["a", "button", "div", "form", "h2", "h3", "img", "input", "label", "li", "nav", "ol", "p", "select", "span", "svg", "ul"], Z4 = X4.reduce((e, t) => { const r = Vu(`Primitive.${t}`), n = f.forwardRef((s, o) => { const { asChild: a, ...l } = s, c = a ? r : t; return typeof window < "u" && (window[Symbol.for("radix-ui")] = !0), i.jsx(c, { ...l, ref: o }) }); return n.displayName = `Primitive.${t}`, { ...e, [t]: n } }, {}), eD = "Label", N1 = f.forwardRef((e, t) => i.jsx(Z4.label, { ...e, ref: t, onMouseDown: r => { var s; r.target.closest("button, input, select, textarea") || ((s = e.onMouseDown) == null || s.call(e, r), !r.defaultPrevented && r.detail > 1 && r.preventDefault()) } })); N1.displayName = eD; var E1 = N1; const tD = Ga("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"), ie = f.forwardRef(({ className: e, ...t }, r) => i.jsx(E1, { ref: r, className: F(tD(), e), ...t })); ie.displayName = E1.displayName; const rD = Ga("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground", { variants: { variant: { default: "bg-background text-foreground", destructive: "border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive" } }, defaultVariants: { variant: "default" } }), gm = f.forwardRef(({ className: e, variant: t, ...r }, n) => i.jsx("div", { ref: n, role: "alert", className: F(rD({ variant: t }), e), ...r })); gm.displayName = "Alert"; const nD = f.forwardRef(({ className: e, ...t }, r) => i.jsx("h5", { ref: r, className: F("mb-1 font-medium leading-none tracking-tight", e), ...t })); nD.displayName = "AlertTitle"; const vm = f.forwardRef(({ className: e, ...t }, r) => i.jsx("div", { ref: r, className: F("text-sm [&_p]:leading-relaxed", e), ...t })); vm.displayName = "AlertDescription"; function sD() { const [e, t] = f.useState(""), [r, n] = f.useState(""), [s, o] = f.useState(""), [a, l] = f.useState(!1), { signIn: c, user: u, loading: d } = ut(), p = Sn(); f.useEffect(() => { !d && u && p("/") }, [u, d, p]); const m = async h => { h.preventDefault(), o(""), l(!0); try { await c(e, r), p("/") } catch (x) { o(x.message || "Failed to sign in. Please check your credentials.") } finally { l(!1) } }; return i.jsx("div", { className: "min-h-screen flex items-center justify-center bg-gradient-to-b from-background to-muted/20 p-4", children: i.jsxs(bt, { className: "w-full max-w-md", children: [i.jsxs(jt, { className: "space-y-1 text-center", children: [i.jsx("div", { className: "w-12 h-12 rounded-xl bg-gradient-to-br from-primary to-secondary flex items-center justify-center mx-auto mb-4", children: i.jsx("span", { className: "text-primary-foreground font-bold", children: "SH" }) }), i.jsx(St, { className: "text-2xl font-bold", children: "Welcome Back" }), i.jsx(un, { children: "Sign in to your account to continue your studies" })] }), i.jsxs(Rt, { children: [i.jsxs("form", { onSubmit: m, className: "space-y-4", children: [s && i.jsx(gm, { variant: "destructive", children: i.jsx(vm, { children: s }) }), i.jsxs("div", { className: "space-y-2", children: [i.jsx(ie, { htmlFor: "email", children: "Email" }), i.jsx(ae, { id: "email", type: "email", placeholder: "you@example.com", value: e, onChange: h => t(h.target.value), required: !0, disabled: a })] }), i.jsxs("div", { className: "space-y-2", children: [i.jsxs("div", { className: "flex items-center justify-between", children: [i.jsx(ie, { htmlFor: "password", children: "Password" }), i.jsx(He, { to: "/forgot-password", className: "text-sm text-primary hover:underline", children: "Forgot password?" })] }), i.jsx(ae, { id: "password", type: "password", placeholder: "Enter your password", value: r, onChange: h => n(h.target.value), required: !0, disabled: a })] }), i.jsx(H, { type: "submit", className: "w-full", disabled: a, children: a ? i.jsxs(i.Fragment, { children: [i.jsx(Be, { className: "mr-2 h-4 w-4 animate-spin" }), "Signing in..."] }) : "Sign In" })] }), i.jsxs("div", { className: "mt-6 text-center text-sm", children: [i.jsx("span", { className: "text-muted-foreground", children: "Don't have an account? " }), i.jsx(He, { to: "/signup", className: "text-primary hover:underline font-medium", children: "Sign up" })] })] })] }) }) } function oD() { const [e, t] = f.useState(""), [r, n] = f.useState(""), [s, o] = f.useState(""), [a, l] = f.useState(""), [c, u] = f.useState(!1), [d, p] = f.useState(!1), { signUp: m, user: h, loading: x } = ut(), g = Sn(); f.useEffect(() => { !x && h && !d && g("/") }, [h, x, g, d]); const b = async v => { if (v.preventDefault(), l(""), r !== s) { l("Passwords do not match"); return } if (r.length < 6) { l("Password must be at least 6 characters long"); return } u(!0); try { await m(e, r), p(!0) } catch (y) { l(y.message || "Failed to create account. Please try again.") } finally { u(!1) } }; return i.jsx("div", { className: "min-h-screen flex items-center justify-center bg-gradient-to-b from-background to-muted/20 p-4", children: i.jsxs(bt, { className: "w-full max-w-md", children: [i.jsxs(jt, { className: "space-y-1 text-center", children: [i.jsx("div", { className: "w-12 h-12 rounded-xl bg-gradient-to-br from-primary to-secondary flex items-center justify-center mx-auto mb-4", children: i.jsx("span", { className: "text-primary-foreground font-bold", children: "SH" }) }), i.jsx(St, { className: "text-2xl font-bold", children: "Create Account" }), i.jsx(un, { children: "Sign up to start organizing your studies" })] }), i.jsx(Rt, { children: d ? i.jsxs("div", { className: "space-y-4 text-center py-4", children: [i.jsx("div", { className: "flex justify-center", children: i.jsx("div", { className: "rounded-full bg-primary/10 p-3", children: i.jsx(Yi, { className: "h-8 w-8 text-primary" }) }) }), i.jsxs("div", { className: "space-y-2", children: [i.jsx("h3", { className: "text-lg font-semibold", children: "Sign Up Complete!" }), i.jsx("p", { className: "text-sm text-muted-foreground", children: "Check your email for confirmation. Please verify your email address to continue." })] }), i.jsx(H, { onClick: () => g("/login"), className: "w-full", children: "Go to Sign In" })] }) : i.jsxs(i.Fragment, { children: [i.jsxs("form", { onSubmit: b, className: "space-y-4", children: [a && i.jsx(gm, { variant: "destructive", children: i.jsx(vm, { children: a }) }), i.jsxs("div", { className: "space-y-2", children: [i.jsx(ie, { htmlFor: "email", children: "Email" }), i.jsx(ae, { id: "email", type: "email", placeholder: "you@example.com", value: e, onChange: v => t(v.target.value), required: !0, disabled: c })] }), i.jsxs("div", { className: "space-y-2", children: [i.jsx(ie, { htmlFor: "password", children: "Password" }), i.jsx(ae, { id: "password", type: "password", placeholder: "At least 6 characters", value: r, onChange: v => n(v.target.value), required: !0, disabled: c })] }), i.jsxs("div", { className: "space-y-2", children: [i.jsx(ie, { htmlFor: "confirmPassword", children: "Confirm Password" }), i.jsx(ae, { id: "confirmPassword", type: "password", placeholder: "Confirm your password", value: s, onChange: v => o(v.target.value), required: !0, disabled: c })] }), i.jsx(H, { type: "submit", className: "w-full", disabled: c, children: c ? i.jsxs(i.Fragment, { children: [i.jsx(Be, { className: "mr-2 h-4 w-4 animate-spin" }), "Creating account..."] }) : "Create Account" })] }), i.jsxs("div", { className: "mt-6 text-center text-sm", children: [i.jsx("span", { className: "text-muted-foreground", children: "Already have an account? " }), i.jsx(He, { to: "/login", className: "text-primary hover:underline font-medium", children: "Sign in" })] })] }) })] }) }) } function iD(e, t = []) { let r = []; function n(o, a) { const l = f.createContext(a); l.displayName = o + "Context"; const c = r.length; r = [...r, a]; const u = p => { var v; const { scope: m, children: h, ...x } = p, g = ((v = m == null ? void 0 : m[e]) == null ? void 0 : v[c]) || l, b = f.useMemo(() => x, Object.values(x)); return i.jsx(g.Provider, { value: b, children: h }) }; u.displayName = o + "Provider"; function d(p, m) { var g; const h = ((g = m == null ? void 0 : m[e]) == null ? void 0 : g[c]) || l, x = f.useContext(h); if (x) return x; if (a !== void 0) return a; throw new Error(`\`${p}\` must be used within \`${o}\``) } return [u, d] } const s = () => { const o = r.map(a => f.createContext(a)); return function (l) { const c = (l == null ? void 0 : l[e]) || o; return f.useMemo(() => ({ [`__scope${e}`]: { ...l, [e]: c } }), [l, c]) } }; return s.scopeName = e, [n, aD(s, ...t)] } function aD(...e) { const t = e[0]; if (e.length === 1) return t; const r = () => { const n = e.map(s => ({ useScope: s(), scopeName: s.scopeName })); return function (o) { const a = n.reduce((l, { useScope: c, scopeName: u }) => { const p = c(o)[`__scope${u}`]; return { ...l, ...p } }, {}); return f.useMemo(() => ({ [`__scope${t.scopeName}`]: a }), [a]) } }; return r.scopeName = t.scopeName, r } var lD = ["a", "button", "div", "form", "h2", "h3", "img", "input", "label", "li", "nav", "ol", "p", "select", "span", "svg", "ul"], ym = lD.reduce((e, t) => { const r = Vu(`Primitive.${t}`), n = f.forwardRef((s, o) => { const { asChild: a, ...l } = s, c = a ? r : t; return typeof window < "u" && (window[Symbol.for("radix-ui")] = !0), i.jsx(c, { ...l, ref: o }) }); return n.displayName = `Primitive.${t}`, { ...e, [t]: n } }, {}), C1 = { exports: {} }, k1 = {};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yi = f; function cD(e, t) { return e === t && (e !== 0 || 1 / e === 1 / t) || e !== e && t !== t } var uD = typeof Object.is == "function" ? Object.is : cD, dD = yi.useState, hD = yi.useEffect, fD = yi.useLayoutEffect, pD = yi.useDebugValue; function mD(e, t) { var r = t(), n = dD({ inst: { value: r, getSnapshot: t } }), s = n[0].inst, o = n[1]; return fD(function () { s.value = r, s.getSnapshot = t, Wd(s) && o({ inst: s }) }, [e, r, t]), hD(function () { return Wd(s) && o({ inst: s }), e(function () { Wd(s) && o({ inst: s }) }) }, [e]), pD(r), r } function Wd(e) { var t = e.getSnapshot; e = e.value; try { var r = t(); return !uD(e, r) } catch { return !0 } } function gD(e, t) { return t() } var vD = typeof window > "u" || typeof window.document > "u" || typeof window.document.createElement > "u" ? gD : mD; k1.useSyncExternalStore = yi.useSyncExternalStore !== void 0 ? yi.useSyncExternalStore : vD; C1.exports = k1; var yD = C1.exports; function xD() { return yD.useSyncExternalStore(wD, () => !0, () => !1) } function wD() { return () => { } } var xm = "Avatar", [bD] = iD(xm), [jD, P1] = bD(xm), T1 = f.forwardRef((e, t) => { const { __scopeAvatar: r, ...n } = e, [s, o] = f.useState("idle"); return i.jsx(jD, { scope: r, imageLoadingStatus: s, onImageLoadingStatusChange: o, children: i.jsx(ym.span, { ...n, ref: t }) }) }); T1.displayName = xm; var R1 = "AvatarImage", A1 = f.forwardRef((e, t) => { const { __scopeAvatar: r, src: n, onLoadingStatusChange: s = () => { }, ...o } = e, a = P1(R1, r), l = SD(n, o), c = Xe(u => { s(u), a.onImageLoadingStatusChange(u) }); return Ve(() => { l !== "idle" && c(l) }, [l, c]), l === "loaded" ? i.jsx(ym.img, { ...o, ref: t, src: n }) : null }); A1.displayName = R1; var O1 = "AvatarFallback", I1 = f.forwardRef((e, t) => { const { __scopeAvatar: r, delayMs: n, ...s } = e, o = P1(O1, r), [a, l] = f.useState(n === void 0); return f.useEffect(() => { if (n !== void 0) { const c = window.setTimeout(() => l(!0), n); return () => window.clearTimeout(c) } }, [n]), a && o.imageLoadingStatus !== "loaded" ? i.jsx(ym.span, { ...s, ref: t }) : null }); I1.displayName = O1; function yy(e, t) { return e ? t ? (e.src !== t && (e.src = t), e.complete && e.naturalWidth > 0 ? "loaded" : "loading") : "error" : "idle" } function SD(e, { referrerPolicy: t, crossOrigin: r }) { const n = xD(), s = f.useRef(null), o = n ? (s.current || (s.current = new window.Image), s.current) : null, [a, l] = f.useState(() => yy(o, e)); return Ve(() => { l(yy(o, e)) }, [o, e]), Ve(() => { const c = p => () => { l(p) }; if (!o) return; const u = c("loaded"), d = c("error"); return o.addEventListener("load", u), o.addEventListener("error", d), t && (o.referrerPolicy = t), typeof r == "string" && (o.crossOrigin = r), () => { o.removeEventListener("load", u), o.removeEventListener("error", d) } }, [o, r, t]), a } var D1 = T1, L1 = A1, $1 = I1; const wm = f.forwardRef(({ className: e, ...t }, r) => i.jsx(D1, { ref: r, className: F("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full", e), ...t })); wm.displayName = D1.displayName; const bm = f.forwardRef(({ className: e, ...t }, r) => i.jsx(L1, { ref: r, className: F("aspect-square h-full w-full", e), ...t })); bm.displayName = L1.displayName; const jm = f.forwardRef(({ className: e, ...t }, r) => i.jsx($1, { ref: r, className: F("flex h-full w-full items-center justify-center rounded-full bg-muted", e), ...t })); jm.displayName = $1.displayName; const _D = [{ icon: F0, label: "Dashboard", path: "/" }, { icon: mn, label: "Exam Notes", path: "/notes" }, { icon: Ni, label: "Flashcards", path: "/flashcards" }, { icon: cn, label: "Past Papers", path: "/past-papers" }, { icon: Mr, label: "Knowledge Organizers", path: "/knowledge" }, { icon: Fr, label: "Extracurriculars", path: "/extracurricular" }], ND = [{ icon: zk, label: "Settings", path: "/settings" }]; function ED() { var m, h; const [e, t] = f.useState(!1), r = Kt(), { user: n, signOut: s, supabase: o } = ut(), { theme: a, toggleTheme: l } = mm(), c = Sn(), [u, d] = f.useState(null); f.useEffect(() => { if (!n) return; (async () => { try { const { data: g } = await o.from("profiles").select("avatar_url").eq("id", n.id).single(); g != null && g.avatar_url && d(g.avatar_url) } catch (g) { console.error("Error fetching avatar:", g) } })() }, [n, o]); const p = async () => { try { await s(), c("/landing") } catch (x) { console.error("Error signing out:", x) } }; return i.jsxs("aside", { className: F("fixed left-0 top-0 z-40 h-screen bg-sidebar border-r border-sidebar-border transition-all duration-300 ease-out flex flex-col", e ? "w-20" : "w-72"), children: [i.jsxs("div", { className: "flex items-center justify-between p-4 border-b border-sidebar-border", children: [i.jsxs("div", { className: F("flex items-center gap-3", e && "justify-center w-full"), children: [i.jsx(Rf, {}), !e && i.jsxs("div", { className: "animate-fade-in", children: [i.jsx("h1", { className: "font-bold text-lg text-sidebar-foreground", children: "Scienta-AI" }), i.jsx("p", { className: "text-xs text-muted-foreground", children: "Learn smarter" })] })] }), i.jsx(H, { variant: "ghost", size: "icon", onClick: () => t(!e), className: F("h-8 w-8 text-muted-foreground hover:text-sidebar-foreground", e && "hidden"), children: i.jsx(I0, { className: "h-4 w-4" }) })] }), !e && i.jsx("div", { className: "p-4 animate-fade-in", children: i.jsxs("div", { className: "relative", children: [i.jsx(mo, { className: "absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground" }), i.jsx(ae, { placeholder: "Search...", className: "pl-9 bg-sidebar-accent border-0 focus-visible:ring-1 focus-visible:ring-sidebar-ring" })] }) }), i.jsxs("nav", { className: "flex-1 p-3 space-y-1 overflow-y-auto", children: [_D.map((x, g) => { const b = r.pathname === x.path; return i.jsxs(nc, { to: x.path, className: F("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 group", b ? "bg-primary text-primary-foreground shadow-md" : "text-muted-foreground hover:text-sidebar-foreground hover:bg-sidebar-accent", e && "justify-center px-2", `animate-slide-in-left stagger-${g + 1}`), style: { opacity: 0 }, children: [i.jsx(x.icon, { className: F("h-5 w-5 flex-shrink-0", b && "animate-bounce-subtle") }), !e && i.jsx("span", { className: "font-medium text-sm", children: x.label })] }, x.path) }), i.jsxs("div", { className: F("mt-6 pt-4 border-t border-sidebar-border", e && "border-none mt-4 pt-2"), children: [!e && i.jsx("p", { className: "px-3 mb-2 text-xs font-semibold text-muted-foreground uppercase tracking-wider animate-fade-in", children: "Premium" }), i.jsxs(nc, { to: "/premium", className: F("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 group", r.pathname === "/premium" ? "bg-premium text-premium-foreground" : "text-muted-foreground hover:text-premium hover:bg-premium/10", e && "justify-center px-2"), children: [i.jsx(ns, { className: "h-5 w-5 flex-shrink-0" }), !e && i.jsxs("div", { className: "flex items-center gap-2", children: [i.jsx("span", { className: "font-medium text-sm", children: "Go Premium" }), i.jsx("span", { className: "premium-badge", children: "PRO" })] })] })] })] }), i.jsxs("div", { className: "p-3 border-t border-sidebar-border", children: [ND.map(x => { const g = r.pathname === x.path; return i.jsxs(nc, { to: x.path, className: F("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200", g ? "bg-sidebar-accent text-sidebar-foreground" : "text-muted-foreground hover:text-sidebar-foreground hover:bg-sidebar-accent", e && "justify-center px-2"), children: [i.jsx(x.icon, { className: "h-5 w-5 flex-shrink-0" }), !e && i.jsx("span", { className: "font-medium text-sm", children: x.label })] }, x.path) }), i.jsxs("div", { className: F("mt-3 p-3 rounded-xl bg-sidebar-accent flex items-center gap-3", e && "justify-center p-2"), children: [i.jsxs(wm, { className: "h-9 w-9 border-2 border-primary/20", children: [i.jsx(bm, { src: u || `https://api.dicebear.com/7.x/avataaars/svg?seed=${n == null ? void 0 : n.email}` }), i.jsx(jm, { children: ((m = n == null ? void 0 : n.email) == null ? void 0 : m.charAt(0).toUpperCase()) || "U" })] }), !e && i.jsxs("div", { className: "flex-1 min-w-0 animate-fade-in", children: [i.jsx("p", { className: "text-sm font-semibold text-sidebar-foreground truncate", children: ((h = n == null ? void 0 : n.email) == null ? void 0 : h.split("@")[0]) || "User" }), i.jsx("p", { className: "text-xs text-muted-foreground truncate", children: n == null ? void 0 : n.email })] })] }), i.jsxs(H, { variant: "ghost", onClick: l, className: F("mt-2 w-full justify-start text-muted-foreground hover:text-foreground", e && "justify-center px-2"), children: [a === "light" ? i.jsx(B0, { className: "h-5 w-5 flex-shrink-0" }) : i.jsx(W0, { className: "h-5 w-5 flex-shrink-0" }), !e && i.jsx("span", { className: "font-medium text-sm ml-3", children: a === "light" ? "Dark Mode" : "Light Mode" })] }), i.jsxs(H, { variant: "ghost", onClick: p, className: F("mt-2 w-full justify-start text-muted-foreground hover:text-destructive", e && "justify-center px-2"), children: [i.jsx(Dk, { className: "h-5 w-5 flex-shrink-0" }), !e && i.jsx("span", { className: "font-medium text-sm ml-3", children: "Sign Out" })] })] }), e && i.jsx(H, { variant: "ghost", size: "icon", onClick: () => t(!1), className: "absolute top-4 -right-4 h-8 w-8 rounded-full bg-card border border-border shadow-md text-muted-foreground hover:text-foreground", children: i.jsx(Ya, { className: "h-4 w-4" }) })] }) } const CD = [{ icon: F0, label: "Home", path: "/" }, { icon: mn, label: "Notes", path: "/notes" }, { icon: Ni, label: "Cards", path: "/flashcards" }, { icon: cn, label: "Papers", path: "/past-papers" }, { icon: Fr, label: "Activity", path: "/extracurricular" }]; function kD() { const e = Kt(); return i.jsx("nav", { className: "fixed bottom-0 left-0 right-0 z-50 bg-card/95 backdrop-blur-xl border-t border-border md:hidden safe-area-inset-bottom", children: i.jsx("div", { className: "flex items-center justify-around px-2 py-2", children: CD.map(t => { const r = e.pathname === t.path; return i.jsxs(nc, { to: t.path, className: F("flex flex-col items-center gap-1 px-3 py-2 rounded-xl transition-all duration-200 min-w-[60px]", r ? "text-primary" : "text-muted-foreground"), children: [i.jsx("div", { className: F("p-2 rounded-xl transition-all duration-200", r && "bg-primary/10"), children: i.jsx(t.icon, { className: F("h-5 w-5", r && "animate-bounce-subtle") }) }), i.jsx("span", { className: F("text-[10px] font-medium", r && "font-semibold"), children: t.label })] }, t.path) }) }) }) } function qe({ children: e }) { return i.jsxs("div", { className: "min-h-screen bg-background", children: [i.jsx("div", { className: "hidden md:block", children: i.jsx(ED, {}) }), i.jsxs("main", { className: "md:ml-72 min-h-screen transition-all duration-300", children: [i.jsxs("header", { className: "sticky top-0 z-30 bg-background/80 backdrop-blur-xl border-b border-border md:hidden", children: [i.jsxs("div", { className: "flex items-center justify-between px-4 py-3", children: [i.jsxs("div", { className: "flex items-center gap-3", children: [i.jsx("div", { className: "w-9 h-9 rounded-xl bg-gradient-to-br from-primary to-secondary flex items-center justify-center", children: i.jsx("span", { className: "text-primary-foreground font-bold text-sm", children: "SH" }) }), i.jsx("h1", { className: "font-bold text-lg", children: "Scientia-AI" })] }), i.jsx("div", { className: "flex items-center gap-2", children: i.jsxs(H, { variant: "ghost", size: "icon", className: "relative", children: [i.jsx(O0, { className: "h-5 w-5" }), i.jsx("span", { className: "absolute top-1.5 right-1.5 w-2 h-2 bg-destructive rounded-full" })] }) })] }), i.jsx("div", { className: "px-4 pb-3", children: i.jsxs("div", { className: "relative", children: [i.jsx(mo, { className: "absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground" }), i.jsx(ae, { placeholder: "Search notes, flashcards, papers...", className: "pl-9 bg-muted border-0" })] }) })] }), i.jsx("div", { className: "p-4 md:p-8 pb-24 md:pb-8", children: e })] }), i.jsx(kD, {})] }) } function PD(e, t = []) { let r = []; function n(o, a) { const l = f.createContext(a); l.displayName = o + "Context"; const c = r.length; r = [...r, a]; const u = p => { var v; const { scope: m, children: h, ...x } = p, g = ((v = m == null ? void 0 : m[e]) == null ? void 0 : v[c]) || l, b = f.useMemo(() => x, Object.values(x)); return i.jsx(g.Provider, { value: b, children: h }) }; u.displayName = o + "Provider"; function d(p, m) { var g; const h = ((g = m == null ? void 0 : m[e]) == null ? void 0 : g[c]) || l, x = f.useContext(h); if (x) return x; if (a !== void 0) return a; throw new Error(`\`${p}\` must be used within \`${o}\``) } return [u, d] } const s = () => { const o = r.map(a => f.createContext(a)); return function (l) { const c = (l == null ? void 0 : l[e]) || o; return f.useMemo(() => ({ [`__scope${e}`]: { ...l, [e]: c } }), [l, c]) } }; return s.scopeName = e, [n, TD(s, ...t)] } function TD(...e) { const t = e[0]; if (e.length === 1) return t; const r = () => { const n = e.map(s => ({ useScope: s(), scopeName: s.scopeName })); return function (o) { const a = n.reduce((l, { useScope: c, scopeName: u }) => { const p = c(o)[`__scope${u}`]; return { ...l, ...p } }, {}); return f.useMemo(() => ({ [`__scope${t.scopeName}`]: a }), [a]) } }; return r.scopeName = t.scopeName, r } var RD = ["a", "button", "div", "form", "h2", "h3", "img", "input", "label", "li", "nav", "ol", "p", "select", "span", "svg", "ul"], M1 = RD.reduce((e, t) => { const r = Vu(`Primitive.${t}`), n = f.forwardRef((s, o) => { const { asChild: a, ...l } = s, c = a ? r : t; return typeof window < "u" && (window[Symbol.for("radix-ui")] = !0), i.jsx(c, { ...l, ref: o }) }); return n.displayName = `Primitive.${t}`, { ...e, [t]: n } }, {}), Sm = "Progress", _m = 100, [AD] = PD(Sm), [OD, ID] = AD(Sm), F1 = f.forwardRef((e, t) => { const { __scopeProgress: r, value: n = null, max: s, getValueLabel: o = DD, ...a } = e; (s || s === 0) && !xy(s) && console.error(LD(`${s}`, "Progress")); const l = xy(s) ? s : _m; n !== null && !wy(n, l) && console.error($D(`${n}`, "Progress")); const c = wy(n, l) ? n : null, u = Xc(c) ? o(c, l) : void 0; return i.jsx(OD, { scope: r, value: c, max: l, children: i.jsx(M1.div, { "aria-valuemax": l, "aria-valuemin": 0, "aria-valuenow": Xc(c) ? c : void 0, "aria-valuetext": u, role: "progressbar", "data-state": B1(c, l), "data-value": c ?? void 0, "data-max": l, ...a, ref: t }) }) }); F1.displayName = Sm; var U1 = "ProgressIndicator", z1 = f.forwardRef((e, t) => { const { __scopeProgress: r, ...n } = e, s = ID(U1, r); return i.jsx(M1.div, { "data-state": B1(s.value, s.max), "data-value": s.value ?? void 0, "data-max": s.max, ...n, ref: t }) }); z1.displayName = U1; function DD(e, t) { return `${Math.round(e / t * 100)}%` } function B1(e, t) { return e == null ? "indeterminate" : e === t ? "complete" : "loading" } function Xc(e) { return typeof e == "number" } function xy(e) { return Xc(e) && !isNaN(e) && e > 0 } function wy(e, t) { return Xc(e) && !isNaN(e) && e <= t && e >= 0 } function LD(e, t) { return `Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${_m}\`.` } function $D(e, t) {
  return `Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${_m} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`} var V1 = F1, MD = z1; const Hu = f.forwardRef(({ className: e, value: t, ...r }, n) => i.jsx(V1, { ref: n, className: F("relative h-4 w-full overflow-hidden rounded-full bg-secondary", e), ...r, children: i.jsx(MD, { className: "h-full w-full flex-1 bg-primary transition-all", style: { transform: `translateX(-${100 - (t || 0)}%)` } }) })); Hu.displayName = V1.displayName; function FD() { var p; const { supabase: e, user: t } = ut(), [r, n] = f.useState(null), [s, o] = f.useState({ notesCount: 0, flashcardsCount: 0, papersCount: 0, streak: 0 }), [a, l] = f.useState(!0), c = new Date().getHours(), u = c < 12 ? "Good morning" : c < 18 ? "Good afternoon" : "Good evening"; f.useEffect(() => { if (!t) return; (async () => { try { const { data: h } = await e.from("profiles").select("full_name, email").eq("id", t.id).single(); h && n(h); const [x, g, b] = await Promise.all([e.from("notes").select("*", { count: "exact", head: !0 }).eq("user_id", t.id), e.from("flashcards").select("*", { count: "exact", head: !0 }).eq("user_id", t.id), e.from("past_papers").select("*", { count: "exact", head: !0 }).eq("user_id", t.id)]); o({ notesCount: x.count || 0, flashcardsCount: g.count || 0, papersCount: b.count || 0, streak: 0 }) } catch (h) { console.error("Error fetching welcome card data:", h) } finally { l(!1) } })() }, [t, e]); const d = (r == null ? void 0 : r.full_name) || ((p = r == null ? void 0 : r.email) == null ? void 0 : p.split("@")[0]) || "there"; return i.jsxs("div", { className: "relative overflow-hidden rounded-2xl p-6 md:p-8", style: { background: "var(--gradient-primary)" }, children: [i.jsx("div", { className: "absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2" }), i.jsx("div", { className: "absolute bottom-0 left-0 w-48 h-48 bg-white/5 rounded-full blur-2xl translate-y-1/2 -translate-x-1/2" }), i.jsxs("div", { className: "relative z-10", children: [i.jsxs("div", { className: "flex items-start justify-between flex-wrap gap-4", children: [i.jsxs("div", { className: "space-y-2", children: [i.jsxs("div", { className: "flex items-center gap-2 text-primary-foreground/80", children: [i.jsx(Ei, { className: "h-4 w-4" }), i.jsx("span", { className: "text-sm font-medium", children: u })] }), i.jsxs("h2", { className: "text-2xl md:text-3xl font-bold text-primary-foreground", children: ["Welcome back, ", d, "!"] }), i.jsx("p", { className: "text-primary-foreground/80 max-w-md", children: a ? "Loading your progress..." : s.notesCount + s.flashcardsCount + s.papersCount === 0 ? "Get started by creating your first note, flashcard, or past paper!" : "You're making great progress. Keep up the momentum!" })] }), s.notesCount + s.flashcardsCount + s.papersCount > 0 && i.jsxs("div", { className: "glass-card bg-white/10 backdrop-blur-sm border-white/20 p-4 rounded-xl min-w-[160px]", children: [i.jsxs("div", { className: "flex items-center gap-2 text-primary-foreground/80 text-sm mb-2", children: [i.jsx(q0, { className: "h-4 w-4" }), i.jsx("span", { children: "Total Items" })] }), i.jsx("div", { className: "text-3xl font-bold text-primary-foreground mb-2", children: s.notesCount + s.flashcardsCount + s.papersCount }), i.jsx(Hu, { value: Math.min(100, (s.notesCount + s.flashcardsCount + s.papersCount) / 100 * 100), className: "h-2 bg-white/20" })] })] }), i.jsx("div", { className: "grid grid-cols-2 md:grid-cols-4 gap-3 mt-6", children: [{ label: "Notes", value: s.notesCount.toString(), change: s.notesCount === 0 ? "None yet" : "Created" }, { label: "Flashcards", value: s.flashcardsCount.toString(), change: s.flashcardsCount === 0 ? "None yet" : "Created" }, { label: "Past Papers", value: s.papersCount.toString(), change: s.papersCount === 0 ? "None yet" : "Added" }, { label: "Study Streak", value: s.streak > 0 ? `${s.streak} days` : "0 days", change: s.streak > 0 ? " Keep going!" : "Start studying!" }].map((m, h) => i.jsxs("div", { className: "bg-white/10 backdrop-blur-sm rounded-lg p-3 animate-scale-in", style: { animationDelay: `${h * .1}s`, opacity: 0 }, children: [i.jsx("p", { className: "text-primary-foreground/70 text-xs mb-1", children: m.label }), i.jsx("p", { className: "text-primary-foreground font-bold text-lg", children: m.value }), i.jsx("p", { className: "text-primary-foreground/60 text-xs mt-0.5", children: m.change })] }, m.label)) })] })] }) } const UD = { primary: { iconBg: "bg-primary/10", iconColor: "text-primary", hoverBorder: "hover:border-primary/30" }, secondary: { iconBg: "bg-secondary/10", iconColor: "text-secondary", hoverBorder: "hover:border-secondary/30" }, accent: { iconBg: "bg-accent/20", iconColor: "text-accent-foreground", hoverBorder: "hover:border-accent/30" }, premium: { iconBg: "bg-premium/10", iconColor: "text-premium", hoverBorder: "hover:border-premium/30" } }; function zD({ icon: e, title: t, description: r, count: n, countLabel: s, path: o, color: a, isPremium: l = !1, progress: c }) { const u = UD[a]; return i.jsx(He, { to: o, className: "block group", children: i.jsxs("div", { className: F("module-card relative overflow-hidden transition-all duration-300", u.hoverBorder, "hover:shadow-lg"), children: [l && i.jsx("div", { className: "absolute top-3 right-3", children: i.jsx("span", { className: "premium-badge", children: "PRO" }) }), i.jsxs("div", { className: "flex items-start gap-4", children: [i.jsx("div", { className: F("p-3 rounded-xl transition-transform duration-300 group-hover:scale-110", u.iconBg), children: i.jsx(e, { className: F("h-6 w-6", u.iconColor) }) }), i.jsxs("div", { className: "flex-1 min-w-0", children: [i.jsx("h3", { className: "font-semibold text-foreground mb-1 group-hover:text-primary transition-colors", children: t }), i.jsx("p", { className: "text-sm text-muted-foreground line-clamp-2", children: r })] })] }), i.jsxs("div", { className: "mt-4 pt-4 border-t border-border/50 flex items-center justify-between", children: [i.jsxs("div", { children: [i.jsx("span", { className: "text-2xl font-bold text-foreground", children: n }), i.jsx("span", { className: "text-sm text-muted-foreground ml-2", children: s })] }), c !== void 0 && i.jsxs("div", { className: "flex items-center gap-2", children: [i.jsx("div", { className: "h-2 w-16 bg-muted rounded-full overflow-hidden", children: i.jsx("div", { className: F("h-full rounded-full transition-all duration-500", `bg-${a}`), style: { width: `${c}%`, backgroundColor: a === "primary" ? "hsl(var(--primary))" : a === "secondary" ? "hsl(var(--secondary))" : a === "accent" ? "hsl(var(--accent))" : "hsl(var(--premium))" } }) }), i.jsxs("span", { className: "text-xs text-muted-foreground", children: [c, "%"] })] })] })] }) }) } function Ll(e) { const r = Math.floor((new Date().getTime() - e.getTime()) / 1e3); return r < 60 ? "Just now" : r < 3600 ? `${Math.floor(r / 60)} minutes ago` : r < 86400 ? `${Math.floor(r / 3600)} hours ago` : r < 604800 ? `${Math.floor(r / 86400)} days ago` : e.toLocaleDateString() } function BD() { const { supabase: e, user: t } = ut(), [r, n] = f.useState([]), [s, o] = f.useState(!0); return f.useEffect(() => { if (!t) return; (async () => { try { const l = [], { data: c } = await e.from("notes").select("id, title, updated_at, subject").eq("user_id", t.id).order("updated_at", { ascending: !1 }).limit(5); c && c.forEach(h => { l.push({ icon: mn, title: h.subject ? `${h.subject}: ${h.title}` : h.title, time: Ll(new Date(h.updated_at)), date: new Date(h.updated_at), type: "note", color: "text-accent-foreground", bgColor: "bg-accent/20" }) }); const { data: u } = await e.from("flashcards").select("id, front, updated_at, subject").eq("user_id", t.id).order("updated_at", { ascending: !1 }).limit(5); u && u.forEach(h => { l.push({ icon: Ni, title: h.subject ? `${h.subject} Flashcard: ${h.front.substring(0, 30)}${h.front.length > 30 ? "..." : ""}` : `Flashcard: ${h.front.substring(0, 30)}${h.front.length > 30 ? "..." : ""}`, time: Ll(new Date(h.updated_at)), date: new Date(h.updated_at), type: "flashcard", color: "text-primary", bgColor: "bg-primary/10" }) }); const { data: d } = await e.from("past_papers").select("id, title, updated_at, subject").eq("user_id", t.id).order("updated_at", { ascending: !1 }).limit(5); d && d.forEach(h => { l.push({ icon: cn, title: h.subject ? `${h.subject} Past Paper: ${h.title}` : h.title, time: Ll(new Date(h.updated_at)), date: new Date(h.updated_at), type: "paper", color: "text-secondary", bgColor: "bg-secondary/10" }) }); const { data: p } = await e.from("extracurriculars").select("id, name, updated_at").eq("user_id", t.id).order("updated_at", { ascending: !1 }).limit(5); p && p.forEach(h => { l.push({ icon: Fr, title: `Logged: ${h.name}`, time: Ll(new Date(h.updated_at)), date: new Date(h.updated_at), type: "extracurricular", color: "text-premium", bgColor: "bg-premium/10" }) }), l.sort((h, x) => x.date.getTime() - h.date.getTime()); const m = l.slice(0, 4).map(({ date: h, ...x }) => x); n(m) } catch (l) { console.error("Error fetching recent activities:", l) } finally { o(!1) } })() }, [t, e]), i.jsxs("div", { className: "glass-card p-6", children: [i.jsxs("div", { className: "flex items-center justify-between mb-4", children: [i.jsx("h3", { className: "font-semibold text-foreground", children: "Recent Activity" }), i.jsx("button", { className: "text-sm text-primary hover:underline", children: "View all" })] }), i.jsx("div", { className: "space-y-4", children: s ? i.jsx("p", { className: "text-sm text-muted-foreground", children: "Loading activities..." }) : r.length === 0 ? i.jsx("p", { className: "text-sm text-muted-foreground", children: "No recent activity. Start creating notes, flashcards, or past papers!" }) : r.map((a, l) => i.jsxs("div", { className: "flex items-start gap-3 animate-slide-up", style: { animationDelay: `${l * .1}s`, opacity: 0 }, children: [i.jsx("div", { className: F("p-2 rounded-lg flex-shrink-0", a.bgColor), children: i.jsx(a.icon, { className: F("h-4 w-4", a.color) }) }), i.jsxs("div", { className: "flex-1 min-w-0", children: [i.jsx("p", { className: "text-sm font-medium text-foreground", children: a.title }), i.jsxs("div", { className: "flex items-center gap-1.5 mt-1", children: [i.jsx(ka, { className: "h-3 w-3 text-muted-foreground" }), i.jsx("span", { className: "text-xs text-muted-foreground", children: a.time })] })] })] }, l)) })] }) } const VD = { high: "bg-destructive/10 text-destructive border-destructive/20", medium: "bg-accent/20 text-accent-foreground border-accent/30", low: "bg-secondary/10 text-secondary border-secondary/20" }; function HD() { const e = []; return i.jsxs("div", { className: "glass-card p-6", children: [i.jsxs("div", { className: "flex items-center justify-between mb-4", children: [i.jsx("h3", { className: "font-semibold text-foreground", children: "Upcoming Tasks" }), i.jsx(H, { variant: "ghost", size: "sm", className: "text-primary", children: "Add Task" })] }), i.jsx("div", { className: "space-y-3", children: e.length === 0 ? i.jsxs("div", { className: "text-center py-8", children: [i.jsx(Jh, { className: "h-12 w-12 text-muted-foreground/50 mx-auto mb-3" }), i.jsx("p", { className: "text-sm text-muted-foreground", children: "No upcoming tasks" }), i.jsx("p", { className: "text-xs text-muted-foreground mt-1", children: "Tasks will appear here when you add them" })] }) : e.map((t, r) => i.jsxs("div", { className: "flex items-center gap-3 p-3 rounded-lg bg-muted/50 hover:bg-muted transition-colors cursor-pointer group animate-slide-up", style: { animationDelay: `${r * .1}s`, opacity: 0 }, children: [i.jsx("div", { className: F("p-2 rounded-lg border", VD[t.priority]), children: t.priority === "high" ? i.jsx(D0, { className: "h-4 w-4" }) : i.jsx(Jh, { className: "h-4 w-4" }) }), i.jsxs("div", { className: "flex-1 min-w-0", children: [i.jsx("p", { className: "text-sm font-medium text-foreground", children: t.title }), i.jsxs("p", { className: "text-xs text-muted-foreground", children: [t.subject, "  ", t.dueDate] })] }), i.jsx(Ya, { className: "h-4 w-4 text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity" })] }, r)) })] }) } function WD() { const { supabase: e, user: t } = ut(), [r, n] = f.useState([]), [s, o] = f.useState(!0); return f.useEffect(() => { if (!t) return; (async () => { try { const l = [], { count: c } = await e.from("notes").select("*", { count: "exact", head: !0 }).eq("user_id", t.id), { count: u } = await e.from("flashcards").select("*", { count: "exact", head: !0 }).eq("user_id", t.id), { count: d } = await e.from("past_papers").select("*", { count: "exact", head: !0 }).eq("user_id", t.id); c === 0 ? l.push({ title: "Create your first note", description: "Start organizing your studies by creating exam notes.", action: "Get Started", path: "/notes" }) : c && c > 0 && l.push({ title: "Continue your notes", description: `You have ${c} note${c > 1 ? "s" : ""}. Keep adding more!`, action: "View Notes", path: "/notes" }), u === 0 ? l.push({ title: "Create flashcards", description: "Build your flashcard deck to improve your memory retention.", action: "Create Cards", path: "/flashcards" }) : u && u > 0 && l.push({ title: "Review your flashcards", description: `You have ${u} flashcard${u > 1 ? "s" : ""}. Practice them regularly!`, action: "Practice Now", path: "/flashcards" }), d === 0 ? l.push({ title: "Try a past paper", description: "Practice with past papers to prepare for your exams.", action: "Add Papers", path: "/past-papers" }) : d && d > 0 && l.push({ title: "Complete a past paper", description: `You have ${d} past paper${d > 1 ? "s" : ""}. Challenge yourself!`, action: "Start Quiz", path: "/past-papers" }), n(l.slice(0, 3)) } catch (l) { console.error("Error fetching suggestions:", l) } finally { o(!1) } })() }, [t, e]), i.jsxs("div", { className: "glass-card p-6 relative overflow-hidden", children: [i.jsx("div", { className: "absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-accent/20 to-transparent rounded-full blur-2xl" }), i.jsxs("div", { className: "relative z-10", children: [i.jsxs("div", { className: "flex items-center gap-2 mb-4", children: [i.jsx("div", { className: "p-2 rounded-lg bg-accent/20", children: i.jsx(U0, { className: "h-5 w-5 text-accent-foreground" }) }), i.jsxs("div", { children: [i.jsx("h3", { className: "font-semibold text-foreground", children: "Suggested for You" }), i.jsx("p", { className: "text-xs text-muted-foreground", children: "Based on your activity" })] })] }), i.jsx("div", { className: "space-y-3", children: s ? i.jsx("p", { className: "text-sm text-muted-foreground", children: "Loading suggestions..." }) : r.length === 0 ? i.jsx("p", { className: "text-sm text-muted-foreground py-4", children: "No suggestions available. Start creating content to get personalized recommendations!" }) : r.map((a, l) => i.jsx(He, { to: a.path, className: "block p-4 rounded-xl bg-muted/50 hover:bg-muted transition-all duration-200 cursor-pointer group animate-slide-up", style: { animationDelay: `${l * .1}s`, opacity: 0 }, children: i.jsxs("div", { className: "flex items-start justify-between gap-3", children: [i.jsxs("div", { className: "flex-1", children: [i.jsx("p", { className: "font-medium text-foreground mb-1", children: a.title }), i.jsx("p", { className: "text-sm text-muted-foreground", children: a.description })] }), i.jsxs(H, { size: "sm", variant: "ghost", className: "flex-shrink-0 text-primary group-hover:bg-primary group-hover:text-primary-foreground transition-colors", children: [a.action, i.jsx(Qh, { className: "h-4 w-4 ml-1" })] })] }) }, l)) }), i.jsx("div", { className: "mt-4 p-4 rounded-xl border border-premium/30 bg-premium/5", children: i.jsxs("div", { className: "flex items-center gap-3", children: [i.jsx("div", { className: "p-2 rounded-lg", style: { background: "var(--gradient-premium)" }, children: i.jsx(Ei, { className: "h-5 w-5 text-premium-foreground" }) }), i.jsxs("div", { className: "flex-1", children: [i.jsx("p", { className: "font-medium text-foreground", children: "Unlock AI-powered suggestions" }), i.jsx("p", { className: "text-sm text-muted-foreground", children: "Get personalized study recommendations" })] }), i.jsx(H, { size: "sm", className: "bg-premium hover:bg-premium/90 text-premium-foreground", children: "Upgrade" })] }) })] })] }) } const by = [{ icon: mn, title: "Exam Notes", description: "Organized notes by subject and topic with highlights", countLabel: "notes", path: "/notes", color: "primary", tableName: "notes" }, { icon: Ni, title: "Flashcards", description: "Interactive cards with quiz mode and progress tracking", countLabel: "cards", path: "/flashcards", color: "secondary", tableName: "flashcards" }, { icon: cn, title: "Past Papers", description: "Practice with marked answers and timed quizzes", countLabel: "papers", path: "/past-papers", color: "accent", tableName: "past_papers" }, { icon: Mr, title: "Knowledge Organizers", description: "Visual summaries with collapsible sections", countLabel: "organizers", path: "/knowledge", color: "primary", tableName: "knowledge_organizers" }, { icon: Fr, title: "Extracurriculars", description: "Track activities, hours, and achievements", countLabel: "activities", path: "/extracurricular", color: "premium", tableName: "extracurriculars" }, { icon: Ei, title: "AI Question Bank", description: "AI-generated questions tailored to your subjects", count: 500, countLabel: "questions", path: "/premium", color: "premium", isPremium: !0 }]; function qD() { const { supabase: e, user: t } = ut(), [r, n] = f.useState({}), [s, o] = f.useState(!0); f.useEffect(() => { if (!t) return; (async () => { try { const c = {}; for (const u of by) if (u.tableName && !u.isPremium) { const { count: d, error: p } = await e.from(u.tableName).select("*", { count: "exact", head: !0 }).eq("user_id", t.id); p || (c[u.tableName] = d || 0) } n(c) } catch (c) { console.error("Error fetching module counts:", c) } finally { o(!1) } })() }, [t, e]); const a = by.map(l => { if (l.isPremium) return l; const c = l.tableName && r[l.tableName] || 0; return { ...l, count: c, progress: void 0 } }); return i.jsx(qe, { children: i.jsxs("div", { className: "max-w-7xl mx-auto space-y-8", children: [i.jsx("section", { className: "animate-fade-in", children: i.jsx(FD, {}) }), i.jsxs("section", { children: [i.jsxs("div", { className: "flex items-center justify-between mb-4", children: [i.jsx("h2", { className: "text-xl font-bold text-foreground", children: "Quick Access" }), i.jsx("button", { className: "text-sm text-primary hover:underline", children: "Customize" })] }), i.jsx("div", { className: "grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4", children: a.map((l, c) => i.jsx("div", { className: "animate-slide-up", style: { animationDelay: `${c * .1}s`, opacity: 0 }, children: i.jsx(zD, { ...l }) }, l.title)) })] }), i.jsxs("section", { className: "grid grid-cols-1 lg:grid-cols-2 gap-6", children: [i.jsx("div", { className: "animate-slide-up", style: { animationDelay: "0.2s", opacity: 0 }, children: i.jsx(BD, {}) }), i.jsx("div", { className: "animate-slide-up", style: { animationDelay: "0.3s", opacity: 0 }, children: i.jsx(HD, {}) })] }), i.jsx("section", { className: "animate-slide-up", style: { animationDelay: "0.4s", opacity: 0 }, children: i.jsx(WD, {}) })] }) }) } const ds = f.forwardRef(({ className: e, ...t }, r) => i.jsx("textarea", { className: F("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50", e), ref: r, ...t })); ds.displayName = "Textarea"; var qd = "focusScope.autoFocusOnMount", Kd = "focusScope.autoFocusOnUnmount", jy = { bubbles: !1, cancelable: !0 }, KD = "FocusScope", Nm = f.forwardRef((e, t) => { const { loop: r = !1, trapped: n = !1, onMountAutoFocus: s, onUnmountAutoFocus: o, ...a } = e, [l, c] = f.useState(null), u = Xe(s), d = Xe(o), p = f.useRef(null), m = we(t, g => c(g)), h = f.useRef({ paused: !1, pause() { this.paused = !0 }, resume() { this.paused = !1 } }).current; f.useEffect(() => { if (n) { let g = function (w) { if (h.paused || !l) return; const j = w.target; l.contains(j) ? p.current = j : On(p.current, { select: !0 }) }, b = function (w) { if (h.paused || !l) return; const j = w.relatedTarget; j !== null && (l.contains(j) || On(p.current, { select: !0 })) }, v = function (w) { if (document.activeElement === document.body) for (const S of w) S.removedNodes.length > 0 && On(l) }; document.addEventListener("focusin", g), document.addEventListener("focusout", b); const y = new MutationObserver(v); return l && y.observe(l, { childList: !0, subtree: !0 }), () => { document.removeEventListener("focusin", g), document.removeEventListener("focusout", b), y.disconnect() } } }, [n, l, h.paused]), f.useEffect(() => { if (l) { _y.add(h); const g = document.activeElement; if (!l.contains(g)) { const v = new CustomEvent(qd, jy); l.addEventListener(qd, u), l.dispatchEvent(v), v.defaultPrevented || (GD(ZD(H1(l)), { select: !0 }), document.activeElement === g && On(l)) } return () => { l.removeEventListener(qd, u), setTimeout(() => { const v = new CustomEvent(Kd, jy); l.addEventListener(Kd, d), l.dispatchEvent(v), v.defaultPrevented || On(g ?? document.body, { select: !0 }), l.removeEventListener(Kd, d), _y.remove(h) }, 0) } } }, [l, u, d, h]); const x = f.useCallback(g => { if (!r && !n || h.paused) return; const b = g.key === "Tab" && !g.altKey && !g.ctrlKey && !g.metaKey, v = document.activeElement; if (b && v) { const y = g.currentTarget, [w, j] = YD(y); w && j ? !g.shiftKey && v === j ? (g.preventDefault(), r && On(w, { select: !0 })) : g.shiftKey && v === w && (g.preventDefault(), r && On(j, { select: !0 })) : v === y && g.preventDefault() } }, [r, n, h.paused]); return i.jsx(ce.div, { tabIndex: -1, ...a, ref: m, onKeyDown: x }) }); Nm.displayName = KD; function GD(e, { select: t = !1 } = {}) { const r = document.activeElement; for (const n of e) if (On(n, { select: t }), document.activeElement !== r) return } function YD(e) { const t = H1(e), r = Sy(t, e), n = Sy(t.reverse(), e); return [r, n] } function H1(e) { const t = [], r = document.createTreeWalker(e, NodeFilter.SHOW_ELEMENT, { acceptNode: n => { const s = n.tagName === "INPUT" && n.type === "hidden"; return n.disabled || n.hidden || s ? NodeFilter.FILTER_SKIP : n.tabIndex >= 0 ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP } }); for (; r.nextNode();)t.push(r.currentNode); return t } function Sy(e, t) { for (const r of e) if (!QD(r, { upTo: t })) return r } function QD(e, { upTo: t }) { if (getComputedStyle(e).visibility === "hidden") return !0; for (; e;) { if (t !== void 0 && e === t) return !1; if (getComputedStyle(e).display === "none") return !0; e = e.parentElement } return !1 } function JD(e) { return e instanceof HTMLInputElement && "select" in e } function On(e, { select: t = !1 } = {}) { if (e && e.focus) { const r = document.activeElement; e.focus({ preventScroll: !0 }), e !== r && JD(e) && t && e.select() } } var _y = XD(); function XD() { let e = []; return { add(t) { const r = e[0]; t !== r && (r == null || r.pause()), e = Ny(e, t), e.unshift(t) }, remove(t) { var r; e = Ny(e, t), (r = e[0]) == null || r.resume() } } } function Ny(e, t) { const r = [...e], n = r.indexOf(t); return n !== -1 && r.splice(n, 1), r } function ZD(e) { return e.filter(t => t.tagName !== "A") } var Gd = 0; function W1() { f.useEffect(() => { const e = document.querySelectorAll("[data-radix-focus-guard]"); return document.body.insertAdjacentElement("afterbegin", e[0] ?? Ey()), document.body.insertAdjacentElement("beforeend", e[1] ?? Ey()), Gd++, () => { Gd === 1 && document.querySelectorAll("[data-radix-focus-guard]").forEach(t => t.remove()), Gd-- } }, []) } function Ey() { const e = document.createElement("span"); return e.setAttribute("data-radix-focus-guard", ""), e.tabIndex = 0, e.style.outline = "none", e.style.opacity = "0", e.style.position = "fixed", e.style.pointerEvents = "none", e } var lc = "right-scroll-bar-position", cc = "width-before-scroll-bar", eL = "with-scroll-bars-hidden", tL = "--removed-body-scroll-bar-size"; function Yd(e, t) { return typeof e == "function" ? e(t) : e && (e.current = t), e } function rL(e, t) { var r = f.useState(function () { return { value: e, callback: t, facade: { get current() { return r.value }, set current(n) { var s = r.value; s !== n && (r.value = n, r.callback(n, s)) } } } })[0]; return r.callback = t, r.facade } var nL = typeof window < "u" ? f.useLayoutEffect : f.useEffect, Cy = new WeakMap; function sL(e, t) { var r = rL(null, function (n) { return e.forEach(function (s) { return Yd(s, n) }) }); return nL(function () { var n = Cy.get(r); if (n) { var s = new Set(n), o = new Set(e), a = r.current; s.forEach(function (l) { o.has(l) || Yd(l, null) }), o.forEach(function (l) { s.has(l) || Yd(l, a) }) } Cy.set(r, e) }, [e]), r } function oL(e) { return e } function iL(e, t) { t === void 0 && (t = oL); var r = [], n = !1, s = { read: function () { if (n) throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`."); return r.length ? r[r.length - 1] : e }, useMedium: function (o) { var a = t(o, n); return r.push(a), function () { r = r.filter(function (l) { return l !== a }) } }, assignSyncMedium: function (o) { for (n = !0; r.length;) { var a = r; r = [], a.forEach(o) } r = { push: function (l) { return o(l) }, filter: function () { return r } } }, assignMedium: function (o) { n = !0; var a = []; if (r.length) { var l = r; r = [], l.forEach(o), a = r } var c = function () { var d = a; a = [], d.forEach(o) }, u = function () { return Promise.resolve().then(c) }; u(), r = { push: function (d) { a.push(d), u() }, filter: function (d) { return a = a.filter(d), r } } } }; return s } function aL(e) { e === void 0 && (e = {}); var t = iL(null); return t.options = Zt({ async: !0, ssr: !1 }, e), t } var q1 = function (e) { var t = e.sideCar, r = ws(e, ["sideCar"]); if (!t) throw new Error("Sidecar: please provide `sideCar` property to import the right car"); var n = t.read(); if (!n) throw new Error("Sidecar medium not found"); return f.createElement(n, Zt({}, r)) }; q1.isSideCarExport = !0; function lL(e, t) { return e.useMedium(t), q1 } var K1 = aL(), Qd = function () { }, Wu = f.forwardRef(function (e, t) { var r = f.useRef(null), n = f.useState({ onScrollCapture: Qd, onWheelCapture: Qd, onTouchMoveCapture: Qd }), s = n[0], o = n[1], a = e.forwardProps, l = e.children, c = e.className, u = e.removeScrollBar, d = e.enabled, p = e.shards, m = e.sideCar, h = e.noRelative, x = e.noIsolation, g = e.inert, b = e.allowPinchZoom, v = e.as, y = v === void 0 ? "div" : v, w = e.gapMode, j = ws(e, ["forwardProps", "children", "className", "removeScrollBar", "enabled", "shards", "sideCar", "noRelative", "noIsolation", "inert", "allowPinchZoom", "as", "gapMode"]), S = m, _ = sL([r, t]), C = Zt(Zt({}, j), s); return f.createElement(f.Fragment, null, d && f.createElement(S, { sideCar: K1, removeScrollBar: u, shards: p, noRelative: h, noIsolation: x, inert: g, setCallbacks: o, allowPinchZoom: !!b, lockRef: r, gapMode: w }), a ? f.cloneElement(f.Children.only(l), Zt(Zt({}, C), { ref: _ })) : f.createElement(y, Zt({}, C, { className: c, ref: _ }), l)) }); Wu.defaultProps = { enabled: !0, removeScrollBar: !0, inert: !1 }; Wu.classNames = { fullWidth: cc, zeroRight: lc }; var cL = function () { if (typeof __webpack_nonce__ < "u") return __webpack_nonce__ }; function uL() { if (!document) return null; var e = document.createElement("style"); e.type = "text/css"; var t = cL(); return t && e.setAttribute("nonce", t), e } function dL(e, t) { e.styleSheet ? e.styleSheet.cssText = t : e.appendChild(document.createTextNode(t)) } function hL(e) { var t = document.head || document.getElementsByTagName("head")[0]; t.appendChild(e) } var fL = function () { var e = 0, t = null; return { add: function (r) { e == 0 && (t = uL()) && (dL(t, r), hL(t)), e++ }, remove: function () { e--, !e && t && (t.parentNode && t.parentNode.removeChild(t), t = null) } } }, pL = function () { var e = fL(); return function (t, r) { f.useEffect(function () { return e.add(t), function () { e.remove() } }, [t && r]) } }, G1 = function () { var e = pL(), t = function (r) { var n = r.styles, s = r.dynamic; return e(n, s), null }; return t }, mL = { left: 0, top: 0, right: 0, gap: 0 }, Jd = function (e) { return parseInt(e || "", 10) || 0 }, gL = function (e) { var t = window.getComputedStyle(document.body), r = t[e === "padding" ? "paddingLeft" : "marginLeft"], n = t[e === "padding" ? "paddingTop" : "marginTop"], s = t[e === "padding" ? "paddingRight" : "marginRight"]; return [Jd(r), Jd(n), Jd(s)] }, vL = function (e) { if (e === void 0 && (e = "margin"), typeof window > "u") return mL; var t = gL(e), r = document.documentElement.clientWidth, n = window.innerWidth; return { left: t[0], top: t[1], right: t[2], gap: Math.max(0, n - r + t[2] - t[0]) } }, yL = G1(), Qo = "data-scroll-locked", xL = function (e, t, r, n) {
  var s = e.left, o = e.top, a = e.right, l = e.gap; return r === void 0 && (r = "margin"), `
  .`.concat(eL, ` {
   overflow: hidden `).concat(n, `;
   padding-right: `).concat(l, "px ").concat(n, `;
  }
  body[`).concat(Qo, `] {
    overflow: hidden `).concat(n, `;
    overscroll-behavior: contain;
    `).concat([t && "position: relative ".concat(n, ";"), r === "margin" && `
    padding-left: `.concat(s, `px;
    padding-top: `).concat(o, `px;
    padding-right: `).concat(a, `px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l, "px ").concat(n, `;
    `), r === "padding" && "padding-right: ".concat(l, "px ").concat(n, ";")].filter(Boolean).join(""), `
  }
  
  .`).concat(lc, ` {
    right: `).concat(l, "px ").concat(n, `;
  }
  
  .`).concat(cc, ` {
    margin-right: `).concat(l, "px ").concat(n, `;
  }
  
  .`).concat(lc, " .").concat(lc, ` {
    right: 0 `).concat(n, `;
  }
  
  .`).concat(cc, " .").concat(cc, ` {
    margin-right: 0 `).concat(n, `;
  }
  
  body[`).concat(Qo, `] {
    `).concat(tL, ": ").concat(l, `px;
  }
`)
}, ky = function () { var e = parseInt(document.body.getAttribute(Qo) || "0", 10); return isFinite(e) ? e : 0 }, wL = function () { f.useEffect(function () { return document.body.setAttribute(Qo, (ky() + 1).toString()), function () { var e = ky() - 1; e <= 0 ? document.body.removeAttribute(Qo) : document.body.setAttribute(Qo, e.toString()) } }, []) }, bL = function (e) { var t = e.noRelative, r = e.noImportant, n = e.gapMode, s = n === void 0 ? "margin" : n; wL(); var o = f.useMemo(function () { return vL(s) }, [s]); return f.createElement(yL, { styles: xL(o, !t, s, r ? "" : "!important") }) }, Af = !1; if (typeof window < "u") try { var $l = Object.defineProperty({}, "passive", { get: function () { return Af = !0, !0 } }); window.addEventListener("test", $l, $l), window.removeEventListener("test", $l, $l) } catch { Af = !1 } var jo = Af ? { passive: !1 } : !1, jL = function (e) { return e.tagName === "TEXTAREA" }, Y1 = function (e, t) { if (!(e instanceof Element)) return !1; var r = window.getComputedStyle(e); return r[t] !== "hidden" && !(r.overflowY === r.overflowX && !jL(e) && r[t] === "visible") }, SL = function (e) { return Y1(e, "overflowY") }, _L = function (e) { return Y1(e, "overflowX") }, Py = function (e, t) { var r = t.ownerDocument, n = t; do { typeof ShadowRoot < "u" && n instanceof ShadowRoot && (n = n.host); var s = Q1(e, n); if (s) { var o = J1(e, n), a = o[1], l = o[2]; if (a > l) return !0 } n = n.parentNode } while (n && n !== r.body); return !1 }, NL = function (e) { var t = e.scrollTop, r = e.scrollHeight, n = e.clientHeight; return [t, r, n] }, EL = function (e) { var t = e.scrollLeft, r = e.scrollWidth, n = e.clientWidth; return [t, r, n] }, Q1 = function (e, t) { return e === "v" ? SL(t) : _L(t) }, J1 = function (e, t) { return e === "v" ? NL(t) : EL(t) }, CL = function (e, t) { return e === "h" && t === "rtl" ? -1 : 1 }, kL = function (e, t, r, n, s) { var o = CL(e, window.getComputedStyle(t).direction), a = o * n, l = r.target, c = t.contains(l), u = !1, d = a > 0, p = 0, m = 0; do { if (!l) break; var h = J1(e, l), x = h[0], g = h[1], b = h[2], v = g - b - o * x; (x || v) && Q1(e, l) && (p += v, m += x); var y = l.parentNode; l = y && y.nodeType === Node.DOCUMENT_FRAGMENT_NODE ? y.host : y } while (!c && l !== document.body || c && (t.contains(l) || t === l)); return (d && Math.abs(p) < 1 || !d && Math.abs(m) < 1) && (u = !0), u }, Ml = function (e) { return "changedTouches" in e ? [e.changedTouches[0].clientX, e.changedTouches[0].clientY] : [0, 0] }, Ty = function (e) { return [e.deltaX, e.deltaY] }, Ry = function (e) { return e && "current" in e ? e.current : e }, PL = function (e, t) { return e[0] === t[0] && e[1] === t[1] }, TL = function (e) {
  return `
  .block-interactivity-`.concat(e, ` {pointer-events: none;}
  .allow-interactivity-`).concat(e, ` {pointer-events: all;}
`)
}, RL = 0, So = []; function AL(e) { var t = f.useRef([]), r = f.useRef([0, 0]), n = f.useRef(), s = f.useState(RL++)[0], o = f.useState(G1)[0], a = f.useRef(e); f.useEffect(function () { a.current = e }, [e]), f.useEffect(function () { if (e.inert) { document.body.classList.add("block-interactivity-".concat(s)); var g = om([e.lockRef.current], (e.shards || []).map(Ry), !0).filter(Boolean); return g.forEach(function (b) { return b.classList.add("allow-interactivity-".concat(s)) }), function () { document.body.classList.remove("block-interactivity-".concat(s)), g.forEach(function (b) { return b.classList.remove("allow-interactivity-".concat(s)) }) } } }, [e.inert, e.lockRef.current, e.shards]); var l = f.useCallback(function (g, b) { if ("touches" in g && g.touches.length === 2 || g.type === "wheel" && g.ctrlKey) return !a.current.allowPinchZoom; var v = Ml(g), y = r.current, w = "deltaX" in g ? g.deltaX : y[0] - v[0], j = "deltaY" in g ? g.deltaY : y[1] - v[1], S, _ = g.target, C = Math.abs(w) > Math.abs(j) ? "h" : "v"; if ("touches" in g && C === "h" && _.type === "range") return !1; var k = window.getSelection(), E = k && k.anchorNode, P = E ? E === _ || E.contains(_) : !1; if (P) return !1; var L = Py(C, _); if (!L) return !0; if (L ? S = C : (S = C === "v" ? "h" : "v", L = Py(C, _)), !L) return !1; if (!n.current && "changedTouches" in g && (w || j) && (n.current = S), !S) return !0; var T = n.current || S; return kL(T, b, g, T === "h" ? w : j) }, []), c = f.useCallback(function (g) { var b = g; if (!(!So.length || So[So.length - 1] !== o)) { var v = "deltaY" in b ? Ty(b) : Ml(b), y = t.current.filter(function (S) { return S.name === b.type && (S.target === b.target || b.target === S.shadowParent) && PL(S.delta, v) })[0]; if (y && y.should) { b.cancelable && b.preventDefault(); return } if (!y) { var w = (a.current.shards || []).map(Ry).filter(Boolean).filter(function (S) { return S.contains(b.target) }), j = w.length > 0 ? l(b, w[0]) : !a.current.noIsolation; j && b.cancelable && b.preventDefault() } } }, []), u = f.useCallback(function (g, b, v, y) { var w = { name: g, delta: b, target: v, should: y, shadowParent: OL(v) }; t.current.push(w), setTimeout(function () { t.current = t.current.filter(function (j) { return j !== w }) }, 1) }, []), d = f.useCallback(function (g) { r.current = Ml(g), n.current = void 0 }, []), p = f.useCallback(function (g) { u(g.type, Ty(g), g.target, l(g, e.lockRef.current)) }, []), m = f.useCallback(function (g) { u(g.type, Ml(g), g.target, l(g, e.lockRef.current)) }, []); f.useEffect(function () { return So.push(o), e.setCallbacks({ onScrollCapture: p, onWheelCapture: p, onTouchMoveCapture: m }), document.addEventListener("wheel", c, jo), document.addEventListener("touchmove", c, jo), document.addEventListener("touchstart", d, jo), function () { So = So.filter(function (g) { return g !== o }), document.removeEventListener("wheel", c, jo), document.removeEventListener("touchmove", c, jo), document.removeEventListener("touchstart", d, jo) } }, []); var h = e.removeScrollBar, x = e.inert; return f.createElement(f.Fragment, null, x ? f.createElement(o, { styles: TL(s) }) : null, h ? f.createElement(bL, { noRelative: e.noRelative, gapMode: e.gapMode }) : null) } function OL(e) { for (var t = null; e !== null;)e instanceof ShadowRoot && (t = e.host, e = e.host), e = e.parentNode; return t } const IL = lL(K1, AL); var Em = f.forwardRef(function (e, t) { return f.createElement(Wu, Zt({}, e, { ref: t, sideCar: IL })) }); Em.classNames = Wu.classNames; var DL = function (e) { if (typeof document > "u") return null; var t = Array.isArray(e) ? e[0] : e; return t.ownerDocument.body }, _o = new WeakMap, Fl = new WeakMap, Ul = {}, Xd = 0, X1 = function (e) { return e && (e.host || X1(e.parentNode)) }, LL = function (e, t) { return t.map(function (r) { if (e.contains(r)) return r; var n = X1(r); return n && e.contains(n) ? n : (console.error("aria-hidden", r, "in not contained inside", e, ". Doing nothing"), null) }).filter(function (r) { return !!r }) }, $L = function (e, t, r, n) { var s = LL(t, Array.isArray(e) ? e : [e]); Ul[r] || (Ul[r] = new WeakMap); var o = Ul[r], a = [], l = new Set, c = new Set(s), u = function (p) { !p || l.has(p) || (l.add(p), u(p.parentNode)) }; s.forEach(u); var d = function (p) { !p || c.has(p) || Array.prototype.forEach.call(p.children, function (m) { if (l.has(m)) d(m); else try { var h = m.getAttribute(n), x = h !== null && h !== "false", g = (_o.get(m) || 0) + 1, b = (o.get(m) || 0) + 1; _o.set(m, g), o.set(m, b), a.push(m), g === 1 && x && Fl.set(m, !0), b === 1 && m.setAttribute(r, "true"), x || m.setAttribute(n, "true") } catch (v) { console.error("aria-hidden: cannot operate on ", m, v) } }) }; return d(t), l.clear(), Xd++, function () { a.forEach(function (p) { var m = _o.get(p) - 1, h = o.get(p) - 1; _o.set(p, m), o.set(p, h), m || (Fl.has(p) || p.removeAttribute(n), Fl.delete(p)), h || p.removeAttribute(r) }), Xd--, Xd || (_o = new WeakMap, _o = new WeakMap, Fl = new WeakMap, Ul = {}) } }, Z1 = function (e, t, r) { r === void 0 && (r = "data-aria-hidden"); var n = Array.from(Array.isArray(e) ? e : [e]), s = DL(e); return s ? (n.push.apply(n, Array.from(s.querySelectorAll("[aria-live], script"))), $L(n, s, r, "aria-hidden")) : function () { return null } }; function ML(e) { const t = FL(e), r = f.forwardRef((n, s) => { const { children: o, ...a } = n, l = f.Children.toArray(o), c = l.find(zL); if (c) { const u = c.props.children, d = l.map(p => p === c ? f.Children.count(u) > 1 ? f.Children.only(null) : f.isValidElement(u) ? u.props.children : null : p); return i.jsx(t, { ...a, ref: s, children: f.isValidElement(u) ? f.cloneElement(u, void 0, d) : null }) } return i.jsx(t, { ...a, ref: s, children: o }) }); return r.displayName = `${e}.Slot`, r } function FL(e) { const t = f.forwardRef((r, n) => { const { children: s, ...o } = r; if (f.isValidElement(s)) { const a = VL(s), l = BL(o, s.props); return s.type !== f.Fragment && (l.ref = n ? _i(n, a) : a), f.cloneElement(s, l) } return f.Children.count(s) > 1 ? f.Children.only(null) : null }); return t.displayName = `${e}.SlotClone`, t } var UL = Symbol("radix.slottable"); function zL(e) { return f.isValidElement(e) && typeof e.type == "function" && "__radixId" in e.type && e.type.__radixId === UL } function BL(e, t) { const r = { ...t }; for (const n in t) { const s = e[n], o = t[n]; /^on[A-Z]/.test(n) ? s && o ? r[n] = (...l) => { const c = o(...l); return s(...l), c } : s && (r[n] = s) : n === "style" ? r[n] = { ...s, ...o } : n === "className" && (r[n] = [s, o].filter(Boolean).join(" ")) } return { ...e, ...r } } function VL(e) { var n, s; let t = (n = Object.getOwnPropertyDescriptor(e.props, "ref")) == null ? void 0 : n.get, r = t && "isReactWarning" in t && t.isReactWarning; return r ? e.ref : (t = (s = Object.getOwnPropertyDescriptor(e, "ref")) == null ? void 0 : s.get, r = t && "isReactWarning" in t && t.isReactWarning, r ? e.props.ref : e.props.ref || e.ref) } var qu = "Dialog", [eS] = Gr(qu), [HL, Er] = eS(qu), tS = e => { const { __scopeDialog: t, children: r, open: n, defaultOpen: s, onOpenChange: o, modal: a = !0 } = e, l = f.useRef(null), c = f.useRef(null), [u, d] = ls({ prop: n, defaultProp: s ?? !1, onChange: o, caller: qu }); return i.jsx(HL, { scope: t, triggerRef: l, contentRef: c, contentId: ss(), titleId: ss(), descriptionId: ss(), open: u, onOpenChange: d, onOpenToggle: f.useCallback(() => d(p => !p), [d]), modal: a, children: r }) }; tS.displayName = qu; var rS = "DialogTrigger", nS = f.forwardRef((e, t) => { const { __scopeDialog: r, ...n } = e, s = Er(rS, r), o = we(t, s.triggerRef); return i.jsx(ce.button, { type: "button", "aria-haspopup": "dialog", "aria-expanded": s.open, "aria-controls": s.contentId, "data-state": Pm(s.open), ...n, ref: o, onClick: se(e.onClick, s.onOpenToggle) }) }); nS.displayName = rS; var Cm = "DialogPortal", [WL, sS] = eS(Cm, { forceMount: void 0 }), oS = e => { const { __scopeDialog: t, forceMount: r, children: n, container: s } = e, o = Er(Cm, t); return i.jsx(WL, { scope: t, forceMount: r, children: f.Children.map(n, a => i.jsx(Nr, { present: r || o.open, children: i.jsx(bu, { asChild: !0, container: s, children: a }) })) }) }; oS.displayName = Cm; var Zc = "DialogOverlay", iS = f.forwardRef((e, t) => { const r = sS(Zc, e.__scopeDialog), { forceMount: n = r.forceMount, ...s } = e, o = Er(Zc, e.__scopeDialog); return o.modal ? i.jsx(Nr, { present: n || o.open, children: i.jsx(KL, { ...s, ref: t }) }) : null }); iS.displayName = Zc; var qL = ML("DialogOverlay.RemoveScroll"), KL = f.forwardRef((e, t) => { const { __scopeDialog: r, ...n } = e, s = Er(Zc, r); return i.jsx(Em, { as: qL, allowPinchZoom: !0, shards: [s.contentRef], children: i.jsx(ce.div, { "data-state": Pm(s.open), ...n, ref: t, style: { pointerEvents: "auto", ...n.style } }) }) }), ao = "DialogContent", aS = f.forwardRef((e, t) => { const r = sS(ao, e.__scopeDialog), { forceMount: n = r.forceMount, ...s } = e, o = Er(ao, e.__scopeDialog); return i.jsx(Nr, { present: n || o.open, children: o.modal ? i.jsx(GL, { ...s, ref: t }) : i.jsx(YL, { ...s, ref: t }) }) }); aS.displayName = ao; var GL = f.forwardRef((e, t) => { const r = Er(ao, e.__scopeDialog), n = f.useRef(null), s = we(t, r.contentRef, n); return f.useEffect(() => { const o = n.current; if (o) return Z1(o) }, []), i.jsx(lS, { ...e, ref: s, trapFocus: r.open, disableOutsidePointerEvents: !0, onCloseAutoFocus: se(e.onCloseAutoFocus, o => { var a; o.preventDefault(), (a = r.triggerRef.current) == null || a.focus() }), onPointerDownOutside: se(e.onPointerDownOutside, o => { const a = o.detail.originalEvent, l = a.button === 0 && a.ctrlKey === !0; (a.button === 2 || l) && o.preventDefault() }), onFocusOutside: se(e.onFocusOutside, o => o.preventDefault()) }) }), YL = f.forwardRef((e, t) => { const r = Er(ao, e.__scopeDialog), n = f.useRef(!1), s = f.useRef(!1); return i.jsx(lS, { ...e, ref: t, trapFocus: !1, disableOutsidePointerEvents: !1, onCloseAutoFocus: o => { var a, l; (a = e.onCloseAutoFocus) == null || a.call(e, o), o.defaultPrevented || (n.current || (l = r.triggerRef.current) == null || l.focus(), o.preventDefault()), n.current = !1, s.current = !1 }, onInteractOutside: o => { var c, u; (c = e.onInteractOutside) == null || c.call(e, o), o.defaultPrevented || (n.current = !0, o.detail.originalEvent.type === "pointerdown" && (s.current = !0)); const a = o.target; ((u = r.triggerRef.current) == null ? void 0 : u.contains(a)) && o.preventDefault(), o.detail.originalEvent.type === "focusin" && s.current && o.preventDefault() } }) }), lS = f.forwardRef((e, t) => { const { __scopeDialog: r, trapFocus: n, onOpenAutoFocus: s, onCloseAutoFocus: o, ...a } = e, l = Er(ao, r), c = f.useRef(null), u = we(t, c); return W1(), i.jsxs(i.Fragment, { children: [i.jsx(Nm, { asChild: !0, loop: !0, trapped: n, onMountAutoFocus: s, onUnmountAutoFocus: o, children: i.jsx(qa, { role: "dialog", id: l.contentId, "aria-describedby": l.descriptionId, "aria-labelledby": l.titleId, "data-state": Pm(l.open), ...a, ref: u, onDismiss: () => l.onOpenChange(!1) }) }), i.jsxs(i.Fragment, { children: [i.jsx(QL, { titleId: l.titleId }), i.jsx(XL, { contentRef: c, descriptionId: l.descriptionId })] })] }) }), km = "DialogTitle", cS = f.forwardRef((e, t) => { const { __scopeDialog: r, ...n } = e, s = Er(km, r); return i.jsx(ce.h2, { id: s.titleId, ...n, ref: t }) }); cS.displayName = km; var uS = "DialogDescription", dS = f.forwardRef((e, t) => { const { __scopeDialog: r, ...n } = e, s = Er(uS, r); return i.jsx(ce.p, { id: s.descriptionId, ...n, ref: t }) }); dS.displayName = uS; var hS = "DialogClose", fS = f.forwardRef((e, t) => { const { __scopeDialog: r, ...n } = e, s = Er(hS, r); return i.jsx(ce.button, { type: "button", ...n, ref: t, onClick: se(e.onClick, () => s.onOpenChange(!1)) }) }); fS.displayName = hS; function Pm(e) { return e ? "open" : "closed" } var pS = "DialogTitleWarning", [L5, mS] = CC(pS, { contentName: ao, titleName: km, docsSlug: "dialog" }), QL = ({ titleId: e }) => {
  const t = mS(pS), r = `\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`; return f.useEffect(() => { e && (document.getElementById(e) || console.error(r)) }, [r, e]), null
}, JL = "DialogDescriptionWarning", XL = ({ contentRef: e, descriptionId: t }) => { const n = `Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${mS(JL).contentName}}.`; return f.useEffect(() => { var o; const s = (o = e.current) == null ? void 0 : o.getAttribute("aria-describedby"); t && s && (document.getElementById(t) || console.warn(n)) }, [n, e, t]), null }, ZL = tS, e$ = nS, t$ = oS, gS = iS, vS = aS, yS = cS, xS = dS, r$ = fS; const lo = ZL, n$ = e$, s$ = t$, wS = f.forwardRef(({ className: e, ...t }, r) => i.jsx(gS, { ref: r, className: F("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0", e), ...t })); wS.displayName = gS.displayName; const hs = f.forwardRef(({ className: e, children: t, ...r }, n) => i.jsxs(s$, { children: [i.jsx(wS, {}), i.jsxs(vS, { ref: n, className: F("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg", e), ...r, children: [t, i.jsxs(r$, { className: "absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none", children: [i.jsx(oo, { className: "h-4 w-4" }), i.jsx("span", { className: "sr-only", children: "Close" })] })] })] })); hs.displayName = vS.displayName; const fs = ({ className: e, ...t }) => i.jsx("div", { className: F("flex flex-col space-y-1.5 text-center sm:text-left", e), ...t }); fs.displayName = "DialogHeader"; const xi = ({ className: e, ...t }) => i.jsx("div", { className: F("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2", e), ...t }); xi.displayName = "DialogFooter"; const ps = f.forwardRef(({ className: e, ...t }, r) => i.jsx(yS, { ref: r, className: F("text-lg font-semibold leading-none tracking-tight", e), ...t })); ps.displayName = yS.displayName; const ms = f.forwardRef(({ className: e, ...t }, r) => i.jsx(xS, { ref: r, className: F("text-sm text-muted-foreground", e), ...t })); ms.displayName = xS.displayName; var Ku = "Collapsible", [o$, bS] = Gr(Ku), [i$, Tm] = o$(Ku), jS = f.forwardRef((e, t) => { const { __scopeCollapsible: r, open: n, defaultOpen: s, disabled: o, onOpenChange: a, ...l } = e, [c, u] = ls({ prop: n, defaultProp: s ?? !1, onChange: a, caller: Ku }); return i.jsx(i$, { scope: r, disabled: o, contentId: ss(), open: c, onOpenToggle: f.useCallback(() => u(d => !d), [u]), children: i.jsx(ce.div, { "data-state": Im(c), "data-disabled": o ? "" : void 0, ...l, ref: t }) }) }); jS.displayName = Ku; var SS = "CollapsibleTrigger", Rm = f.forwardRef((e, t) => { const { __scopeCollapsible: r, ...n } = e, s = Tm(SS, r); return i.jsx(ce.button, { type: "button", "aria-controls": s.contentId, "aria-expanded": s.open || !1, "data-state": Im(s.open), "data-disabled": s.disabled ? "" : void 0, disabled: s.disabled, ...n, ref: t, onClick: se(e.onClick, s.onOpenToggle) }) }); Rm.displayName = SS; var Am = "CollapsibleContent", Om = f.forwardRef((e, t) => { const { forceMount: r, ...n } = e, s = Tm(Am, e.__scopeCollapsible); return i.jsx(Nr, { present: r || s.open, children: ({ present: o }) => i.jsx(a$, { ...n, ref: t, present: o }) }) }); Om.displayName = Am; var a$ = f.forwardRef((e, t) => { const { __scopeCollapsible: r, present: n, children: s, ...o } = e, a = Tm(Am, r), [l, c] = f.useState(n), u = f.useRef(null), d = we(t, u), p = f.useRef(0), m = p.current, h = f.useRef(0), x = h.current, g = a.open || l, b = f.useRef(g), v = f.useRef(void 0); return f.useEffect(() => { const y = requestAnimationFrame(() => b.current = !1); return () => cancelAnimationFrame(y) }, []), Ve(() => { const y = u.current; if (y) { v.current = v.current || { transitionDuration: y.style.transitionDuration, animationName: y.style.animationName }, y.style.transitionDuration = "0s", y.style.animationName = "none"; const w = y.getBoundingClientRect(); p.current = w.height, h.current = w.width, b.current || (y.style.transitionDuration = v.current.transitionDuration, y.style.animationName = v.current.animationName), c(n) } }, [a.open, n]), i.jsx(ce.div, { "data-state": Im(a.open), "data-disabled": a.disabled ? "" : void 0, id: a.contentId, hidden: !g, ...o, ref: d, style: { "--radix-collapsible-content-height": m ? `${m}px` : void 0, "--radix-collapsible-content-width": x ? `${x}px` : void 0, ...e.style }, children: g && s }) }); function Im(e) { return e ? "open" : "closed" } var _S = jS, l$ = Rm, c$ = Om, u$ = f.createContext(void 0); function Dm(e) { const t = f.useContext(u$); return e || t || "ltr" } var Cr = "Accordion", d$ = ["Home", "End", "ArrowDown", "ArrowUp", "ArrowLeft", "ArrowRight"], [Lm, h$, f$] = $p(Cr), [Gu] = Gr(Cr, [f$, bS]), $m = bS(), NS = V.forwardRef((e, t) => { const { type: r, ...n } = e, s = n, o = n; return i.jsx(Lm.Provider, { scope: e.__scopeAccordion, children: r === "multiple" ? i.jsx(v$, { ...o, ref: t }) : i.jsx(g$, { ...s, ref: t }) }) }); NS.displayName = Cr; var [ES, p$] = Gu(Cr), [CS, m$] = Gu(Cr, { collapsible: !1 }), g$ = V.forwardRef((e, t) => { const { value: r, defaultValue: n, onValueChange: s = () => { }, collapsible: o = !1, ...a } = e, [l, c] = ls({ prop: r, defaultProp: n ?? "", onChange: s, caller: Cr }); return i.jsx(ES, { scope: e.__scopeAccordion, value: V.useMemo(() => l ? [l] : [], [l]), onItemOpen: c, onItemClose: V.useCallback(() => o && c(""), [o, c]), children: i.jsx(CS, { scope: e.__scopeAccordion, collapsible: o, children: i.jsx(kS, { ...a, ref: t }) }) }) }), v$ = V.forwardRef((e, t) => { const { value: r, defaultValue: n, onValueChange: s = () => { }, ...o } = e, [a, l] = ls({ prop: r, defaultProp: n ?? [], onChange: s, caller: Cr }), c = V.useCallback(d => l((p = []) => [...p, d]), [l]), u = V.useCallback(d => l((p = []) => p.filter(m => m !== d)), [l]); return i.jsx(ES, { scope: e.__scopeAccordion, value: a, onItemOpen: c, onItemClose: u, children: i.jsx(CS, { scope: e.__scopeAccordion, collapsible: !0, children: i.jsx(kS, { ...o, ref: t }) }) }) }), [y$, Yu] = Gu(Cr), kS = V.forwardRef((e, t) => { const { __scopeAccordion: r, disabled: n, dir: s, orientation: o = "vertical", ...a } = e, l = V.useRef(null), c = we(l, t), u = h$(r), p = Dm(s) === "ltr", m = se(e.onKeyDown, h => { var k; if (!d$.includes(h.key)) return; const x = h.target, g = u().filter(E => { var P; return !((P = E.ref.current) != null && P.disabled) }), b = g.findIndex(E => E.ref.current === x), v = g.length; if (b === -1) return; h.preventDefault(); let y = b; const w = 0, j = v - 1, S = () => { y = b + 1, y > j && (y = w) }, _ = () => { y = b - 1, y < w && (y = j) }; switch (h.key) { case "Home": y = w; break; case "End": y = j; break; case "ArrowRight": o === "horizontal" && (p ? S() : _()); break; case "ArrowDown": o === "vertical" && S(); break; case "ArrowLeft": o === "horizontal" && (p ? _() : S()); break; case "ArrowUp": o === "vertical" && _(); break }const C = y % v; (k = g[C].ref.current) == null || k.focus() }); return i.jsx(y$, { scope: r, disabled: n, direction: s, orientation: o, children: i.jsx(Lm.Slot, { scope: r, children: i.jsx(ce.div, { ...a, "data-orientation": o, ref: c, onKeyDown: n ? void 0 : m }) }) }) }), eu = "AccordionItem", [x$, Mm] = Gu(eu), PS = V.forwardRef((e, t) => { const { __scopeAccordion: r, value: n, ...s } = e, o = Yu(eu, r), a = p$(eu, r), l = $m(r), c = ss(), u = n && a.value.includes(n) || !1, d = o.disabled || e.disabled; return i.jsx(x$, { scope: r, open: u, disabled: d, triggerId: c, children: i.jsx(_S, { "data-orientation": o.orientation, "data-state": DS(u), ...l, ...s, ref: t, disabled: d, open: u, onOpenChange: p => { p ? a.onItemOpen(n) : a.onItemClose(n) } }) }) }); PS.displayName = eu; var TS = "AccordionHeader", RS = V.forwardRef((e, t) => { const { __scopeAccordion: r, ...n } = e, s = Yu(Cr, r), o = Mm(TS, r); return i.jsx(ce.h3, { "data-orientation": s.orientation, "data-state": DS(o.open), "data-disabled": o.disabled ? "" : void 0, ...n, ref: t }) }); RS.displayName = TS; var Of = "AccordionTrigger", AS = V.forwardRef((e, t) => { const { __scopeAccordion: r, ...n } = e, s = Yu(Cr, r), o = Mm(Of, r), a = m$(Of, r), l = $m(r); return i.jsx(Lm.ItemSlot, { scope: r, children: i.jsx(l$, { "aria-disabled": o.open && !a.collapsible || void 0, "data-orientation": s.orientation, id: o.triggerId, ...l, ...n, ref: t }) }) }); AS.displayName = Of; var OS = "AccordionContent", IS = V.forwardRef((e, t) => { const { __scopeAccordion: r, ...n } = e, s = Yu(Cr, r), o = Mm(OS, r), a = $m(r); return i.jsx(c$, { role: "region", "aria-labelledby": o.triggerId, "data-orientation": s.orientation, ...a, ...n, ref: t, style: { "--radix-accordion-content-height": "var(--radix-collapsible-content-height)", "--radix-accordion-content-width": "var(--radix-collapsible-content-width)", ...e.style } }) }); IS.displayName = OS; function DS(e) { return e ? "open" : "closed" } var w$ = NS, b$ = PS, j$ = RS, LS = AS, $S = IS; const MS = w$, Fm = f.forwardRef(({ className: e, ...t }, r) => i.jsx(b$, { ref: r, className: F("border-b", e), ...t })); Fm.displayName = "AccordionItem"; const Um = f.forwardRef(({ className: e, children: t, ...r }, n) => i.jsx(j$, { className: "flex", children: i.jsxs(LS, { ref: n, className: F("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180", e), ...r, children: [t, i.jsx(_u, { className: "h-4 w-4 shrink-0 transition-transform duration-200" })] }) })); Um.displayName = LS.displayName; const zm = f.forwardRef(({ className: e, children: t, ...r }, n) => i.jsx($S, { ref: n, className: "overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down", ...r, children: i.jsx("div", { className: F("pb-4 pt-0", e), children: t }) })); zm.displayName = $S.displayName; function If(e, [t, r]) { return Math.min(r, Math.max(t, e)) } function S$(e) { const t = _$(e), r = f.forwardRef((n, s) => { const { children: o, ...a } = n, l = f.Children.toArray(o), c = l.find(E$); if (c) { const u = c.props.children, d = l.map(p => p === c ? f.Children.count(u) > 1 ? f.Children.only(null) : f.isValidElement(u) ? u.props.children : null : p); return i.jsx(t, { ...a, ref: s, children: f.isValidElement(u) ? f.cloneElement(u, void 0, d) : null }) } return i.jsx(t, { ...a, ref: s, children: o }) }); return r.displayName = `${e}.Slot`, r } function _$(e) { const t = f.forwardRef((r, n) => { const { children: s, ...o } = r; if (f.isValidElement(s)) { const a = k$(s), l = C$(o, s.props); return s.type !== f.Fragment && (l.ref = n ? _i(n, a) : a), f.cloneElement(s, l) } return f.Children.count(s) > 1 ? f.Children.only(null) : null }); return t.displayName = `${e}.SlotClone`, t } var N$ = Symbol("radix.slottable"); function E$(e) { return f.isValidElement(e) && typeof e.type == "function" && "__radixId" in e.type && e.type.__radixId === N$ } function C$(e, t) { const r = { ...t }; for (const n in t) { const s = e[n], o = t[n]; /^on[A-Z]/.test(n) ? s && o ? r[n] = (...l) => { const c = o(...l); return s(...l), c } : s && (r[n] = s) : n === "style" ? r[n] = { ...s, ...o } : n === "className" && (r[n] = [s, o].filter(Boolean).join(" ")) } return { ...e, ...r } } function k$(e) { var n, s; let t = (n = Object.getOwnPropertyDescriptor(e.props, "ref")) == null ? void 0 : n.get, r = t && "isReactWarning" in t && t.isReactWarning; return r ? e.ref : (t = (s = Object.getOwnPropertyDescriptor(e, "ref")) == null ? void 0 : s.get, r = t && "isReactWarning" in t && t.isReactWarning, r ? e.props.ref : e.props.ref || e.ref) } function FS(e) { const t = f.useRef({ value: e, previous: e }); return f.useMemo(() => (t.current.value !== e && (t.current.previous = t.current.value, t.current.value = e), t.current.previous), [e]) } var P$ = [" ", "Enter", "ArrowUp", "ArrowDown"], T$ = [" ", "Enter"], co = "Select", [Qu, Ju, R$] = $p(co), [Ii] = Gr(co, [R$, Pu]), Xu = Pu(), [A$, js] = Ii(co), [O$, I$] = Ii(co), US = e => { const { __scopeSelect: t, children: r, open: n, defaultOpen: s, onOpenChange: o, value: a, defaultValue: l, onValueChange: c, dir: u, name: d, autoComplete: p, disabled: m, required: h, form: x } = e, g = Xu(t), [b, v] = f.useState(null), [y, w] = f.useState(null), [j, S] = f.useState(!1), _ = Dm(u), [C, k] = ls({ prop: n, defaultProp: s ?? !1, onChange: o, caller: co }), [E, P] = ls({ prop: a, defaultProp: l, onChange: c, caller: co }), L = f.useRef(null), T = b ? x || !!b.closest("form") : !0, [R, O] = f.useState(new Set), U = Array.from(R).map(z => z.props.value).join(";"); return i.jsx(PT, { ...g, children: i.jsxs(A$, { required: h, scope: t, trigger: b, onTriggerChange: v, valueNode: y, onValueNodeChange: w, valueNodeHasChildren: j, onValueNodeHasChildrenChange: S, contentId: ss(), value: E, onValueChange: P, open: C, onOpenChange: k, dir: _, triggerPointerDownPosRef: L, disabled: m, children: [i.jsx(Qu.Provider, { scope: t, children: i.jsx(O$, { scope: e.__scopeSelect, onNativeOptionAdd: f.useCallback(z => { O(K => new Set(K).add(z)) }, []), onNativeOptionRemove: f.useCallback(z => { O(K => { const I = new Set(K); return I.delete(z), I }) }, []), children: r }) }), T ? i.jsxs(u_, { "aria-hidden": !0, required: h, tabIndex: -1, name: d, autoComplete: p, value: E, onChange: z => P(z.target.value), disabled: m, form: x, children: [E === void 0 ? i.jsx("option", { value: "" }) : null, Array.from(R)] }, U) : null] }) }) }; US.displayName = co; var zS = "SelectTrigger", BS = f.forwardRef((e, t) => { const { __scopeSelect: r, disabled: n = !1, ...s } = e, o = Xu(r), a = js(zS, r), l = a.disabled || n, c = we(t, a.onTriggerChange), u = Ju(r), d = f.useRef("touch"), [p, m, h] = h_(g => { const b = u().filter(w => !w.disabled), v = b.find(w => w.value === a.value), y = f_(b, g, v); y !== void 0 && a.onValueChange(y.value) }), x = g => { l || (a.onOpenChange(!0), h()), g && (a.triggerPointerDownPosRef.current = { x: Math.round(g.pageX), y: Math.round(g.pageY) }) }; return i.jsx(Eb, { asChild: !0, ...o, children: i.jsx(ce.button, { type: "button", role: "combobox", "aria-controls": a.contentId, "aria-expanded": a.open, "aria-required": a.required, "aria-autocomplete": "none", dir: a.dir, "data-state": a.open ? "open" : "closed", disabled: l, "data-disabled": l ? "" : void 0, "data-placeholder": d_(a.value) ? "" : void 0, ...s, ref: c, onClick: se(s.onClick, g => { g.currentTarget.focus(), d.current !== "mouse" && x(g) }), onPointerDown: se(s.onPointerDown, g => { d.current = g.pointerType; const b = g.target; b.hasPointerCapture(g.pointerId) && b.releasePointerCapture(g.pointerId), g.button === 0 && g.ctrlKey === !1 && g.pointerType === "mouse" && (x(g), g.preventDefault()) }), onKeyDown: se(s.onKeyDown, g => { const b = p.current !== ""; !(g.ctrlKey || g.altKey || g.metaKey) && g.key.length === 1 && m(g.key), !(b && g.key === " ") && P$.includes(g.key) && (x(), g.preventDefault()) }) }) }) }); BS.displayName = zS; var VS = "SelectValue", HS = f.forwardRef((e, t) => { const { __scopeSelect: r, className: n, style: s, children: o, placeholder: a = "", ...l } = e, c = js(VS, r), { onValueNodeHasChildrenChange: u } = c, d = o !== void 0, p = we(t, c.onValueNodeChange); return Ve(() => { u(d) }, [u, d]), i.jsx(ce.span, { ...l, ref: p, style: { pointerEvents: "none" }, children: d_(c.value) ? i.jsx(i.Fragment, { children: a }) : o }) }); HS.displayName = VS; var D$ = "SelectIcon", WS = f.forwardRef((e, t) => { const { __scopeSelect: r, children: n, ...s } = e; return i.jsx(ce.span, { "aria-hidden": !0, ...s, ref: t, children: n || "" }) }); WS.displayName = D$; var L$ = "SelectPortal", qS = e => i.jsx(bu, { asChild: !0, ...e }); qS.displayName = L$; var uo = "SelectContent", KS = f.forwardRef((e, t) => { const r = js(uo, e.__scopeSelect), [n, s] = f.useState(); if (Ve(() => { s(new DocumentFragment) }, []), !r.open) { const o = n; return o ? po.createPortal(i.jsx(GS, { scope: e.__scopeSelect, children: i.jsx(Qu.Slot, { scope: e.__scopeSelect, children: i.jsx("div", { children: e.children }) }) }), o) : null } return i.jsx(YS, { ...e, ref: t }) }); KS.displayName = uo; var dr = 10, [GS, Ss] = Ii(uo), $$ = "SelectContentImpl", M$ = S$("SelectContent.RemoveScroll"), YS = f.forwardRef((e, t) => { const { __scopeSelect: r, position: n = "item-aligned", onCloseAutoFocus: s, onEscapeKeyDown: o, onPointerDownOutside: a, side: l, sideOffset: c, align: u, alignOffset: d, arrowPadding: p, collisionBoundary: m, collisionPadding: h, sticky: x, hideWhenDetached: g, avoidCollisions: b, ...v } = e, y = js(uo, r), [w, j] = f.useState(null), [S, _] = f.useState(null), C = we(t, B => j(B)), [k, E] = f.useState(null), [P, L] = f.useState(null), T = Ju(r), [R, O] = f.useState(!1), U = f.useRef(!1); f.useEffect(() => { if (w) return Z1(w) }, [w]), W1(); const z = f.useCallback(B => { const [he, ...Se] = T().map(me => me.ref.current), [ve] = Se.slice(-1), pe = document.activeElement; for (const me of B) if (me === pe || (me == null || me.scrollIntoView({ block: "nearest" }), me === he && S && (S.scrollTop = 0), me === ve && S && (S.scrollTop = S.scrollHeight), me == null || me.focus(), document.activeElement !== pe)) return }, [T, S]), K = f.useCallback(() => z([k, w]), [z, k, w]); f.useEffect(() => { R && K() }, [R, K]); const { onOpenChange: I, triggerPointerDownPosRef: N } = y; f.useEffect(() => { if (w) { let B = { x: 0, y: 0 }; const he = ve => { var pe, me; B = { x: Math.abs(Math.round(ve.pageX) - (((pe = N.current) == null ? void 0 : pe.x) ?? 0)), y: Math.abs(Math.round(ve.pageY) - (((me = N.current) == null ? void 0 : me.y) ?? 0)) } }, Se = ve => { B.x <= 10 && B.y <= 10 ? ve.preventDefault() : w.contains(ve.target) || I(!1), document.removeEventListener("pointermove", he), N.current = null }; return N.current !== null && (document.addEventListener("pointermove", he), document.addEventListener("pointerup", Se, { capture: !0, once: !0 })), () => { document.removeEventListener("pointermove", he), document.removeEventListener("pointerup", Se, { capture: !0 }) } } }, [w, I, N]), f.useEffect(() => { const B = () => I(!1); return window.addEventListener("blur", B), window.addEventListener("resize", B), () => { window.removeEventListener("blur", B), window.removeEventListener("resize", B) } }, [I]); const [$, Y] = h_(B => { const he = T().filter(pe => !pe.disabled), Se = he.find(pe => pe.ref.current === document.activeElement), ve = f_(he, B, Se); ve && setTimeout(() => ve.ref.current.focus()) }), G = f.useCallback((B, he, Se) => { const ve = !U.current && !Se; (y.value !== void 0 && y.value === he || ve) && (E(B), ve && (U.current = !0)) }, [y.value]), re = f.useCallback(() => w == null ? void 0 : w.focus(), [w]), ne = f.useCallback((B, he, Se) => { const ve = !U.current && !Se; (y.value !== void 0 && y.value === he || ve) && L(B) }, [y.value]), be = n === "popper" ? Df : QS, q = be === Df ? { side: l, sideOffset: c, align: u, alignOffset: d, arrowPadding: p, collisionBoundary: m, collisionPadding: h, sticky: x, hideWhenDetached: g, avoidCollisions: b } : {}; return i.jsx(GS, { scope: r, content: w, viewport: S, onViewportChange: _, itemRefCallback: G, selectedItem: k, onItemLeave: re, itemTextRefCallback: ne, focusSelectedItem: K, selectedItemText: P, position: n, isPositioned: R, searchRef: $, children: i.jsx(Em, { as: M$, allowPinchZoom: !0, children: i.jsx(Nm, { asChild: !0, trapped: y.open, onMountAutoFocus: B => { B.preventDefault() }, onUnmountAutoFocus: se(s, B => { var he; (he = y.trigger) == null || he.focus({ preventScroll: !0 }), B.preventDefault() }), children: i.jsx(qa, { asChild: !0, disableOutsidePointerEvents: !0, onEscapeKeyDown: o, onPointerDownOutside: a, onFocusOutside: B => B.preventDefault(), onDismiss: () => y.onOpenChange(!1), children: i.jsx(be, { role: "listbox", id: y.contentId, "data-state": y.open ? "open" : "closed", dir: y.dir, onContextMenu: B => B.preventDefault(), ...v, ...q, onPlaced: () => O(!0), ref: C, style: { display: "flex", flexDirection: "column", outline: "none", ...v.style }, onKeyDown: se(v.onKeyDown, B => { const he = B.ctrlKey || B.altKey || B.metaKey; if (B.key === "Tab" && B.preventDefault(), !he && B.key.length === 1 && Y(B.key), ["ArrowUp", "ArrowDown", "Home", "End"].includes(B.key)) { let ve = T().filter(pe => !pe.disabled).map(pe => pe.ref.current); if (["ArrowUp", "End"].includes(B.key) && (ve = ve.slice().reverse()), ["ArrowUp", "ArrowDown"].includes(B.key)) { const pe = B.target, me = ve.indexOf(pe); ve = ve.slice(me + 1) } setTimeout(() => z(ve)), B.preventDefault() } }) }) }) }) }) }) }); YS.displayName = $$; var F$ = "SelectItemAlignedPosition", QS = f.forwardRef((e, t) => { const { __scopeSelect: r, onPlaced: n, ...s } = e, o = js(uo, r), a = Ss(uo, r), [l, c] = f.useState(null), [u, d] = f.useState(null), p = we(t, C => d(C)), m = Ju(r), h = f.useRef(!1), x = f.useRef(!0), { viewport: g, selectedItem: b, selectedItemText: v, focusSelectedItem: y } = a, w = f.useCallback(() => { if (o.trigger && o.valueNode && l && u && g && b && v) { const C = o.trigger.getBoundingClientRect(), k = u.getBoundingClientRect(), E = o.valueNode.getBoundingClientRect(), P = v.getBoundingClientRect(); if (o.dir !== "rtl") { const pe = P.left - k.left, me = E.left - pe, et = C.left - me, Ct = C.width + et, Jr = Math.max(Ct, k.width), kr = window.innerWidth - dr, Xr = If(me, [dr, Math.max(dr, kr - Jr)]); l.style.minWidth = Ct + "px", l.style.left = Xr + "px" } else { const pe = k.right - P.right, me = window.innerWidth - E.right - pe, et = window.innerWidth - C.right - me, Ct = C.width + et, Jr = Math.max(Ct, k.width), kr = window.innerWidth - dr, Xr = If(me, [dr, Math.max(dr, kr - Jr)]); l.style.minWidth = Ct + "px", l.style.right = Xr + "px" } const L = m(), T = window.innerHeight - dr * 2, R = g.scrollHeight, O = window.getComputedStyle(u), U = parseInt(O.borderTopWidth, 10), z = parseInt(O.paddingTop, 10), K = parseInt(O.borderBottomWidth, 10), I = parseInt(O.paddingBottom, 10), N = U + z + R + I + K, $ = Math.min(b.offsetHeight * 5, N), Y = window.getComputedStyle(g), G = parseInt(Y.paddingTop, 10), re = parseInt(Y.paddingBottom, 10), ne = C.top + C.height / 2 - dr, be = T - ne, q = b.offsetHeight / 2, B = b.offsetTop + q, he = U + z + B, Se = N - he; if (he <= ne) { const pe = L.length > 0 && b === L[L.length - 1].ref.current; l.style.bottom = "0px"; const me = u.clientHeight - g.offsetTop - g.offsetHeight, et = Math.max(be, q + (pe ? re : 0) + me + K), Ct = he + et; l.style.height = Ct + "px" } else { const pe = L.length > 0 && b === L[0].ref.current; l.style.top = "0px"; const et = Math.max(ne, U + g.offsetTop + (pe ? G : 0) + q) + Se; l.style.height = et + "px", g.scrollTop = he - ne + g.offsetTop } l.style.margin = `${dr}px 0`, l.style.minHeight = $ + "px", l.style.maxHeight = T + "px", n == null || n(), requestAnimationFrame(() => h.current = !0) } }, [m, o.trigger, o.valueNode, l, u, g, b, v, o.dir, n]); Ve(() => w(), [w]); const [j, S] = f.useState(); Ve(() => { u && S(window.getComputedStyle(u).zIndex) }, [u]); const _ = f.useCallback(C => { C && x.current === !0 && (w(), y == null || y(), x.current = !1) }, [w, y]); return i.jsx(z$, { scope: r, contentWrapper: l, shouldExpandOnScrollRef: h, onScrollButtonChange: _, children: i.jsx("div", { ref: c, style: { display: "flex", flexDirection: "column", position: "fixed", zIndex: j }, children: i.jsx(ce.div, { ...s, ref: p, style: { boxSizing: "border-box", maxHeight: "100%", ...s.style } }) }) }) }); QS.displayName = F$; var U$ = "SelectPopperPosition", Df = f.forwardRef((e, t) => { const { __scopeSelect: r, align: n = "start", collisionPadding: s = dr, ...o } = e, a = Xu(r); return i.jsx(Cb, { ...a, ...o, ref: t, align: n, collisionPadding: s, style: { boxSizing: "border-box", ...o.style, "--radix-select-content-transform-origin": "var(--radix-popper-transform-origin)", "--radix-select-content-available-width": "var(--radix-popper-available-width)", "--radix-select-content-available-height": "var(--radix-popper-available-height)", "--radix-select-trigger-width": "var(--radix-popper-anchor-width)", "--radix-select-trigger-height": "var(--radix-popper-anchor-height)" } }) }); Df.displayName = U$; var [z$, Bm] = Ii(uo, {}), Lf = "SelectViewport", JS = f.forwardRef((e, t) => { const { __scopeSelect: r, nonce: n, ...s } = e, o = Ss(Lf, r), a = Bm(Lf, r), l = we(t, o.onViewportChange), c = f.useRef(0); return i.jsxs(i.Fragment, { children: [i.jsx("style", { dangerouslySetInnerHTML: { __html: "[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}" }, nonce: n }), i.jsx(Qu.Slot, { scope: r, children: i.jsx(ce.div, { "data-radix-select-viewport": "", role: "presentation", ...s, ref: l, style: { position: "relative", flex: 1, overflow: "hidden auto", ...s.style }, onScroll: se(s.onScroll, u => { const d = u.currentTarget, { contentWrapper: p, shouldExpandOnScrollRef: m } = a; if (m != null && m.current && p) { const h = Math.abs(c.current - d.scrollTop); if (h > 0) { const x = window.innerHeight - dr * 2, g = parseFloat(p.style.minHeight), b = parseFloat(p.style.height), v = Math.max(g, b); if (v < x) { const y = v + h, w = Math.min(x, y), j = y - w; p.style.height = w + "px", p.style.bottom === "0px" && (d.scrollTop = j > 0 ? j : 0, p.style.justifyContent = "flex-end") } } } c.current = d.scrollTop }) }) })] }) }); JS.displayName = Lf; var XS = "SelectGroup", [B$, V$] = Ii(XS), H$ = f.forwardRef((e, t) => { const { __scopeSelect: r, ...n } = e, s = ss(); return i.jsx(B$, { scope: r, id: s, children: i.jsx(ce.div, { role: "group", "aria-labelledby": s, ...n, ref: t }) }) }); H$.displayName = XS; var ZS = "SelectLabel", e_ = f.forwardRef((e, t) => { const { __scopeSelect: r, ...n } = e, s = V$(ZS, r); return i.jsx(ce.div, { id: s.id, ...n, ref: t }) }); e_.displayName = ZS; var tu = "SelectItem", [W$, t_] = Ii(tu), r_ = f.forwardRef((e, t) => { const { __scopeSelect: r, value: n, disabled: s = !1, textValue: o, ...a } = e, l = js(tu, r), c = Ss(tu, r), u = l.value === n, [d, p] = f.useState(o ?? ""), [m, h] = f.useState(!1), x = we(t, y => { var w; return (w = c.itemRefCallback) == null ? void 0 : w.call(c, y, n, s) }), g = ss(), b = f.useRef("touch"), v = () => { s || (l.onValueChange(n), l.onOpenChange(!1)) }; if (n === "") throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder."); return i.jsx(W$, { scope: r, value: n, disabled: s, textId: g, isSelected: u, onItemTextChange: f.useCallback(y => { p(w => w || ((y == null ? void 0 : y.textContent) ?? "").trim()) }, []), children: i.jsx(Qu.ItemSlot, { scope: r, value: n, disabled: s, textValue: d, children: i.jsx(ce.div, { role: "option", "aria-labelledby": g, "data-highlighted": m ? "" : void 0, "aria-selected": u && m, "data-state": u ? "checked" : "unchecked", "aria-disabled": s || void 0, "data-disabled": s ? "" : void 0, tabIndex: s ? void 0 : -1, ...a, ref: x, onFocus: se(a.onFocus, () => h(!0)), onBlur: se(a.onBlur, () => h(!1)), onClick: se(a.onClick, () => { b.current !== "mouse" && v() }), onPointerUp: se(a.onPointerUp, () => { b.current === "mouse" && v() }), onPointerDown: se(a.onPointerDown, y => { b.current = y.pointerType }), onPointerMove: se(a.onPointerMove, y => { var w; b.current = y.pointerType, s ? (w = c.onItemLeave) == null || w.call(c) : b.current === "mouse" && y.currentTarget.focus({ preventScroll: !0 }) }), onPointerLeave: se(a.onPointerLeave, y => { var w; y.currentTarget === document.activeElement && ((w = c.onItemLeave) == null || w.call(c)) }), onKeyDown: se(a.onKeyDown, y => { var j; ((j = c.searchRef) == null ? void 0 : j.current) !== "" && y.key === " " || (T$.includes(y.key) && v(), y.key === " " && y.preventDefault()) }) }) }) }) }); r_.displayName = tu; var Zi = "SelectItemText", n_ = f.forwardRef((e, t) => { const { __scopeSelect: r, className: n, style: s, ...o } = e, a = js(Zi, r), l = Ss(Zi, r), c = t_(Zi, r), u = I$(Zi, r), [d, p] = f.useState(null), m = we(t, v => p(v), c.onItemTextChange, v => { var y; return (y = l.itemTextRefCallback) == null ? void 0 : y.call(l, v, c.value, c.disabled) }), h = d == null ? void 0 : d.textContent, x = f.useMemo(() => i.jsx("option", { value: c.value, disabled: c.disabled, children: h }, c.value), [c.disabled, c.value, h]), { onNativeOptionAdd: g, onNativeOptionRemove: b } = u; return Ve(() => (g(x), () => b(x)), [g, b, x]), i.jsxs(i.Fragment, { children: [i.jsx(ce.span, { id: c.textId, ...o, ref: m }), c.isSelected && a.valueNode && !a.valueNodeHasChildren ? po.createPortal(o.children, a.valueNode) : null] }) }); n_.displayName = Zi; var s_ = "SelectItemIndicator", o_ = f.forwardRef((e, t) => { const { __scopeSelect: r, ...n } = e; return t_(s_, r).isSelected ? i.jsx(ce.span, { "aria-hidden": !0, ...n, ref: t }) : null }); o_.displayName = s_; var $f = "SelectScrollUpButton", i_ = f.forwardRef((e, t) => { const r = Ss($f, e.__scopeSelect), n = Bm($f, e.__scopeSelect), [s, o] = f.useState(!1), a = we(t, n.onScrollButtonChange); return Ve(() => { if (r.viewport && r.isPositioned) { let l = function () { const u = c.scrollTop > 0; o(u) }; const c = r.viewport; return l(), c.addEventListener("scroll", l), () => c.removeEventListener("scroll", l) } }, [r.viewport, r.isPositioned]), s ? i.jsx(l_, { ...e, ref: a, onAutoScroll: () => { const { viewport: l, selectedItem: c } = r; l && c && (l.scrollTop = l.scrollTop - c.offsetHeight) } }) : null }); i_.displayName = $f; var Mf = "SelectScrollDownButton", a_ = f.forwardRef((e, t) => { const r = Ss(Mf, e.__scopeSelect), n = Bm(Mf, e.__scopeSelect), [s, o] = f.useState(!1), a = we(t, n.onScrollButtonChange); return Ve(() => { if (r.viewport && r.isPositioned) { let l = function () { const u = c.scrollHeight - c.clientHeight, d = Math.ceil(c.scrollTop) < u; o(d) }; const c = r.viewport; return l(), c.addEventListener("scroll", l), () => c.removeEventListener("scroll", l) } }, [r.viewport, r.isPositioned]), s ? i.jsx(l_, { ...e, ref: a, onAutoScroll: () => { const { viewport: l, selectedItem: c } = r; l && c && (l.scrollTop = l.scrollTop + c.offsetHeight) } }) : null }); a_.displayName = Mf; var l_ = f.forwardRef((e, t) => { const { __scopeSelect: r, onAutoScroll: n, ...s } = e, o = Ss("SelectScrollButton", r), a = f.useRef(null), l = Ju(r), c = f.useCallback(() => { a.current !== null && (window.clearInterval(a.current), a.current = null) }, []); return f.useEffect(() => () => c(), [c]), Ve(() => { var d; const u = l().find(p => p.ref.current === document.activeElement); (d = u == null ? void 0 : u.ref.current) == null || d.scrollIntoView({ block: "nearest" }) }, [l]), i.jsx(ce.div, { "aria-hidden": !0, ...s, ref: t, style: { flexShrink: 0, ...s.style }, onPointerDown: se(s.onPointerDown, () => { a.current === null && (a.current = window.setInterval(n, 50)) }), onPointerMove: se(s.onPointerMove, () => { var u; (u = o.onItemLeave) == null || u.call(o), a.current === null && (a.current = window.setInterval(n, 50)) }), onPointerLeave: se(s.onPointerLeave, () => { c() }) }) }), q$ = "SelectSeparator", c_ = f.forwardRef((e, t) => { const { __scopeSelect: r, ...n } = e; return i.jsx(ce.div, { "aria-hidden": !0, ...n, ref: t }) }); c_.displayName = q$; var Ff = "SelectArrow", K$ = f.forwardRef((e, t) => { const { __scopeSelect: r, ...n } = e, s = Xu(r), o = js(Ff, r), a = Ss(Ff, r); return o.open && a.position === "popper" ? i.jsx(kb, { ...s, ...n, ref: t }) : null }); K$.displayName = Ff; var G$ = "SelectBubbleInput", u_ = f.forwardRef(({ __scopeSelect: e, value: t, ...r }, n) => { const s = f.useRef(null), o = we(n, s), a = FS(t); return f.useEffect(() => { const l = s.current; if (!l) return; const c = window.HTMLSelectElement.prototype, d = Object.getOwnPropertyDescriptor(c, "value").set; if (a !== t && d) { const p = new Event("change", { bubbles: !0 }); d.call(l, t), l.dispatchEvent(p) } }, [a, t]), i.jsx(ce.select, { ...r, style: { ...u0, ...r.style }, ref: o, defaultValue: t }) }); u_.displayName = G$; function d_(e) { return e === "" || e === void 0 } function h_(e) { const t = Xe(e), r = f.useRef(""), n = f.useRef(0), s = f.useCallback(a => { const l = r.current + a; t(l), function c(u) { r.current = u, window.clearTimeout(n.current), u !== "" && (n.current = window.setTimeout(() => c(""), 1e3)) }(l) }, [t]), o = f.useCallback(() => { r.current = "", window.clearTimeout(n.current) }, []); return f.useEffect(() => () => window.clearTimeout(n.current), []), [r, s, o] } function f_(e, t, r) { const s = t.length > 1 && Array.from(t).every(u => u === t[0]) ? t[0] : t, o = r ? e.indexOf(r) : -1; let a = Y$(e, Math.max(o, 0)); s.length === 1 && (a = a.filter(u => u !== r)); const c = a.find(u => u.textValue.toLowerCase().startsWith(s.toLowerCase())); return c !== r ? c : void 0 } function Y$(e, t) { return e.map((r, n) => e[(t + n) % e.length]) } var Q$ = US, p_ = BS, J$ = HS, X$ = WS, Z$ = qS, m_ = KS, e3 = JS, g_ = e_, v_ = r_, t3 = n_, r3 = o_, y_ = i_, x_ = a_, w_ = c_; const yn = Q$, xn = J$, qr = f.forwardRef(({ className: e, children: t, ...r }, n) => i.jsxs(p_, { ref: n, className: F("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1", e), ...r, children: [t, i.jsx(X$, { asChild: !0, children: i.jsx(_u, { className: "h-4 w-4 opacity-50" }) })] })); qr.displayName = p_.displayName; const b_ = f.forwardRef(({ className: e, ...t }, r) => i.jsx(y_, { ref: r, className: F("flex cursor-default items-center justify-center py-1", e), ...t, children: i.jsx(kk, { className: "h-4 w-4" }) })); b_.displayName = y_.displayName; const j_ = f.forwardRef(({ className: e, ...t }, r) => i.jsx(x_, { ref: r, className: F("flex cursor-default items-center justify-center py-1", e), ...t, children: i.jsx(_u, { className: "h-4 w-4" }) })); j_.displayName = x_.displayName; const Kr = f.forwardRef(({ className: e, children: t, position: r = "popper", ...n }, s) => i.jsx(Z$, { children: i.jsxs(m_, { ref: s, className: F("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2", r === "popper" && "data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1", e), position: r, ...n, children: [i.jsx(b_, {}), i.jsx(e3, { className: F("p-1", r === "popper" && "h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"), children: t }), i.jsx(j_, {})] }) })); Kr.displayName = m_.displayName; const n3 = f.forwardRef(({ className: e, ...t }, r) => i.jsx(g_, { ref: r, className: F("py-1.5 pl-8 pr-2 text-sm font-semibold", e), ...t })); n3.displayName = g_.displayName; const Qe = f.forwardRef(({ className: e, children: t, ...r }, n) => i.jsxs(v_, { ref: n, className: F("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground", e), ...r, children: [i.jsx("span", { className: "absolute left-2 flex h-3.5 w-3.5 items-center justify-center", children: i.jsx(r3, { children: i.jsx(Xs, { className: "h-4 w-4" }) }) }), i.jsx(t3, { children: t })] })); Qe.displayName = v_.displayName; const s3 = f.forwardRef(({ className: e, ...t }, r) => i.jsx(w_, { ref: r, className: F("-mx-1 my-1 h-px bg-muted", e), ...t })); s3.displayName = w_.displayName; function o3() { const { supabase: e, user: t } = ut(), { toast: r } = bn(), [n, s] = f.useState([]), [o, a] = f.useState(!0), [l, c] = f.useState(""), [u, d] = f.useState("All Subjects"), [p, m] = f.useState(null), [h, x] = f.useState(!1), [g, b] = f.useState(null), [v, y] = f.useState({ title: "", content: "", subject: "", topic: "", tags: "" }), w = Array.from(new Set(n.map(T => T.subject).filter(Boolean))); f.useEffect(() => { t && j() }, [t]); const j = async () => { if (t) try { a(!0); const { data: T, error: R } = await e.from("notes").select("*").eq("user_id", t.id).order("updated_at", { ascending: !1 }); if (R) throw R; s(T || []) } catch (T) { console.error("Error fetching notes:", T), r({ title: "Error", description: "Failed to load notes. Please try again.", variant: "destructive" }) } finally { a(!1) } }, S = () => { b(null), y({ title: "", content: "", subject: "", topic: "", tags: "" }), x(!0) }, _ = T => { var R; b(T), y({ title: T.title, content: T.content, subject: T.subject || "", topic: T.topic || "", tags: ((R = T.tags) == null ? void 0 : R.join(", ")) || "" }), x(!0) }, C = async () => { if (!t || !v.title.trim()) { r({ title: "Error", description: "Title is required", variant: "destructive" }); return } try { const T = v.tags ? v.tags.split(",").map(R => R.trim()).filter(Boolean) : []; if (g) { const { error: R } = await e.from("notes").update({ title: v.title, content: v.content, subject: v.subject || null, topic: v.topic || null, tags: T }).eq("id", g.id).eq("user_id", t.id); if (R) throw R; r({ title: "Success", description: "Note updated successfully" }) } else { const { error: R } = await e.from("notes").insert({ user_id: t.id, title: v.title, content: v.content, subject: v.subject || null, topic: v.topic || null, tags: T }); if (R) throw R; r({ title: "Success", description: "Note created successfully" }) } x(!1), j() } catch (T) { console.error("Error saving note:", T), r({ title: "Error", description: T.message || "Failed to save note. Please try again.", variant: "destructive" }) } }, k = async T => { if (t && confirm("Are you sure you want to delete this note?")) try { const { error: R } = await e.from("notes").delete().eq("id", T).eq("user_id", t.id); if (R) throw R; r({ title: "Success", description: "Note deleted successfully" }), (p == null ? void 0 : p.id) === T && m(null), j() } catch (R) { console.error("Error deleting note:", R), r({ title: "Error", description: "Failed to delete note. Please try again.", variant: "destructive" }) } }, P = n.filter(T => { var U; const R = u === "All Subjects" || T.subject === u, O = T.title.toLowerCase().includes(l.toLowerCase()) || T.content.toLowerCase().includes(l.toLowerCase()) || ((U = T.topic) == null ? void 0 : U.toLowerCase().includes(l.toLowerCase())); return R && O }).reduce((T, R) => { const O = R.subject || "Uncategorized", U = R.topic || "General"; return T[O] || (T[O] = {}), T[O][U] || (T[O][U] = []), T[O][U].push(R), T }, {}), L = T => { const R = new Date(T), U = Math.floor((new Date().getTime() - R.getTime()) / 1e3); return U < 60 ? "Just now" : U < 3600 ? `${Math.floor(U / 60)} minutes ago` : U < 86400 ? `${Math.floor(U / 3600)} hours ago` : U < 604800 ? `${Math.floor(U / 86400)} days ago` : R.toLocaleDateString() }; return o ? i.jsx(qe, { children: i.jsx("div", { className: "max-w-6xl mx-auto flex items-center justify-center h-[60vh]", children: i.jsx(Be, { className: "h-8 w-8 animate-spin text-muted-foreground" }) }) }) : i.jsxs(qe, { children: [i.jsxs("div", { className: "max-w-6xl mx-auto", children: [i.jsxs("div", { className: "flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6 animate-fade-in", children: [i.jsxs("div", { children: [i.jsx("h1", { className: "text-2xl md:text-3xl font-bold text-foreground", children: "Exam Notes" }), i.jsxs("p", { className: "text-muted-foreground mt-1", children: [n.length, " note", n.length !== 1 ? "s" : "", " across", " ", w.length || 1, " subject", w.length !== 1 ? "s" : ""] })] }), i.jsxs(H, { onClick: S, children: [i.jsx(At, { className: "h-4 w-4 mr-2" }), "Add Note"] })] }), i.jsxs("div", { className: "flex flex-col sm:flex-row gap-3 mb-6 animate-slide-up", style: { animationDelay: "0.1s", opacity: 0 }, children: [i.jsxs("div", { className: "relative flex-1", children: [i.jsx(mo, { className: "absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground" }), i.jsx(ae, { placeholder: "Search notes...", value: l, onChange: T => c(T.target.value), className: "pl-9" })] }), i.jsxs(yn, { value: u, onValueChange: d, children: [i.jsxs(qr, { className: "w-full sm:w-[180px]", children: [i.jsx(M0, { className: "h-4 w-4 mr-2" }), i.jsx(xn, {})] }), i.jsxs(Kr, { children: [i.jsx(Qe, { value: "All Subjects", children: "All Subjects" }), w.map(T => i.jsx(Qe, { value: T, children: T }, T))] })] })] }), i.jsxs("div", { className: "grid grid-cols-1 lg:grid-cols-3 gap-6", children: [i.jsx("div", { className: "lg:col-span-1 space-y-4 animate-slide-up", style: { animationDelay: "0.2s", opacity: 0 }, children: Object.keys(P).length === 0 ? i.jsxs("div", { className: "glass-card p-8 text-center", children: [i.jsx(mn, { className: "h-12 w-12 text-muted-foreground/50 mx-auto mb-4" }), i.jsx("h3", { className: "text-lg font-semibold text-foreground mb-2", children: "No notes yet" }), i.jsx("p", { className: "text-muted-foreground mb-4", children: "Create your first note to get started" }), i.jsxs(H, { onClick: S, children: [i.jsx(At, { className: "h-4 w-4 mr-2" }), "Add Note"] })] }) : Object.entries(P).map(([T, R]) => i.jsxs("div", { className: "glass-card p-4", children: [i.jsx("h3", { className: "font-semibold text-foreground mb-3", children: T }), i.jsx(MS, { type: "multiple", className: "space-y-2", children: Object.entries(R).map(([O, U]) => i.jsxs(Fm, { value: O, className: "border-none", children: [i.jsxs(Um, { className: "py-2 px-3 rounded-lg bg-muted/50 hover:bg-muted text-sm font-medium hover:no-underline", children: [O, i.jsx("span", { className: "ml-auto mr-2 text-xs text-muted-foreground", children: U.length })] }), i.jsx(zm, { className: "pt-2 pb-0", children: i.jsx("div", { className: "space-y-2 pl-2", children: U.map(z => i.jsx("button", { onClick: () => m(z), className: F("w-full text-left p-3 rounded-lg transition-all duration-200 group", (p == null ? void 0 : p.id) === z.id ? "bg-primary/10 border border-primary/30" : "bg-muted/30 hover:bg-muted/50"), children: i.jsx("div", { className: "flex items-start justify-between gap-2", children: i.jsxs("div", { className: "flex-1 min-w-0", children: [i.jsx("p", { className: "font-medium text-sm text-foreground truncate", children: z.title }), i.jsxs("div", { className: "flex items-center gap-2 mt-1", children: [i.jsx(ka, { className: "h-3 w-3 text-muted-foreground" }), i.jsx("span", { className: "text-xs text-muted-foreground", children: L(z.updated_at) })] })] }) }) }, z.id)) }) })] }, O)) })] }, T)) }), i.jsx("div", { className: "lg:col-span-2 animate-slide-up", style: { animationDelay: "0.3s", opacity: 0 }, children: p ? i.jsxs("div", { className: "glass-card p-6 md:p-8 sticky top-4", children: [i.jsxs("div", { className: "flex items-start justify-between mb-4", children: [i.jsxs("div", { className: "flex-1", children: [i.jsxs("div", { className: "flex items-center gap-2 mb-2", children: [p.subject && i.jsxs(i.Fragment, { children: [i.jsx("span", { className: "text-xs font-medium px-2 py-1 rounded-full bg-primary/10 text-primary", children: p.subject }), i.jsx(Ya, { className: "h-4 w-4 text-muted-foreground" })] }), p.topic && i.jsx("span", { className: "text-xs text-muted-foreground", children: p.topic })] }), i.jsx("h2", { className: "text-xl md:text-2xl font-bold text-foreground", children: p.title })] }), i.jsxs("div", { className: "flex gap-2", children: [i.jsx(H, { variant: "ghost", size: "icon", onClick: () => _(p), children: i.jsx(hi, { className: "h-4 w-4" }) }), i.jsx(H, { variant: "ghost", size: "icon", onClick: () => k(p.id), children: i.jsx(so, { className: "h-4 w-4 text-destructive" }) })] })] }), p.tags && p.tags.length > 0 && i.jsx("div", { className: "mb-4 flex flex-wrap gap-2", children: p.tags.map((T, R) => i.jsx("span", { className: "text-xs px-2 py-1 rounded-full bg-muted text-muted-foreground", children: T }, R)) }), i.jsx("div", { className: "prose prose-sm max-w-none", children: i.jsx("p", { className: "text-foreground leading-relaxed whitespace-pre-wrap", children: p.content || "No content" }) }), i.jsxs("div", { className: "flex items-center gap-2 mt-6 pt-4 border-t border-border", children: [i.jsx(ka, { className: "h-4 w-4 text-muted-foreground" }), i.jsxs("span", { className: "text-sm text-muted-foreground", children: ["Last modified ", L(p.updated_at)] })] })] }) : i.jsxs("div", { className: "glass-card p-12 text-center", children: [i.jsx(mn, { className: "h-16 w-16 text-muted-foreground/50 mx-auto mb-4" }), i.jsx("h3", { className: "text-lg font-semibold text-foreground mb-2", children: "Select a note" }), i.jsx("p", { className: "text-muted-foreground", children: "Choose a note from the list to view its content" })] }) })] })] }), i.jsx(lo, { open: h, onOpenChange: x, children: i.jsxs(hs, { className: "max-w-2xl", children: [i.jsxs(fs, { children: [i.jsx(ps, { children: g ? "Edit Note" : "Create New Note" }), i.jsx(ms, { children: g ? "Update your note details below" : "Fill in the details to create a new note" })] }), i.jsxs("div", { className: "space-y-4 py-4", children: [i.jsxs("div", { className: "space-y-2", children: [i.jsx(ie, { htmlFor: "title", children: "Title *" }), i.jsx(ae, { id: "title", value: v.title, onChange: T => y({ ...v, title: T.target.value }), placeholder: "Enter note title" })] }), i.jsxs("div", { className: "grid grid-cols-2 gap-4", children: [i.jsxs("div", { className: "space-y-2", children: [i.jsx(ie, { htmlFor: "subject", children: "Subject" }), i.jsx(ae, { id: "subject", value: v.subject, onChange: T => y({ ...v, subject: T.target.value }), placeholder: "e.g., Biology" })] }), i.jsxs("div", { className: "space-y-2", children: [i.jsx(ie, { htmlFor: "topic", children: "Topic" }), i.jsx(ae, { id: "topic", value: v.topic, onChange: T => y({ ...v, topic: T.target.value }), placeholder: "e.g., Cell Biology" })] })] }), i.jsxs("div", { className: "space-y-2", children: [i.jsx(ie, { htmlFor: "content", children: "Content" }), i.jsx(ds, { id: "content", value: v.content, onChange: T => y({ ...v, content: T.target.value }), placeholder: "Enter your note content...", className: "min-h-[200px]" })] }), i.jsxs("div", { className: "space-y-2", children: [i.jsx(ie, { htmlFor: "tags", children: "Tags (comma-separated)" }), i.jsx(ae, { id: "tags", value: v.tags, onChange: T => y({ ...v, tags: T.target.value }), placeholder: "e.g., important, exam, review" })] })] }), i.jsxs(xi, { children: [i.jsx(H, { variant: "outline", onClick: () => x(!1), children: "Cancel" }), i.jsxs(H, { onClick: C, children: [g ? "Update" : "Create", " Note"] })] })] }) })] }) } function i3() { const { supabase: e, user: t } = ut(), { toast: r } = bn(), n = Kt(), [s, o] = f.useState([]), [a, l] = f.useState(!0), [c, u] = f.useState(0), [d, p] = f.useState(!1), [m, h] = f.useState("All Subjects"), [x, g] = f.useState(""), [b, v] = f.useState(!1), [y, w] = f.useState({ correct: 0, incorrect: 0 }), [j, S] = f.useState(!1), [_, C] = f.useState(null), [k, E] = f.useState({ front: "", back: "", subject: "", topic: "" }); f.useEffect(() => { t && P() }, [t]), f.useEffect(() => { var q; if ((q = n.state) != null && q.generatedFlashcards && t) { const B = n.state.generatedFlashcards, he = n.state.subject || "General"; (async () => { try { const ve = B.map(me => ({ user_id: t.id, front: me.question, back: me.answer, subject: me.subject || he, topic: null, difficulty: 1, review_count: 0 })), { error: pe } = await e.from("flashcards").insert(ve); if (pe) throw pe; r({ title: "Flashcards Created!", description: `${B.length} flashcards have been added to your collection.` }), window.history.replaceState({}, document.title), P() } catch (ve) { console.error("Error saving generated flashcards:", ve), r({ title: "Error", description: "Failed to save generated flashcards.", variant: "destructive" }) } })() } }, [n.state, t]); const P = async () => { if (t) try { l(!0); const { data: q, error: B } = await e.from("flashcards").select("*").eq("user_id", t.id).order("created_at", { ascending: !1 }); if (B) throw B; o(q || []) } catch (q) { console.error("Error fetching flashcards:", q), r({ title: "Error", description: "Failed to load flashcards. Please try again.", variant: "destructive" }) } finally { l(!1) } }, L = () => { C(null), E({ front: "", back: "", subject: "", topic: "" }), S(!0) }, T = q => { C(q), E({ front: q.front, back: q.back, subject: q.subject || "", topic: q.topic || "" }), S(!0) }, R = async () => { if (!t || !k.front.trim() || !k.back.trim()) { r({ title: "Error", description: "Both front and back are required", variant: "destructive" }); return } try { if (_) { const { error: q } = await e.from("flashcards").update({ front: k.front, back: k.back, subject: k.subject || null, topic: k.topic || null }).eq("id", _.id).eq("user_id", t.id); if (q) throw q; r({ title: "Success", description: "Flashcard updated successfully" }) } else { const { error: q } = await e.from("flashcards").insert({ user_id: t.id, front: k.front, back: k.back, subject: k.subject || null, topic: k.topic || null, difficulty: 1, review_count: 0 }); if (q) throw q; r({ title: "Success", description: "Flashcard created successfully" }) } S(!1), P() } catch (q) { console.error("Error saving flashcard:", q), r({ title: "Error", description: q.message || "Failed to save flashcard. Please try again.", variant: "destructive" }) } }, O = async q => { if (t && confirm("Are you sure you want to delete this flashcard?")) try { const { error: B } = await e.from("flashcards").delete().eq("id", q).eq("user_id", t.id); if (B) throw B; r({ title: "Success", description: "Flashcard deleted successfully" }), P() } catch (B) { console.error("Error deleting flashcard:", B), r({ title: "Error", description: "Failed to delete flashcard. Please try again.", variant: "destructive" }) } }, U = async (q, B) => { if (t) try { const { data: he } = await e.from("flashcards").select("review_count").eq("id", q).eq("user_id", t.id).single(), { error: Se } = await e.from("flashcards").update({ last_reviewed: new Date().toISOString(), review_count: ((he == null ? void 0 : he.review_count) || 0) + 1 }).eq("id", q).eq("user_id", t.id); if (Se) throw Se; P() } catch (he) { console.error("Error updating review:", he) } }, z = s.filter(q => { const B = m === "All Subjects" || q.subject === m, he = q.front.toLowerCase().includes(x.toLowerCase()) || q.back.toLowerCase().includes(x.toLowerCase()); return B && he }), K = z[c], I = z.length > 0 ? (c + 1) / z.length * 100 : 0, N = () => { p(!1), setTimeout(() => { u(q => (q + 1) % z.length) }, 200) }, $ = () => { p(!1), setTimeout(() => { u(q => (q - 1 + z.length) % z.length) }, 200) }, Y = () => { p(!d) }, G = async q => { K && await U(K.id), w(q ? B => ({ ...B, correct: B.correct + 1 }) : B => ({ ...B, incorrect: B.incorrect + 1 })), N() }, re = () => { w({ correct: 0, incorrect: 0 }), u(0), p(!1) }, ne = () => { const q = [...z].sort(() => Math.random() - .5); o(q), u(0), p(!1) }, be = Array.from(new Set(s.map(q => q.subject).filter(Boolean))); return a ? i.jsx(qe, { children: i.jsx("div", { className: "max-w-4xl mx-auto flex items-center justify-center h-[60vh]", children: i.jsx(Be, { className: "h-8 w-8 animate-spin text-muted-foreground" }) }) }) : i.jsxs(qe, { children: [i.jsxs("div", { className: "max-w-4xl mx-auto space-y-6", children: [i.jsxs("div", { className: "flex flex-col md:flex-row md:items-center justify-between gap-4 animate-fade-in", children: [i.jsxs("div", { children: [i.jsx("h1", { className: "text-2xl md:text-3xl font-bold text-foreground", children: "Flashcards" }), i.jsxs("p", { className: "text-muted-foreground mt-1", children: [s.length, " card", s.length !== 1 ? "s" : "", " total"] })] }), i.jsxs("div", { className: "flex items-center gap-2", children: [i.jsxs(H, { variant: b ? "default" : "outline", onClick: () => v(!b), children: [i.jsx(V0, { className: "h-4 w-4 mr-2" }), b ? "Exit Quiz" : "Quiz Mode"] }), i.jsxs(H, { onClick: L, children: [i.jsx(At, { className: "h-4 w-4 mr-2" }), "Add Card"] })] })] }), i.jsxs("div", { className: "flex flex-col sm:flex-row gap-3 animate-slide-up", style: { animationDelay: "0.1s", opacity: 0 }, children: [i.jsxs("div", { className: "relative flex-1", children: [i.jsx(mo, { className: "absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground" }), i.jsx(ae, { placeholder: "Search flashcards...", value: x, onChange: q => g(q.target.value), className: "pl-9" })] }), i.jsxs(yn, { value: m, onValueChange: h, children: [i.jsxs(qr, { className: "w-full sm:w-[180px]", children: [i.jsx(M0, { className: "h-4 w-4 mr-2" }), i.jsx(xn, {})] }), i.jsxs(Kr, { children: [i.jsx(Qe, { value: "All Subjects", children: "All Subjects" }), be.map(q => i.jsx(Qe, { value: q, children: q }, q))] })] }), i.jsx(H, { variant: "outline", size: "icon", onClick: ne, children: i.jsx(Bk, { className: "h-4 w-4" }) })] }), z.length === 0 ? i.jsxs("div", { className: "glass-card p-12 text-center", children: [i.jsx(mn, { className: "h-16 w-16 text-muted-foreground/50 mx-auto mb-4" }), i.jsx("h3", { className: "text-lg font-semibold text-foreground mb-2", children: "No flashcards yet" }), i.jsx("p", { className: "text-muted-foreground mb-4", children: "Create your first flashcard to get started" }), i.jsxs(H, { onClick: L, children: [i.jsx(At, { className: "h-4 w-4 mr-2" }), "Add Card"] })] }) : i.jsxs(i.Fragment, { children: [i.jsxs("div", { className: "glass-card p-4 animate-slide-up", style: { animationDelay: "0.2s", opacity: 0 }, children: [i.jsxs("div", { className: "flex items-center justify-between mb-2", children: [i.jsxs("span", { className: "text-sm text-muted-foreground", children: ["Card ", c + 1, " of ", z.length] }), b && i.jsxs("div", { className: "flex items-center gap-4 text-sm", children: [i.jsxs("span", { className: "text-secondary flex items-center gap-1", children: [i.jsx(Xs, { className: "h-4 w-4" }), " ", y.correct] }), i.jsxs("span", { className: "text-destructive flex items-center gap-1", children: [i.jsx(oo, { className: "h-4 w-4" }), " ", y.incorrect] })] })] }), i.jsx("div", { className: "w-full bg-muted rounded-full h-2", children: i.jsx("div", { className: "bg-primary h-2 rounded-full transition-all", style: { width: `${I}%` } }) })] }), K && i.jsxs("div", { className: "flip-card h-80 md:h-96 cursor-pointer animate-scale-in relative", style: { animationDelay: "0.3s", opacity: 0 }, onClick: b ? void 0 : Y, children: [i.jsxs("div", { className: "absolute top-4 right-4 flex gap-2 z-10", children: [i.jsx(H, { variant: "ghost", size: "icon", className: "h-8 w-8", onClick: q => { q.stopPropagation(), T(K) }, children: i.jsx(hi, { className: "h-4 w-4" }) }), i.jsx(H, { variant: "ghost", size: "icon", className: "h-8 w-8", onClick: q => { q.stopPropagation(), O(K.id) }, children: i.jsx(so, { className: "h-4 w-4 text-destructive" }) })] }), i.jsxs("div", { className: F("flip-card-inner", d && "flipped"), children: [i.jsxs("div", { className: "flip-card-front glass-card p-8 flex flex-col items-center justify-center text-center", children: [i.jsx("div", { className: "absolute top-4 left-4", children: K.subject && i.jsx("span", { className: "text-xs font-medium px-2 py-1 rounded-full bg-primary/10 text-primary", children: K.subject }) }), i.jsx(mn, { className: "h-8 w-8 text-primary mb-4" }), i.jsx("h3", { className: "text-xl md:text-2xl font-semibold text-foreground", children: K.front }), !b && i.jsx("p", { className: "text-sm text-muted-foreground mt-4", children: "Click to reveal answer" })] }), i.jsxs("div", { className: "flip-card-back glass-card p-8 flex flex-col items-center justify-center text-center bg-gradient-to-br from-secondary/10 to-primary/10", children: [i.jsx("div", { className: "absolute top-4 left-4", children: i.jsx("span", { className: "text-xs font-medium px-2 py-1 rounded-full bg-secondary/20 text-secondary-foreground", children: "Answer" }) }), i.jsx("p", { className: "text-lg md:text-xl text-foreground leading-relaxed", children: K.back })] })] })] }), i.jsxs("div", { className: "flex items-center justify-center gap-4 animate-slide-up", style: { animationDelay: "0.4s", opacity: 0 }, children: [i.jsx(H, { variant: "outline", size: "icon", onClick: $, className: "h-12 w-12 rounded-full", children: i.jsx(I0, { className: "h-5 w-5" }) }), b ? i.jsxs(i.Fragment, { children: [i.jsxs(H, { variant: "outline", className: "h-12 px-6 border-destructive text-destructive hover:bg-destructive hover:text-destructive-foreground", onClick: () => G(!1), children: [i.jsx(oo, { className: "h-5 w-5 mr-2" }), "Incorrect"] }), i.jsxs(H, { className: "h-12 px-6 bg-secondary hover:bg-secondary/90 text-secondary-foreground", onClick: () => G(!0), children: [i.jsx(Xs, { className: "h-5 w-5 mr-2" }), "Correct"] }), y.correct + y.incorrect > 0 && i.jsxs(H, { variant: "outline", onClick: re, className: "h-12 px-6", children: [i.jsx(gv, { className: "h-5 w-5 mr-2" }), "Reset"] })] }) : i.jsxs(H, { variant: "outline", onClick: Y, className: "h-12 px-6", children: [i.jsx(gv, { className: "h-5 w-5 mr-2" }), "Flip Card"] }), i.jsx(H, { variant: "outline", size: "icon", onClick: N, className: "h-12 w-12 rounded-full", children: i.jsx(Ya, { className: "h-5 w-5" }) })] }), z.length > 0 && i.jsx("div", { className: "grid grid-cols-2 md:grid-cols-4 gap-3 animate-slide-up", style: { animationDelay: "0.5s", opacity: 0 }, children: z.slice(0, 8).map((q, B) => i.jsxs("button", { onClick: () => { u(B), p(!1) }, className: F("p-4 rounded-xl text-left transition-all duration-200", c === B ? "bg-primary text-primary-foreground shadow-glow" : "bg-muted/50 hover:bg-muted text-foreground"), children: [i.jsx("p", { className: "text-xs font-medium mb-1 opacity-70", children: q.subject || "General" }), i.jsx("p", { className: "text-sm font-medium line-clamp-2", children: q.front })] }, q.id)) })] })] }), i.jsx(lo, { open: j, onOpenChange: S, children: i.jsxs(hs, { className: "max-w-2xl", children: [i.jsxs(fs, { children: [i.jsx(ps, { children: _ ? "Edit Flashcard" : "Create New Flashcard" }), i.jsx(ms, { children: _ ? "Update your flashcard details below" : "Fill in the details to create a new flashcard" })] }), i.jsxs("div", { className: "space-y-4 py-4", children: [i.jsxs("div", { className: "grid grid-cols-2 gap-4", children: [i.jsxs("div", { className: "space-y-2", children: [i.jsx(ie, { htmlFor: "subject", children: "Subject" }), i.jsx(ae, { id: "subject", value: k.subject, onChange: q => E({ ...k, subject: q.target.value }), placeholder: "e.g., Biology" })] }), i.jsxs("div", { className: "space-y-2", children: [i.jsx(ie, { htmlFor: "topic", children: "Topic" }), i.jsx(ae, { id: "topic", value: k.topic, onChange: q => E({ ...k, topic: q.target.value }), placeholder: "e.g., Cell Biology" })] })] }), i.jsxs("div", { className: "space-y-2", children: [i.jsx(ie, { htmlFor: "front", children: "Front (Question) *" }), i.jsx(ds, { id: "front", value: k.front, onChange: q => E({ ...k, front: q.target.value }), placeholder: "Enter the question or prompt...", className: "min-h-[100px]" })] }), i.jsxs("div", { className: "space-y-2", children: [i.jsx(ie, { htmlFor: "back", children: "Back (Answer) *" }), i.jsx(ds, { id: "back", value: k.back, onChange: q => E({ ...k, back: q.target.value }), placeholder: "Enter the answer...", className: "min-h-[100px]" })] })] }), i.jsxs(xi, { children: [i.jsx(H, { variant: "outline", onClick: () => S(!1), children: "Cancel" }), i.jsxs(H, { onClick: R, children: [_ ? "Update" : "Create", " Card"] })] })] }) })] }) } const a3 = Ga("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2", { variants: { variant: { default: "border-transparent bg-primary text-primary-foreground hover:bg-primary/80", secondary: "border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80", destructive: "border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80", outline: "text-foreground" } }, defaultVariants: { variant: "default" } }); function Ay({ className: e, variant: t, ...r }) { return i.jsx("div", { className: F(a3({ variant: t }), e), ...r }) } function l3() { const { supabase: e, user: t } = ut(), { toast: r } = bn(), [n, s] = f.useState([]), [o, a] = f.useState(!0), [l, c] = f.useState(""), [u, d] = f.useState("All Subjects"), [p, m] = f.useState("All Boards"), [h, x] = f.useState(!1), [g, b] = f.useState(null), [v, y] = f.useState({ title: "", subject: "", year: "", exam_board: "", file_url: "", file_type: "link", file: null, score: "", max_score: "" }), [w, j] = f.useState(!1); f.useEffect(() => { t && S() }, [t]); const S = async () => { if (t) try { a(!0); const { data: N, error: $ } = await e.from("past_papers").select("*").eq("user_id", t.id).order("created_at", { ascending: !1 }); if ($) throw $; s(N || []) } catch (N) { console.error("Error fetching papers:", N), r({ title: "Error", description: "Failed to load past papers. Please try again.", variant: "destructive" }) } finally { a(!1) } }, _ = () => { b(null), y({ title: "", subject: "", year: "", exam_board: "", file_url: "", file_type: "link", file: null, score: "", max_score: "" }), x(!0) }, C = N => { var Y, G, re, ne, be; b(N); const $ = ((Y = N.file_url) == null ? void 0 : Y.startsWith("http://")) || ((G = N.file_url) == null ? void 0 : G.startsWith("https://")); y({ title: N.title, subject: N.subject || "", year: ((re = N.year) == null ? void 0 : re.toString()) || "", exam_board: N.exam_board || "", file_url: N.file_url || "", file_type: N.file_type || ($ ? "link" : "upload"), file: null, score: ((ne = N.score) == null ? void 0 : ne.toString()) || "", max_score: ((be = N.max_score) == null ? void 0 : be.toString()) || "" }), x(!0) }, k = async N => { if (!t) return null; try { j(!0); const $ = N.name.split(".").pop(), G = `past-papers/${`${t.id}/${Date.now()}_${Math.random().toString(36).substring(7)}.${$}`}`, { error: re, data: ne } = await e.storage.from("past-papers").upload(G, N, { cacheControl: "3600", upsert: !1 }); if (re) throw re; const { data: be } = e.storage.from("past-papers").getPublicUrl(G); return be.publicUrl } catch ($) { return console.error("Error uploading file:", $), r({ title: "Upload Error", description: $.message || "Failed to upload file. Please try again.", variant: "destructive" }), null } finally { j(!1) } }, E = async () => { if (!t || !v.title.trim()) { r({ title: "Error", description: "Title is required", variant: "destructive" }); return } try { let N = v.file_url; if (v.file_type === "upload" && v.file) { const Y = await k(v.file); if (!Y) return; N = Y } else v.file_type === "link" && !v.file_url.trim() && (N = null); const $ = { user_id: t.id, title: v.title, subject: v.subject || null, year: v.year ? parseInt(v.year) : null, exam_board: v.exam_board || null, file_url: N, file_type: v.file_type, score: v.score ? parseInt(v.score) : null, max_score: v.max_score ? parseInt(v.max_score) : null, completed_at: v.score ? new Date().toISOString() : null }; if (g) { const { error: Y } = await e.from("past_papers").update($).eq("id", g.id).eq("user_id", t.id); if (Y) throw Y; r({ title: "Success", description: "Past paper updated successfully" }) } else { const { error: Y } = await e.from("past_papers").insert($); if (Y) throw Y; r({ title: "Success", description: "Past paper created successfully" }) } x(!1), S() } catch (N) { console.error("Error saving paper:", N), r({ title: "Error", description: N.message || "Failed to save past paper. Please try again.", variant: "destructive" }) } }, P = async N => { if (t && confirm("Are you sure you want to delete this past paper?")) try { const { error: $ } = await e.from("past_papers").delete().eq("id", N).eq("user_id", t.id); if ($) throw $; r({ title: "Success", description: "Past paper deleted successfully" }), S() } catch ($) { console.error("Error deleting paper:", $), r({ title: "Error", description: "Failed to delete past paper. Please try again.", variant: "destructive" }) } }, L = async N => { if (!N.file_url) { r({ title: "No file available", description: "This paper doesn't have a file attached yet.", variant: "destructive" }); return } if (N.file_type === "upload" || !N.file_type && !N.file_url.startsWith("http")) try { const Y = await (await fetch(N.file_url)).blob(), G = window.URL.createObjectURL(Y), re = document.createElement("a"); re.href = G, re.download = `${N.title.replace(/\s+/g, "_")}.pdf`, document.body.appendChild(re), re.click(), window.URL.revokeObjectURL(G), document.body.removeChild(re) } catch { window.open(N.file_url, "_blank") } else window.open(N.file_url, "_blank") }, T = N => { r({ title: "Review Paper", description: `Reviewing ${N.title}. Feature coming soon!` }) }, R = n.filter(N => { const $ = N.title.toLowerCase().includes(l.toLowerCase()), Y = u === "All Subjects" || N.subject === u, G = p === "All Boards" || N.exam_board === p; return $ && Y && G }), O = n.filter(N => N.completed_at).length, U = n.filter(N => N.score !== null && N.max_score !== null), z = U.length > 0 ? U.reduce((N, $) => N + ($.score || 0) / ($.max_score || 1) * 100, 0) / U.length : 0, K = Array.from(new Set(n.map(N => N.subject).filter(Boolean))), I = Array.from(new Set(n.map(N => N.exam_board).filter(Boolean))); return o ? i.jsx(qe, { children: i.jsx("div", { className: "max-w-6xl mx-auto flex items-center justify-center h-[60vh]", children: i.jsx(Be, { className: "h-8 w-8 animate-spin text-muted-foreground" }) }) }) : i.jsxs(qe, { children: [i.jsxs("div", { className: "max-w-6xl mx-auto space-y-6", children: [i.jsxs("div", { className: "flex flex-col md:flex-row md:items-center justify-between gap-4 animate-fade-in", children: [i.jsxs("div", { children: [i.jsx("h1", { className: "text-2xl md:text-3xl font-bold text-foreground", children: "Past Papers" }), i.jsxs("p", { className: "text-muted-foreground mt-1", children: [n.length, " paper", n.length !== 1 ? "s" : "", " from various exam boards"] })] }), i.jsxs(H, { onClick: _, children: [i.jsx(At, { className: "h-4 w-4 mr-2" }), "Add Paper"] })] }), i.jsx("div", { className: "grid grid-cols-2 md:grid-cols-4 gap-4 animate-slide-up", style: { animationDelay: "0.1s", opacity: 0 }, children: [{ label: "Total Papers", value: n.length, icon: cn }, { label: "Completed", value: O, icon: Ic }, { label: "Average Score", value: `${Math.round(z)}%`, icon: H0 }, { label: "Study Time", value: "12.5h", icon: Hk }].map(N => i.jsx("div", { className: "glass-card p-4", children: i.jsxs("div", { className: "flex items-center gap-3", children: [i.jsx("div", { className: "p-2 rounded-lg bg-primary/10", children: i.jsx(N.icon, { className: "h-5 w-5 text-primary" }) }), i.jsxs("div", { children: [i.jsx("p", { className: "text-2xl font-bold text-foreground", children: N.value }), i.jsx("p", { className: "text-xs text-muted-foreground", children: N.label })] })] }) }, N.label)) }), i.jsxs("div", { className: "flex flex-wrap gap-3 animate-slide-up", style: { animationDelay: "0.2s", opacity: 0 }, children: [i.jsxs("div", { className: "relative flex-1 min-w-[200px]", children: [i.jsx(mo, { className: "absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground" }), i.jsx(ae, { placeholder: "Search papers...", value: l, onChange: N => c(N.target.value), className: "pl-9" })] }), i.jsxs(yn, { value: u, onValueChange: d, children: [i.jsx(qr, { className: "w-[150px]", children: i.jsx(xn, {}) }), i.jsxs(Kr, { children: [i.jsx(Qe, { value: "All Subjects", children: "All Subjects" }), K.map(N => i.jsx(Qe, { value: N, children: N }, N))] })] }), i.jsxs(yn, { value: p, onValueChange: m, children: [i.jsx(qr, { className: "w-[140px]", children: i.jsx(xn, {}) }), i.jsxs(Kr, { children: [i.jsx(Qe, { value: "All Boards", children: "All Boards" }), I.map(N => i.jsx(Qe, { value: N, children: N }, N))] })] })] }), n.length === 0 ? i.jsxs("div", { className: "glass-card p-12 text-center", children: [i.jsx(cn, { className: "h-16 w-16 text-muted-foreground/50 mx-auto mb-4" }), i.jsx("h3", { className: "text-lg font-semibold text-foreground mb-2", children: "No past papers yet" }), i.jsx("p", { className: "text-muted-foreground mb-4", children: "Create your first past paper to get started" }), i.jsxs(H, { onClick: _, children: [i.jsx(At, { className: "h-4 w-4 mr-2" }), "Add Paper"] })] }) : i.jsx("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4", children: R.map((N, $) => { const Y = !!N.completed_at, G = N.score && N.max_score ? N.score / N.max_score * 100 : 0; return i.jsxs("div", { className: "glass-card p-5 hover-lift animate-slide-up", style: { animationDelay: `${.1 * $}s`, opacity: 0 }, children: [i.jsxs("div", { className: "flex items-start justify-between mb-3", children: [i.jsxs("div", { className: "flex items-center gap-2", children: [N.subject && i.jsx(Ay, { variant: "outline", children: N.subject }), N.exam_board && i.jsx(Ay, { variant: "outline", children: N.exam_board })] }), i.jsxs("div", { className: "flex gap-1", children: [i.jsx(H, { variant: "ghost", size: "icon", className: "h-8 w-8", onClick: () => C(N), children: i.jsx(hi, { className: "h-4 w-4" }) }), i.jsx(H, { variant: "ghost", size: "icon", className: "h-8 w-8", onClick: () => P(N.id), children: i.jsx(so, { className: "h-4 w-4 text-destructive" }) })] })] }), i.jsx("h3", { className: "font-semibold text-foreground mb-1", children: N.title }), i.jsxs("p", { className: "text-sm text-muted-foreground mb-4", children: [N.subject, "  ", N.year] }), Y && N.score !== null && N.max_score !== null ? i.jsxs("div", { className: "mb-4", children: [i.jsxs("div", { className: "flex items-center justify-between text-sm mb-1", children: [i.jsx("span", { className: "text-muted-foreground", children: "Your Score" }), i.jsxs("span", { className: F("font-bold", G >= 70 ? "text-secondary" : G >= 50 ? "text-accent-foreground" : "text-destructive"), children: [Math.round(G), "%"] })] }), i.jsx(Hu, { value: G, className: "h-2" })] }) : i.jsxs("div", { className: "mb-4 p-3 rounded-lg bg-muted/50 flex items-center gap-2 text-sm text-muted-foreground", children: [i.jsx(D0, { className: "h-4 w-4" }), i.jsx("span", { children: "Not attempted yet" })] }), i.jsxs("div", { className: "flex items-center gap-2", children: [i.jsx(H, { variant: Y ? "outline" : "default", className: "flex-1", onClick: () => T(N), children: Y ? i.jsxs(i.Fragment, { children: [i.jsx($0, { className: "h-4 w-4 mr-2" }), "Review"] }) : i.jsxs(i.Fragment, { children: [i.jsx(V0, { className: "h-4 w-4 mr-2" }), "Start Quiz"] }) }), N.file_url && i.jsx(i.Fragment, { children: (N.file_type === "upload" || !N.file_type && N.file_url && !N.file_url.startsWith("http")) && i.jsx(H, { variant: "outline", size: "icon", onClick: () => L(N), children: i.jsx(L0, { className: "h-4 w-4" }) }) })] })] }, N.id) }) }), R.length === 0 && n.length > 0 && i.jsxs("div", { className: "glass-card p-12 text-center", children: [i.jsx(cn, { className: "h-16 w-16 text-muted-foreground/50 mx-auto mb-4" }), i.jsx("h3", { className: "text-lg font-semibold text-foreground mb-2", children: "No papers found" }), i.jsx("p", { className: "text-muted-foreground", children: "Try adjusting your filters" })] })] }), i.jsx(lo, { open: h, onOpenChange: x, children: i.jsxs(hs, { className: "max-w-2xl", children: [i.jsxs(fs, { children: [i.jsx(ps, { children: g ? "Edit Past Paper" : "Create New Past Paper" }), i.jsx(ms, { children: g ? "Update your past paper details below" : "Fill in the details to create a new past paper" })] }), i.jsxs("div", { className: "space-y-4 py-4", children: [i.jsxs("div", { className: "space-y-2", children: [i.jsx(ie, { htmlFor: "title", children: "Title *" }), i.jsx(ae, { id: "title", value: v.title, onChange: N => y({ ...v, title: N.target.value }), placeholder: "Enter paper title" })] }), i.jsxs("div", { className: "grid grid-cols-2 gap-4", children: [i.jsxs("div", { className: "space-y-2", children: [i.jsx(ie, { htmlFor: "subject", children: "Subject" }), i.jsx(ae, { id: "subject", value: v.subject, onChange: N => y({ ...v, subject: N.target.value }), placeholder: "e.g., Biology" })] }), i.jsxs("div", { className: "space-y-2", children: [i.jsx(ie, { htmlFor: "exam_board", children: "Exam Board" }), i.jsx(ae, { id: "exam_board", value: v.exam_board, onChange: N => y({ ...v, exam_board: N.target.value }), placeholder: "e.g., AQA" })] })] }), i.jsxs("div", { className: "space-y-2", children: [i.jsx(ie, { htmlFor: "year", children: "Year" }), i.jsx(ae, { id: "year", type: "number", value: v.year, onChange: N => y({ ...v, year: N.target.value }), placeholder: "2024" })] }), i.jsxs("div", { className: "space-y-2", children: [i.jsx(ie, { children: "File Attachment" }), i.jsxs("div", { className: "flex gap-2 mb-2", children: [i.jsxs(H, { type: "button", variant: v.file_type === "link" ? "default" : "outline", size: "sm", onClick: () => y({ ...v, file_type: "link", file: null }), children: [i.jsx(Ik, { className: "h-4 w-4 mr-2" }), "Link"] }), i.jsxs(H, { type: "button", variant: v.file_type === "upload" ? "default" : "outline", size: "sm", onClick: () => y({ ...v, file_type: "upload", file_url: "" }), children: [i.jsx(Wk, { className: "h-4 w-4 mr-2" }), "Upload File"] })] }), v.file_type === "link" ? i.jsxs("div", { className: "space-y-2", children: [i.jsx(ae, { id: "file_url", value: v.file_url, onChange: N => y({ ...v, file_url: N.target.value }), placeholder: "https://example.com/past-paper.pdf" }), i.jsx("p", { className: "text-xs text-muted-foreground", children: "Paste a link to the past paper (e.g., Google Drive, Dropbox, etc.)" })] }) : i.jsxs("div", { className: "space-y-2", children: [i.jsx(ae, { id: "file", type: "file", accept: ".pdf,.doc,.docx,.txt", onChange: N => { var Y; const $ = (Y = N.target.files) == null ? void 0 : Y[0]; if ($) { if ($.size > 10 * 1024 * 1024) { r({ title: "File too large", description: "Please upload a file smaller than 10MB.", variant: "destructive" }); return } y({ ...v, file: $ }) } }, className: "cursor-pointer" }), v.file && i.jsxs("p", { className: "text-xs text-muted-foreground", children: ["Selected: ", v.file.name, " (", (v.file.size / 1024 / 1024).toFixed(2), " MB)"] }), i.jsx("p", { className: "text-xs text-muted-foreground", children: "Upload PDF, Word, or text files (max 10MB)" })] })] }), i.jsxs("div", { className: "grid grid-cols-2 gap-4", children: [i.jsxs("div", { className: "space-y-2", children: [i.jsx(ie, { htmlFor: "score", children: "Score" }), i.jsx(ae, { id: "score", type: "number", value: v.score, onChange: N => y({ ...v, score: N.target.value }), placeholder: "82" })] }), i.jsxs("div", { className: "space-y-2", children: [i.jsx(ie, { htmlFor: "max_score", children: "Max Score" }), i.jsx(ae, { id: "max_score", type: "number", value: v.max_score, onChange: N => y({ ...v, max_score: N.target.value }), placeholder: "100" })] })] })] }), i.jsxs(xi, { children: [i.jsx(H, { variant: "outline", onClick: () => x(!1), children: "Cancel" }), i.jsx(H, { onClick: E, disabled: w, children: w ? i.jsxs(i.Fragment, { children: [i.jsx(Be, { className: "h-4 w-4 mr-2 animate-spin" }), "Uploading..."] }) : i.jsxs(i.Fragment, { children: [g ? "Update" : "Create", " Paper"] }) })] })] }) })] }) } const c3 = _S, u3 = Rm, d3 = Om, h3 = "modulepreload", f3 = function (e) { return "/" + e }, Oy = {}, S_ = function (t, r, n) { let s = Promise.resolve(); if (r && r.length > 0) { document.getElementsByTagName("link"); const a = document.querySelector("meta[property=csp-nonce]"), l = (a == null ? void 0 : a.nonce) || (a == null ? void 0 : a.getAttribute("nonce")); s = Promise.allSettled(r.map(c => { if (c = f3(c), c in Oy) return; Oy[c] = !0; const u = c.endsWith(".css"), d = u ? '[rel="stylesheet"]' : ""; if (document.querySelector(`link[href="${c}"]${d}`)) return; const p = document.createElement("link"); if (p.rel = u ? "stylesheet" : h3, u || (p.as = "script"), p.crossOrigin = "", p.href = c, l && p.setAttribute("nonce", l), document.head.appendChild(p), u) return new Promise((m, h) => { p.addEventListener("load", m), p.addEventListener("error", () => h(new Error(`Unable to preload CSS for ${c}`))) }) })) } function o(a) { const l = new Event("vite:preloadError", { cancelable: !0 }); if (l.payload = a, window.dispatchEvent(l), !l.defaultPrevented) throw a } return s.then(a => { for (const l of a || []) l.status === "rejected" && o(l.reason); return t().catch(o) }) }, Iy = window.location.origin; async function p3(e) { try { let t = e; if (!t) { const { createClient: n } = await S_(async () => { const { createClient: a } = await Promise.resolve().then(() => b1); return { createClient: a } }, void 0), s = "https://xgynmajzjqljhhojtvcq.supabase.co", o = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhneW5tYWp6anFsamhob2p0dmNxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUzMTE5NTUsImV4cCI6MjA4MDg4Nzk1NX0.L-BUzVk3XUS-et4mB9bi1PcmLVFN_5pA_ykUD2Lme2s"; t = n(s, o) } const { data: { session: r } } = await t.auth.getSession(); return (r == null ? void 0 : r.access_token) || null } catch (t) { return console.error("Error getting auth token:", t), null } } async function Za(e, t = {}, r) {
  try { const n = await p3(r); if (!n) return { error: "Not authenticated. Please sign in to use AI features." }; const s = `${Iy}${e}`; console.log(`[AI Client] Making request to: ${s}`); const o = await fetch(s, { ...t, headers: { "Content-Type": "application/json", Authorization: `Bearer ${n}`, ...t.headers } }); let a; const l = o.headers.get("content-type"); if (l && l.includes("application/json")) a = await o.json(); else return { error: `Server returned non-JSON response: ${(await o.text()).substring(0, 200)}` }; return o.ok ? { data: a } : { error: a.error || `Request failed with status ${o.status}`, message: a.message } } catch (n) {
    return console.error(`API request error (${e}):`, n), n instanceof TypeError && n.message.includes("fetch") ? {
      error: `Failed to connect to API server. Please check:
- Is the server running? (Expected: ${Iy})
- Is VITE_API_URL set correctly in your .env file?
- Check your network connection and CORS settings.`} : { error: n instanceof Error ? n.message : "Network error occurred" }
  }
} async function m3(e, t) { return Za("/api/ai/generate-question", { method: "POST", body: JSON.stringify(e) }, t) } async function g3(e, t) { return Za("/api/ai/generate-simple-question", { method: "POST", body: JSON.stringify(e) }, t) } async function v3(e, t) { return Za("/api/ai/evaluate-answer", { method: "POST", body: JSON.stringify(e) }, t) } async function y3(e, t) { return Za("/api/ai/generate-flashcards", { method: "POST", body: JSON.stringify(e) }, t) } async function x3(e, t) { return Za("/api/ai/generate-knowledge-organizer", { method: "POST", body: JSON.stringify(e) }, t) } function w3() {
  var Zr; const { supabase: e, user: t } = ut(), { toast: r } = bn(), n = Sn(), s = Kt(), [o, a] = f.useState([]), [l, c] = f.useState(!0), [u, d] = f.useState(""), [p, m] = f.useState("All Subjects"), [h, x] = f.useState(null), [g, b] = f.useState([]), [v, y] = f.useState(!1), [w, j] = f.useState(null), [S, _] = f.useState({ title: "", subject: "", topic: "", sections: [] }), [C, k] = f.useState(null), [E, P] = f.useState(!1), [L, T] = f.useState(""), [R, O] = f.useState(""), [U, z] = f.useState(""), [K, I] = f.useState(!1), [N, $] = f.useState(null); f.useEffect(() => { t && (re(), Y()) }, [t]); const Y = async () => { if (!(!t || !e)) try { const { count: A, error: M } = await e.from("ai_usage_tracking").select("*", { count: "exact", head: !0 }).eq("user_id", t.id).eq("feature_type", "knowledge_organizer"); if (M) { console.error("Error fetching AI usage count:", M); return } $(A || 0) } catch (A) { console.error("Error fetching AI usage count:", A) } }; f.useEffect(() => { var A; (A = s.state) != null && A.context }, [s.state, h]); const G = A => { var J; const M = ((J = A.content) == null ? void 0 : J.sections) || []; if (M.length === 0) return 0; const Q = M.filter(ue => ue.reviewed).length; return Math.round(Q / M.length * 100) }, re = async () => { var A; if (t) try { c(!0); const { data: M, error: Q } = await e.from("knowledge_organizers").select("*").eq("user_id", t.id).order("updated_at", { ascending: !1 }); if (Q) throw Q; if (a(M || []), M && M.length > 0 && !h) { x(M[0]); const J = M[0]; (A = J.content) != null && A.sections && J.content.sections.length > 0 && b([J.content.sections[0].title]) } } catch (M) { console.error("Error fetching organizers:", M), r({ title: "Error", description: "Failed to load knowledge organizers. Please try again.", variant: "destructive" }) } finally { c(!1) } }, ne = () => { j(null), _({ title: "", subject: "", topic: "", sections: [] }), y(!0) }, be = async () => { var A; if (!t || !L.trim()) { r({ title: "Error", description: "Please enter a prompt to generate a knowledge organizer", variant: "destructive" }); return } if (N !== null && N >= 10) { r({ title: "Limit Reached", description: "You have reached the limit of 10 AI generation attempts. Please upgrade to premium for unlimited access.", variant: "destructive" }); return } I(!0); try { const M = await x3({ prompt: L, subject: R || void 0, topic: U || void 0 }, e); if (M.error) { if (M.error.includes("limit") || M.error.includes("429")) r({ title: "Limit Reached", description: M.error, variant: "destructive" }), Y(); else throw new Error(M.error); return } (A = M.data) != null && A.sections && (_({ title: U || R || "AI Generated Organizer", subject: R || "", topic: U || "", sections: M.data.sections }), P(!1), y(!0), T(""), O(""), z(""), M.data.usageCount !== void 0 && $(M.data.usageCount), r({ title: "Success", description: `Generated ${M.data.sections.length} sections! Review and edit before saving.` })) } catch (M) { console.error("Error generating knowledge organizer:", M), r({ title: "Error", description: M.message || "Failed to generate knowledge organizer. Please try again.", variant: "destructive" }) } finally { I(!1) } }, q = A => { var J; j(A); const Q = (((J = A.content) == null ? void 0 : J.sections) || []).map(ue => { var ge; return { ...ue, keyPoints: ((ge = ue.keyPoints) == null ? void 0 : ge.map(Re => typeof Re == "string" ? { text: Re, mastered: !1 } : Re)) || [] } }); _({ title: A.title, subject: A.subject || "", topic: A.topic || "", sections: Q }), y(!0) }, B = () => { _({ ...S, sections: [...S.sections, { title: "", content: "", keyPoints: [], color: "primary" }] }) }, he = A => { _({ ...S, sections: S.sections.filter((M, Q) => Q !== A) }) }, Se = (A, M, Q) => { const J = [...S.sections]; J[A] = { ...J[A], [M]: Q }, _({ ...S, sections: J }) }, ve = A => { const M = [...S.sections], J = (M[A].keyPoints || []).map(ue => typeof ue == "string" ? { text: ue, mastered: !1 } : ue); J.push({ text: "", mastered: !1 }), M[A].keyPoints = J, _({ ...S, sections: M }) }, pe = (A, M) => { const Q = [...S.sections]; Q[A].keyPoints = Q[A].keyPoints.filter((J, ue) => ue !== M), _({ ...S, sections: Q }) }, me = (A, M, Q) => { const J = [...S.sections], ge = (J[A].keyPoints || []).map(Re => typeof Re == "string" ? { text: Re, mastered: !1 } : Re); ge[M] = { ...ge[M], text: Q }, J[A].keyPoints = ge, _({ ...S, sections: J }) }, et = (A, M) => { const Q = [...S.sections], ue = (Q[A].keyPoints || []).map(ge => typeof ge == "string" ? { text: ge, mastered: !1 } : ge); ue[M] = { ...ue[M], mastered: !ue[M].mastered, lastReviewed: ue[M].mastered ? ue[M].lastReviewed : new Date().toISOString() }, Q[A].keyPoints = ue, _({ ...S, sections: Q }) }, Ct = async () => { if (!t || !S.title.trim()) { r({ title: "Error", description: "Title is required", variant: "destructive" }); return } const A = S.sections.filter(M => M.title.trim() && M.content.trim()); try { const M = { sections: A }, Q = { user_id: t.id, title: S.title, subject: S.subject || null, topic: S.topic || null, content: M }; if (w) { const { error: J } = await e.from("knowledge_organizers").update(Q).eq("id", w.id).eq("user_id", t.id); if (J) throw J; r({ title: "Success", description: "Knowledge organizer updated successfully" }) } else { const { error: J } = await e.from("knowledge_organizers").insert(Q); if (J) throw J; r({ title: "Success", description: "Knowledge organizer created successfully" }) } y(!1), re() } catch (M) { console.error("Error saving organizer:", M), r({ title: "Error", description: M.message || "Failed to save knowledge organizer. Please try again.", variant: "destructive" }) } }, Jr = async A => { var M; if (!(!h || !t)) try { k(A); const Q = [...((M = h.content) == null ? void 0 : M.sections) || []]; Q[A] && (Q[A].reviewed = !0, Q[A].lastReviewedAt = new Date().toISOString()); const { error: J } = await e.from("knowledge_organizers").update({ content: { sections: Q } }).eq("id", h.id).eq("user_id", t.id); if (J) throw J; const { error: ue } = await e.from("study_sessions").insert({ user_id: t.id, organizer_id: h.id, duration: 0, sections_reviewed: [A], date: new Date().toISOString() }); ue && console.warn("Failed to track study session:", ue); const ge = { ...h, content: { ...h.content, sections: Q } }; x(ge), a(Re => Re.map(Gt => Gt.id === h.id ? ge : Gt)), r({ title: "Section Reviewed", description: `"${Q[A].title}" marked as reviewed` }) } catch (Q) { console.error("Error marking section as reviewed:", Q), r({ title: "Error", description: Q.message || "Failed to mark section as reviewed. Please try again.", variant: "destructive" }) } finally { k(null) } }, kr = async (A, M) => { var Q; if (!(!h || !t)) try { const J = [...((Q = h.content) == null ? void 0 : Q.sections) || []], ue = J[A]; if (!ue || !ue.keyPoints) return; const ge = ue.keyPoints.map(Yt => typeof Yt == "string" ? { text: Yt, mastered: !1 } : Yt); ge[M] = { ...ge[M], mastered: !ge[M].mastered, lastReviewed: ge[M].mastered ? ge[M].lastReviewed : new Date().toISOString() }, J[A] = { ...ue, keyPoints: ge }; const { error: Re } = await e.from("knowledge_organizers").update({ content: { sections: J } }).eq("id", h.id).eq("user_id", t.id); if (Re) throw Re; const Gt = { ...h, content: { ...h.content, sections: J } }; x(Gt), a(Yt => Yt.map(nl => nl.id === h.id ? Gt : nl)) } catch (J) { console.error("Error toggling key point mastery:", J), r({ title: "Error", description: J.message || "Failed to update key point. Please try again.", variant: "destructive" }) } }, Xr = async A => { if (t && confirm("Are you sure you want to delete this knowledge organizer?")) try { const { error: M } = await e.from("knowledge_organizers").delete().eq("id", A).eq("user_id", t.id); if (M) throw M; r({ title: "Success", description: "Knowledge organizer deleted successfully" }), (h == null ? void 0 : h.id) === A && x(null), re() } catch (M) { console.error("Error deleting organizer:", M), r({ title: "Error", description: "Failed to delete knowledge organizer. Please try again.", variant: "destructive" }) } }, _s = A => { const M = JSON.stringify(A.content, null, 2), Q = new Blob([M], { type: "application/json" }), J = URL.createObjectURL(Q), ue = document.createElement("a"); ue.href = J, ue.download = `${A.title.replace(/\s+/g, "_")}.json`, ue.click(), URL.revokeObjectURL(J), r({ title: "Downloaded", description: "Knowledge organizer downloaded as JSON" }) }, Nn = () => {
    var M, Q; if (!h) return; const A = ((Q = (M = h.content) == null ? void 0 : M.sections) == null ? void 0 : Q.map(J => `${J.title}: ${J.content}`).join(`

`)) || ""; n("/ai-tutor", { state: { context: A, mode: "question", organizerTitle: h.title } })
  }, el = async () => {
    var A, M, Q; if (!(!h || !t)) try {
      const J = ((M = (A = h.content) == null ? void 0 : A.sections) == null ? void 0 : M.map(ge => {
        var Re; return `${ge.title}: ${ge.content}
Key Points: ${((Re = ge.keyPoints) == null ? void 0 : Re.map(Gt => typeof Gt == "string" ? Gt : Gt.text).join(", ")) || ""}`
      }).join(`

`)) || ""; if (!J.trim()) { r({ title: "No content", description: "This organizer doesn't have any content to create flashcards from.", variant: "destructive" }); return } r({ title: "Generating flashcards...", description: "This may take a moment." }); const ue = await y3({ notes: J, subject: h.subject || "General", count: 10 }, e); if (ue.error) throw new Error(ue.error); (Q = ue.data) != null && Q.flashcards && (n("/flashcards", { state: { generatedFlashcards: ue.data.flashcards, subject: h.subject } }), r({ title: "Success", description: `${ue.data.flashcards.length} flashcards generated!` }))
    } catch (J) { console.error("Error generating flashcards:", J), r({ title: "Error", description: J.message || "Failed to generate flashcards. Please try again.", variant: "destructive" }) }
  }, Ns = o.filter(A => { const M = A.title.toLowerCase().includes(u.toLowerCase()), Q = p === "All Subjects" || A.subject === p; return M && Q }), tl = A => { b(M => M.includes(A) ? M.filter(Q => Q !== A) : [...M, A]) }, Pr = A => { const M = new Date(A), J = Math.floor((new Date().getTime() - M.getTime()) / 1e3); return J < 60 ? "Just now" : J < 3600 ? `${Math.floor(J / 60)} minutes ago` : J < 86400 ? `${Math.floor(J / 3600)} hours ago` : J < 604800 ? `${Math.floor(J / 86400)} days ago` : M.toLocaleDateString() }, nd = Array.from(new Set(o.map(A => A.subject).filter(Boolean))), rl = ((Zr = h == null ? void 0 : h.content) == null ? void 0 : Zr.sections) || [], vt = h ? G(h) : 0; return l ? i.jsx(qe, { children: i.jsx("div", { className: "max-w-6xl mx-auto flex items-center justify-center h-[60vh]", children: i.jsx(Be, { className: "h-8 w-8 animate-spin text-muted-foreground" }) }) }) : i.jsxs(qe, { children: [i.jsxs("div", { className: "max-w-6xl mx-auto space-y-6", children: [i.jsxs("div", { className: "flex flex-col md:flex-row md:items-center justify-between gap-4 animate-fade-in", children: [i.jsxs("div", { children: [i.jsx("h1", { className: "text-2xl md:text-3xl font-bold text-foreground", children: "Knowledge Organizers" }), i.jsx("p", { className: "text-muted-foreground mt-1", children: "Visual summaries to consolidate your learning" })] }), i.jsxs("div", { className: "flex items-center gap-2", children: [i.jsxs(H, { variant: "outline", onClick: () => P(!0), children: [i.jsx(Mr, { className: "h-4 w-4 mr-2" }), "Generate with AI", N !== null && i.jsxs("span", { className: "ml-2 text-xs", children: ["(", 10 - N, " left)"] })] }), i.jsxs(H, { onClick: ne, children: [i.jsx(At, { className: "h-4 w-4 mr-2" }), "Create Organizer"] })] })] }), i.jsxs("div", { className: "flex flex-col sm:flex-row gap-3 animate-slide-up", style: { animationDelay: "0.1s", opacity: 0 }, children: [i.jsxs("div", { className: "relative flex-1", children: [i.jsx(mo, { className: "absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground" }), i.jsx(ae, { placeholder: "Search organizers...", value: u, onChange: A => d(A.target.value), className: "pl-9" })] }), i.jsxs(yn, { value: p, onValueChange: m, children: [i.jsx(qr, { className: "w-full sm:w-[180px]", children: i.jsx(xn, {}) }), i.jsxs(Kr, { children: [i.jsx(Qe, { value: "All Subjects", children: "All Subjects" }), nd.map(A => i.jsx(Qe, { value: A, children: A }, A))] })] })] }), i.jsxs("div", { className: "grid grid-cols-1 lg:grid-cols-3 gap-6", children: [i.jsx("div", { className: "lg:col-span-1 space-y-3 animate-slide-up", style: { animationDelay: "0.2s", opacity: 0 }, children: o.length === 0 ? i.jsxs("div", { className: "glass-card p-8 text-center", children: [i.jsx(Mr, { className: "h-12 w-12 text-muted-foreground/50 mx-auto mb-4" }), i.jsx("h3", { className: "text-lg font-semibold text-foreground mb-2", children: "No organizers yet" }), i.jsx("p", { className: "text-muted-foreground mb-4", children: "Create your first knowledge organizer to get started" }), i.jsxs(H, { onClick: ne, children: [i.jsx(At, { className: "h-4 w-4 mr-2" }), "Create Organizer"] })] }) : Ns.map(A => { const M = G(A); return i.jsx("button", { onClick: () => { var Q; x(A), (Q = A.content) != null && Q.sections && A.content.sections.length > 0 && b([A.content.sections[0].title]) }, className: F("w-full text-left p-4 rounded-xl transition-all duration-200", (h == null ? void 0 : h.id) === A.id ? "glass-card border-primary/30 shadow-glow" : "bg-muted/50 hover:bg-muted"), children: i.jsxs("div", { className: "flex items-start gap-3", children: [i.jsx("div", { className: "p-2 rounded-lg bg-primary/10 flex-shrink-0", children: i.jsx(Mr, { className: "h-5 w-5 text-primary" }) }), i.jsxs("div", { className: "flex-1 min-w-0", children: [i.jsx("h3", { className: "font-semibold text-foreground truncate", children: A.title }), i.jsxs("p", { className: "text-sm text-muted-foreground", children: [A.subject || "General", "  ", A.topic || "General"] }), i.jsxs("div", { className: "flex items-center gap-2 mt-2", children: [i.jsx("div", { className: "flex-1 h-1.5 bg-muted rounded-full overflow-hidden", children: i.jsx("div", { className: "h-full bg-primary rounded-full transition-all duration-500", style: { width: `${M}%` } }) }), i.jsxs("span", { className: "text-xs text-muted-foreground", children: [M, "%"] })] })] })] }) }, A.id) }) }), i.jsx("div", { className: "lg:col-span-2 animate-slide-up", style: { animationDelay: "0.3s", opacity: 0 }, children: h ? i.jsxs("div", { className: "glass-card p-6 md:p-8", children: [i.jsxs("div", { className: "flex items-start justify-between mb-6", children: [i.jsxs("div", { children: [i.jsxs("div", { className: "flex items-center gap-2 mb-2", children: [h.subject && i.jsx("span", { className: "text-xs font-medium px-2 py-1 rounded-full bg-primary/10 text-primary", children: h.subject }), h.topic && i.jsx("span", { className: "text-xs text-muted-foreground", children: h.topic })] }), i.jsx("h2", { className: "text-xl md:text-2xl font-bold text-foreground", children: h.title }), i.jsxs("div", { className: "flex items-center gap-3 mt-2", children: [i.jsxs("div", { className: "flex-1 max-w-[200px]", children: [i.jsxs("div", { className: "flex items-center justify-between text-xs text-muted-foreground mb-1", children: [i.jsx("span", { children: "Progress" }), i.jsxs("span", { children: [vt, "%"] })] }), i.jsx("div", { className: "h-2 bg-muted rounded-full overflow-hidden", children: i.jsx("div", { className: "h-full bg-primary rounded-full transition-all duration-500", style: { width: `${vt}%` } }) })] }), i.jsxs("p", { className: "text-sm text-muted-foreground", children: ["Last updated ", Pr(h.updated_at)] })] })] }), i.jsxs("div", { className: "flex items-center gap-2", children: [i.jsx(H, { variant: "outline", size: "icon", onClick: () => q(h), children: i.jsx(hi, { className: "h-4 w-4" }) }), i.jsx(H, { variant: "outline", size: "icon", onClick: () => Xr(h.id), children: i.jsx(so, { className: "h-4 w-4 text-destructive" }) }), i.jsx(H, { variant: "outline", size: "icon", onClick: () => _s(h), children: i.jsx(L0, { className: "h-4 w-4" }) })] })] }), rl.length > 0 ? i.jsx("div", { className: "space-y-4", children: rl.map((A, M) => i.jsxs(c3, { open: g.includes(A.title), onOpenChange: () => tl(A.title), children: [i.jsx(u3, { className: "w-full", children: i.jsxs("div", { className: F("flex items-center justify-between p-4 rounded-xl transition-all duration-200", A.color === "primary" && "bg-primary/10 hover:bg-primary/15", A.color === "secondary" && "bg-secondary/10 hover:bg-secondary/15", A.color === "accent" && "bg-accent/20 hover:bg-accent/25"), children: [i.jsxs("div", { className: "flex items-center gap-3", children: [i.jsx("div", { className: F("w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold", A.color === "primary" && "bg-primary text-primary-foreground", A.color === "secondary" && "bg-secondary text-secondary-foreground", A.color === "accent" && "bg-accent text-accent-foreground"), children: M + 1 }), i.jsx("span", { className: "font-semibold text-foreground", children: A.title })] }), i.jsx(_u, { className: F("h-5 w-5 text-muted-foreground transition-transform duration-200", g.includes(A.title) && "rotate-180") })] }) }), i.jsx(d3, { children: i.jsxs("div", { className: "p-4 pt-2 ml-11 space-y-4", children: [i.jsxs("div", { className: "flex items-start justify-between gap-4", children: [i.jsx("p", { className: "text-foreground whitespace-pre-wrap flex-1", children: A.content }), !A.reviewed && i.jsxs(H, { size: "sm", variant: "outline", onClick: () => Jr(M), disabled: C === M, className: "flex-shrink-0", children: [C === M ? i.jsx(Be, { className: "h-4 w-4 mr-2 animate-spin" }) : i.jsx(Yi, { className: "h-4 w-4 mr-2" }), "Mark as Reviewed"] }), A.reviewed && i.jsxs("div", { className: "flex items-center gap-2 text-sm text-muted-foreground flex-shrink-0", children: [i.jsx(Yi, { className: "h-4 w-4 text-primary" }), i.jsx("span", { children: "Reviewed" }), A.lastReviewedAt && i.jsx("span", { className: "text-xs", children: Pr(A.lastReviewedAt) })] })] }), A.keyPoints && A.keyPoints.length > 0 && i.jsxs("div", { className: F("p-4 rounded-lg", A.color === "primary" && "bg-primary/5 border border-primary/20", A.color === "secondary" && "bg-secondary/5 border border-secondary/20", A.color === "accent" && "bg-accent/10 border border-accent/20"), children: [i.jsxs("div", { className: "flex items-center gap-2 mb-3", children: [i.jsx(U0, { className: F("h-4 w-4", A.color === "primary" && "text-primary", A.color === "secondary" && "text-secondary", A.color === "accent" && "text-accent-foreground") }), i.jsx("span", { className: "text-sm font-semibold text-foreground", children: "Key Points" })] }), i.jsx("ul", { className: "space-y-2", children: A.keyPoints.map((Q, J) => { const ue = typeof Q == "string" ? Q : Q.text, ge = typeof Q == "object" ? Q.mastered : !1; return i.jsxs("li", { className: "flex items-start gap-2 text-sm text-foreground group", children: [i.jsx("button", { onClick: () => kr(M, J), className: F("h-4 w-4 mt-0.5 flex-shrink-0 transition-colors cursor-pointer", ge ? A.color === "primary" && "text-primary" || A.color === "secondary" && "text-secondary" || A.color === "accent" && "text-accent-foreground" || "text-primary" : "text-muted-foreground hover:text-foreground"), title: ge ? "Mark as not mastered" : "Mark as mastered", children: ge ? i.jsx(Yi, { className: "h-4 w-4" }) : i.jsx(Ic, { className: "h-4 w-4" }) }), i.jsx("span", { className: F("flex-1", ge && "line-through opacity-60"), children: ue })] }, J) }) })] })] }) })] }, A.title)) }) : i.jsx("div", { className: "text-center py-8 text-muted-foreground", children: i.jsx("p", { children: "No sections yet. Edit this organizer to add sections." }) }), i.jsxs("div", { className: "flex items-center gap-3 mt-6 pt-6 border-t border-border", children: [i.jsxs(H, { className: "flex-1", onClick: Nn, children: [i.jsx(Vk, { className: "h-4 w-4 mr-2" }), "Test Your Knowledge"] }), i.jsxs(H, { variant: "outline", className: "flex-1", onClick: el, children: [i.jsx(Ni, { className: "h-4 w-4 mr-2" }), "Create Flashcards"] })] })] }) : i.jsxs("div", { className: "glass-card p-12 text-center", children: [i.jsx(Mr, { className: "h-16 w-16 text-muted-foreground/50 mx-auto mb-4" }), i.jsx("h3", { className: "text-lg font-semibold text-foreground mb-2", children: "Select an organizer" }), i.jsx("p", { className: "text-muted-foreground", children: "Choose a knowledge organizer to view its contents" })] }) })] })] }), i.jsx(lo, { open: v, onOpenChange: y, children: i.jsxs(hs, { className: "max-w-4xl max-h-[90vh] overflow-y-auto", children: [i.jsxs(fs, { children: [i.jsx(ps, { children: w ? "Edit Knowledge Organizer" : "Create New Knowledge Organizer" }), i.jsx(ms, { children: w ? "Update your knowledge organizer below" : "Create a visual summary of your study material" })] }), i.jsxs("div", { className: "space-y-6 py-4", children: [i.jsxs("div", { className: "grid grid-cols-2 gap-4", children: [i.jsxs("div", { className: "space-y-2", children: [i.jsx(ie, { htmlFor: "title", children: "Title *" }), i.jsx(ae, { id: "title", value: S.title, onChange: A => _({ ...S, title: A.target.value }), placeholder: "e.g., Cell Biology Overview" })] }), i.jsxs("div", { className: "space-y-2", children: [i.jsx(ie, { htmlFor: "subject", children: "Subject" }), i.jsx(ae, { id: "subject", value: S.subject, onChange: A => _({ ...S, subject: A.target.value }), placeholder: "e.g., Biology" })] })] }), i.jsxs("div", { className: "space-y-2", children: [i.jsx(ie, { htmlFor: "topic", children: "Topic" }), i.jsx(ae, { id: "topic", value: S.topic, onChange: A => _({ ...S, topic: A.target.value }), placeholder: "e.g., Cell Biology" })] }), i.jsxs("div", { className: "space-y-4", children: [i.jsxs("div", { className: "flex items-center justify-between", children: [i.jsx(ie, { children: "Sections" }), i.jsxs(H, { type: "button", variant: "outline", size: "sm", onClick: B, children: [i.jsx(At, { className: "h-4 w-4 mr-2" }), "Add Section"] })] }), S.sections.map((A, M) => i.jsxs("div", { className: "p-4 border rounded-lg space-y-4", children: [i.jsxs("div", { className: "flex items-center justify-between", children: [i.jsxs("h4", { className: "font-semibold", children: ["Section ", M + 1] }), i.jsx(H, { type: "button", variant: "ghost", size: "icon", onClick: () => he(M), children: i.jsx(oo, { className: "h-4 w-4" }) })] }), i.jsxs("div", { className: "space-y-2", children: [i.jsx(ie, { children: "Section Title *" }), i.jsx(ae, { value: A.title, onChange: Q => Se(M, "title", Q.target.value), placeholder: "e.g., Cell Structure" })] }), i.jsxs("div", { className: "space-y-2", children: [i.jsx(ie, { children: "Content *" }), i.jsx(ds, { value: A.content, onChange: Q => Se(M, "content", Q.target.value), placeholder: "Describe this section...", className: "min-h-[100px]" })] }), i.jsxs("div", { className: "space-y-2", children: [i.jsx(ie, { children: "Color" }), i.jsxs(yn, { value: A.color, onValueChange: Q => Se(M, "color", Q), children: [i.jsx(qr, { children: i.jsx(xn, {}) }), i.jsxs(Kr, { children: [i.jsx(Qe, { value: "primary", children: "Primary (Blue)" }), i.jsx(Qe, { value: "secondary", children: "Secondary (Purple)" }), i.jsx(Qe, { value: "accent", children: "Accent (Orange)" })] })] })] }), i.jsxs("div", { className: "space-y-2", children: [i.jsxs("div", { className: "flex items-center justify-between", children: [i.jsx(ie, { children: "Key Points" }), i.jsxs(H, { type: "button", variant: "outline", size: "sm", onClick: () => ve(M), children: [i.jsx(At, { className: "h-4 w-4 mr-2" }), "Add Point"] })] }), A.keyPoints.map((Q, J) => { const ue = typeof Q == "string" ? Q : Q.text, ge = typeof Q == "object" ? Q.mastered : !1; return i.jsxs("div", { className: "flex gap-2 items-center", children: [i.jsx(ae, { value: ue, onChange: Re => me(M, J, Re.target.value), placeholder: "Enter key point...", className: F(ge && "line-through opacity-60") }), i.jsx(H, { type: "button", variant: ge ? "default" : "outline", size: "icon", onClick: () => et(M, J), title: ge ? "Mark as not mastered" : "Mark as mastered", children: ge ? i.jsx(Yi, { className: "h-4 w-4" }) : i.jsx(Ic, { className: "h-4 w-4" }) }), i.jsx(H, { type: "button", variant: "ghost", size: "icon", onClick: () => pe(M, J), children: i.jsx(oo, { className: "h-4 w-4" }) })] }, J) })] })] }, M)), S.sections.length === 0 && i.jsxs("div", { className: "text-center py-8 border border-dashed rounded-lg", children: [i.jsx("p", { className: "text-muted-foreground mb-4", children: "No sections yet" }), i.jsxs(H, { type: "button", variant: "outline", onClick: B, children: [i.jsx(At, { className: "h-4 w-4 mr-2" }), "Add Your First Section"] })] })] })] }), i.jsxs(xi, { children: [i.jsx(H, { variant: "outline", onClick: () => y(!1), children: "Cancel" }), i.jsxs(H, { onClick: Ct, children: [w ? "Update" : "Create", " Organizer"] })] })] }) }), i.jsx(lo, { open: E, onOpenChange: P, children: i.jsxs(hs, { className: "max-w-2xl", children: [i.jsxs(fs, { children: [i.jsx(ps, { children: "Generate Knowledge Organizer with AI" }), i.jsxs(ms, { children: ["Describe what you want to learn, and AI will create a structured knowledge organizer with sections and key points.", N !== null && i.jsx("span", { className: "block mt-2 text-sm font-medium", children: N >= 10 ? i.jsx("span", { className: "text-destructive", children: "You've reached the limit of 10 attempts." }) : i.jsxs("span", { children: ["You have ", 10 - N, " generation attempts remaining."] }) })] })] }), i.jsxs("div", { className: "space-y-4 py-4", children: [i.jsxs("div", { className: "space-y-2", children: [i.jsx(ie, { htmlFor: "ai-prompt", children: "What would you like to learn? *" }), i.jsx(ds, { id: "ai-prompt", value: L, onChange: A => T(A.target.value), placeholder: "e.g., Cell biology including organelles, their functions, and how they work together", className: "min-h-[100px]", disabled: K || N !== null && N >= 10 })] }), i.jsxs("div", { className: "grid grid-cols-2 gap-4", children: [i.jsxs("div", { className: "space-y-2", children: [i.jsx(ie, { htmlFor: "ai-subject", children: "Subject (optional)" }), i.jsx(ae, { id: "ai-subject", value: R, onChange: A => O(A.target.value), placeholder: "e.g., Biology", disabled: K || N !== null && N >= 10 })] }), i.jsxs("div", { className: "space-y-2", children: [i.jsx(ie, { htmlFor: "ai-topic", children: "Topic (optional)" }), i.jsx(ae, { id: "ai-topic", value: U, onChange: A => z(A.target.value), placeholder: "e.g., Cell Biology", disabled: K || N !== null && N >= 10 })] })] }), N !== null && N >= 10 && i.jsx("div", { className: "p-4 bg-destructive/10 border border-destructive/20 rounded-lg", children: i.jsx("p", { className: "text-sm text-destructive font-medium", children: "You've reached the limit of 10 AI generation attempts. Please upgrade to premium for unlimited access." }) })] }), i.jsxs(xi, { children: [i.jsx(H, { variant: "outline", onClick: () => P(!1), disabled: K, children: "Cancel" }), i.jsx(H, { onClick: be, disabled: K || !L.trim() || N !== null && N >= 10, children: K ? i.jsxs(i.Fragment, { children: [i.jsx(Be, { className: "h-4 w-4 mr-2 animate-spin" }), "Generating..."] }) : i.jsxs(i.Fragment, { children: [i.jsx(Mr, { className: "h-4 w-4 mr-2" }), "Generate"] }) })] })] }) })] })
} const Zd = { work: { icon: Ek, color: "primary", label: "Work Experience" }, volunteer: { icon: Ok, color: "secondary", label: "Volunteering" }, club: { icon: zp, color: "accent", label: "Clubs & Societies" }, sports: { icon: tc, color: "primary", label: "Sports" }, arts: { icon: Lk, color: "premium", label: "Arts & Music" }, leadership: { icon: Fr, color: "accent", label: "Leadership" }, academic: { icon: Tk, color: "secondary", label: "Academic" } }; function b3() { var k; const { supabase: e, user: t } = ut(), { toast: r } = bn(), [n, s] = f.useState([]), [o, a] = f.useState(!0), [l, c] = f.useState(null), [u, d] = f.useState(!1), [p, m] = f.useState(null), [h, x] = f.useState({ name: "", description: "", category: "", hours: "", targetHours: "", start_date: "", end_date: "", achievements: "" }); f.useEffect(() => { t && g() }, [t]); const g = async () => { if (t) try { a(!0); const { data: E, error: P } = await e.from("extracurriculars").select("*").eq("user_id", t.id).order("start_date", { ascending: !1 }); if (P) throw P; s(E || []) } catch (E) { console.error("Error fetching activities:", E), r({ title: "Error", description: "Failed to load activities. Please try again.", variant: "destructive" }) } finally { a(!1) } }, b = () => { m(null), x({ name: "", description: "", category: "", hours: "", targetHours: "", start_date: "", end_date: "", achievements: "" }), d(!0) }, v = E => { var P; m(E), x({ name: E.name, description: E.description || "", category: E.category || "", hours: E.hours.toString(), targetHours: "", start_date: E.start_date || "", end_date: E.end_date || "", achievements: ((P = E.achievements) == null ? void 0 : P.join(", ")) || "" }), d(!0) }, y = async () => { if (!t || !h.name.trim()) { r({ title: "Error", description: "Activity name is required", variant: "destructive" }); return } try { const E = h.achievements ? h.achievements.split(",").map(L => L.trim()).filter(Boolean) : [], P = { user_id: t.id, name: h.name, description: h.description || null, category: h.category || null, hours: parseInt(h.hours) || 0, start_date: h.start_date || null, end_date: h.end_date || null, achievements: E.length > 0 ? E : null }; if (p) { const { error: L } = await e.from("extracurriculars").update(P).eq("id", p.id).eq("user_id", t.id); if (L) throw L; r({ title: "Success", description: "Activity updated successfully" }) } else { const { error: L } = await e.from("extracurriculars").insert(P); if (L) throw L; r({ title: "Success", description: "Activity created successfully" }) } d(!1), g() } catch (E) { console.error("Error saving activity:", E), r({ title: "Error", description: E.message || "Failed to save activity. Please try again.", variant: "destructive" }) } }, w = async E => { if (t && confirm("Are you sure you want to delete this activity?")) try { const { error: P } = await e.from("extracurriculars").delete().eq("id", E).eq("user_id", t.id); if (P) throw P; r({ title: "Success", description: "Activity deleted successfully" }), (l == null ? void 0 : l.id) === E && c(null), g() } catch (P) { console.error("Error deleting activity:", P), r({ title: "Error", description: "Failed to delete activity. Please try again.", variant: "destructive" }) } }, j = async (E, P) => { if (!t || !P || P <= 0) { r({ title: "Error", description: "Please enter a valid number of hours", variant: "destructive" }); return } try { const L = n.find(R => R.id === E); if (!L) return; const { error: T } = await e.from("extracurriculars").update({ hours: L.hours + P }).eq("id", E).eq("user_id", t.id); if (T) throw T; r({ title: "Success", description: `${P} hours logged successfully` }), g() } catch (L) { console.error("Error logging hours:", L), r({ title: "Error", description: "Failed to log hours. Please try again.", variant: "destructive" }) } }, S = n.reduce((E, P) => E + P.hours, 0), _ = n.reduce((E, P) => { var L; return E + (((L = P.achievements) == null ? void 0 : L.length) || 0) }, 0), C = E => E ? new Date(E).toLocaleDateString("en-US", { month: "short", year: "numeric" }) : ""; return o ? i.jsx(qe, { children: i.jsx("div", { className: "max-w-6xl mx-auto flex items-center justify-center h-[60vh]", children: i.jsx(Be, { className: "h-8 w-8 animate-spin text-muted-foreground" }) }) }) : i.jsxs(qe, { children: [i.jsxs("div", { className: "max-w-6xl mx-auto space-y-6", children: [i.jsxs("div", { className: "flex flex-col md:flex-row md:items-center justify-between gap-4 animate-fade-in", children: [i.jsxs("div", { children: [i.jsx("h1", { className: "text-2xl md:text-3xl font-bold text-foreground", children: "Extracurricular Tracker" }), i.jsx("p", { className: "text-muted-foreground mt-1", children: "Track your activities, hours, and achievements" })] }), i.jsxs(H, { onClick: b, children: [i.jsx(At, { className: "h-4 w-4 mr-2" }), "Add Activity"] })] }), i.jsx("div", { className: "grid grid-cols-2 md:grid-cols-4 gap-4 animate-slide-up", style: { animationDelay: "0.1s", opacity: 0 }, children: [{ label: "Total Hours", value: S, icon: ka, color: "primary" }, { label: "Activities", value: n.length, icon: Jh, color: "secondary" }, { label: "Achievements", value: _, icon: tc, color: "accent" }, { label: "Active", value: n.filter(E => !E.end_date).length, icon: Fr, color: "premium" }].map(E => i.jsx("div", { className: "glass-card p-4", children: i.jsxs("div", { className: "flex items-center gap-3", children: [i.jsx("div", { className: F("p-2 rounded-lg", E.color === "primary" && "bg-primary/10", E.color === "secondary" && "bg-secondary/10", E.color === "accent" && "bg-accent/20", E.color === "premium" && "bg-premium/10"), children: i.jsx(E.icon, { className: F("h-5 w-5", E.color === "primary" && "text-primary", E.color === "secondary" && "text-secondary", E.color === "accent" && "text-accent-foreground", E.color === "premium" && "text-premium") }) }), i.jsxs("div", { children: [i.jsx("p", { className: "text-2xl font-bold text-foreground", children: E.value }), i.jsx("p", { className: "text-xs text-muted-foreground", children: E.label })] })] }) }, E.label)) }), i.jsxs("div", { className: "grid grid-cols-1 lg:grid-cols-3 gap-6", children: [i.jsx("div", { className: "lg:col-span-2 animate-slide-up", style: { animationDelay: "0.2s", opacity: 0 }, children: n.length === 0 ? i.jsxs("div", { className: "glass-card p-12 text-center", children: [i.jsx(Fr, { className: "h-16 w-16 text-muted-foreground/50 mx-auto mb-4" }), i.jsx("h3", { className: "text-lg font-semibold text-foreground mb-2", children: "No activities yet" }), i.jsx("p", { className: "text-muted-foreground mb-4", children: "Create your first activity to get started" }), i.jsxs(H, { onClick: b, children: [i.jsx(At, { className: "h-4 w-4 mr-2" }), "Add Activity"] })] }) : i.jsxs("div", { className: "glass-card p-6", children: [i.jsx("h3", { className: "font-semibold text-foreground mb-6", children: "Activity Timeline" }), i.jsxs("div", { className: "relative", children: [i.jsx("div", { className: "absolute left-4 top-0 bottom-0 w-0.5 bg-border" }), i.jsx("div", { className: "space-y-6", children: n.map(E => { const P = Zd[E.category || ""] || { icon: Fr, color: "primary", label: E.category || "Other" }, L = P.icon, T = 100, R = Math.min(E.hours / T * 100, 100); return i.jsxs("div", { className: "relative pl-12 cursor-pointer group", onClick: () => c(E), children: [i.jsx("div", { className: F("absolute left-0 top-1 w-8 h-8 rounded-full flex items-center justify-center border-2 border-background transition-transform group-hover:scale-110", P.color === "primary" && "bg-primary", P.color === "secondary" && "bg-secondary", P.color === "accent" && "bg-accent", P.color === "premium" && "bg-premium"), children: i.jsx(L, { className: "h-4 w-4 text-primary-foreground" }) }), i.jsxs("div", { className: F("p-4 rounded-xl transition-all duration-200", (l == null ? void 0 : l.id) === E.id ? "bg-primary/5 border border-primary/20" : "bg-muted/50 hover:bg-muted"), children: [i.jsxs("div", { className: "flex items-start justify-between gap-4", children: [i.jsxs("div", { className: "flex-1 min-w-0", children: [i.jsxs("div", { className: "flex items-center gap-2 mb-1", children: [i.jsx("span", { className: F("text-xs font-medium px-2 py-0.5 rounded-full", P.color === "primary" && "bg-primary/10 text-primary", P.color === "secondary" && "bg-secondary/10 text-secondary", P.color === "accent" && "bg-accent/20 text-accent-foreground", P.color === "premium" && "bg-premium/10 text-premium"), children: P.label }), i.jsxs("span", { className: "text-xs text-muted-foreground", children: [C(E.start_date), E.end_date && ` - ${C(E.end_date)}`] })] }), i.jsx("h4", { className: "font-semibold text-foreground", children: E.name }), E.description && i.jsx("p", { className: "text-sm text-muted-foreground mt-1 line-clamp-2", children: E.description })] }), i.jsxs("div", { className: "flex gap-1", children: [i.jsx(H, { variant: "ghost", size: "icon", className: "h-8 w-8", onClick: O => { O.stopPropagation(), v(E) }, children: i.jsx(hi, { className: "h-4 w-4" }) }), i.jsx(H, { variant: "ghost", size: "icon", className: "h-8 w-8", onClick: O => { O.stopPropagation(), w(E.id) }, children: i.jsx(so, { className: "h-4 w-4 text-destructive" }) }), i.jsx(Ya, { className: "h-5 w-5 text-muted-foreground group-hover:text-foreground transition-colors" })] })] }), i.jsxs("div", { className: "mt-3", children: [i.jsxs("div", { className: "flex items-center justify-between text-xs mb-1", children: [i.jsxs("span", { className: "text-muted-foreground", children: [E.hours, " / ", T, " hours"] }), i.jsxs("span", { className: "font-medium text-foreground", children: [Math.round(R), "%"] })] }), i.jsx(Hu, { value: R, className: "h-1.5" })] }), E.achievements && E.achievements.length > 0 && i.jsx("div", { className: "flex items-center gap-2 mt-3 flex-wrap", children: E.achievements.map((O, U) => i.jsxs("span", { className: "inline-flex items-center gap-1 text-xs px-2 py-1 rounded-full bg-accent/20 text-accent-foreground", children: [i.jsx(tc, { className: "h-3 w-3" }), O] }, U)) })] })] }, E.id) }) })] })] }) }), i.jsxs("div", { className: "lg:col-span-1 space-y-6 animate-slide-up", style: { animationDelay: "0.3s", opacity: 0 }, children: [l ? i.jsxs("div", { className: "glass-card p-6", children: [i.jsxs("div", { className: "flex items-start justify-between mb-4", children: [i.jsx("h3", { className: "font-semibold text-foreground", children: "Activity Details" }), i.jsxs("div", { className: "flex gap-1", children: [i.jsx(H, { variant: "ghost", size: "icon", className: "h-8 w-8", onClick: () => v(l), children: i.jsx(hi, { className: "h-4 w-4" }) }), i.jsx(H, { variant: "ghost", size: "icon", className: "h-8 w-8", onClick: () => w(l.id), children: i.jsx(so, { className: "h-4 w-4 text-destructive" }) })] })] }), i.jsxs("div", { className: "space-y-4", children: [i.jsxs("div", { children: [i.jsx("p", { className: "text-sm text-muted-foreground", children: "Name" }), i.jsx("p", { className: "font-medium text-foreground", children: l.name })] }), l.description && i.jsxs("div", { children: [i.jsx("p", { className: "text-sm text-muted-foreground", children: "Description" }), i.jsx("p", { className: "text-foreground", children: l.description })] }), l.category && i.jsxs("div", { children: [i.jsx("p", { className: "text-sm text-muted-foreground", children: "Category" }), i.jsx("p", { className: "font-medium text-foreground", children: ((k = Zd[l.category]) == null ? void 0 : k.label) || l.category })] }), i.jsxs("div", { children: [i.jsx("p", { className: "text-sm text-muted-foreground", children: "Hours Logged" }), i.jsxs("p", { className: "font-medium text-foreground", children: [l.hours, " hours"] })] }), i.jsxs("div", { className: "pt-4 border-t border-border", children: [i.jsx("p", { className: "text-sm font-medium text-foreground mb-2", children: "Achievements" }), l.achievements && l.achievements.length > 0 ? i.jsx("div", { className: "space-y-1", children: l.achievements.map((E, P) => i.jsxs("div", { className: "text-sm text-foreground flex items-center gap-2", children: [i.jsx(tc, { className: "h-4 w-4 text-accent-foreground" }), E] }, P)) }) : i.jsx("p", { className: "text-sm text-muted-foreground", children: "No achievements yet" })] })] })] }) : i.jsxs("div", { className: "glass-card p-6 text-center", children: [i.jsx(Fr, { className: "h-12 w-12 text-muted-foreground/50 mx-auto mb-3" }), i.jsx("h3", { className: "font-semibold text-foreground mb-1", children: "Select an activity" }), i.jsx("p", { className: "text-sm text-muted-foreground", children: "Click on any activity to view details" })] }), n.length > 0 && i.jsxs("div", { className: "glass-card p-6", children: [i.jsx("h3", { className: "font-semibold text-foreground mb-4", children: "Log Hours" }), i.jsx(j3, { activities: n, onLogHours: j })] })] })] })] }), i.jsx(lo, { open: u, onOpenChange: d, children: i.jsxs(hs, { className: "sm:max-w-[500px]", children: [i.jsxs(fs, { children: [i.jsx(ps, { children: p ? "Edit Activity" : "Add New Activity" }), i.jsx(ms, { children: p ? "Update your activity details below" : "Track a new extracurricular activity or work experience." })] }), i.jsxs("div", { className: "grid gap-4 py-4", children: [i.jsxs("div", { className: "grid gap-2", children: [i.jsx(ie, { htmlFor: "name", children: "Activity Name *" }), i.jsx(ae, { id: "name", value: h.name, onChange: E => x({ ...h, name: E.target.value }), placeholder: "e.g., Volunteer at Local Library" })] }), i.jsxs("div", { className: "grid gap-2", children: [i.jsx(ie, { htmlFor: "category", children: "Category" }), i.jsxs(yn, { value: h.category, onValueChange: E => x({ ...h, category: E }), children: [i.jsx(qr, { children: i.jsx(xn, { placeholder: "Select category" }) }), i.jsx(Kr, { children: Object.entries(Zd).map(([E, P]) => i.jsx(Qe, { value: E, children: P.label }, E)) })] })] }), i.jsxs("div", { className: "grid gap-2", children: [i.jsx(ie, { htmlFor: "description", children: "Description" }), i.jsx(ds, { id: "description", value: h.description, onChange: E => x({ ...h, description: E.target.value }), placeholder: "Describe your responsibilities..." })] }), i.jsxs("div", { className: "grid grid-cols-2 gap-4", children: [i.jsxs("div", { className: "grid gap-2", children: [i.jsx(ie, { htmlFor: "hours", children: "Hours Logged" }), i.jsx(ae, { id: "hours", type: "number", value: h.hours, onChange: E => x({ ...h, hours: E.target.value }), placeholder: "0" })] }), i.jsxs("div", { className: "grid gap-2", children: [i.jsx(ie, { htmlFor: "start_date", children: "Start Date" }), i.jsx(ae, { id: "start_date", type: "date", value: h.start_date, onChange: E => x({ ...h, start_date: E.target.value }) })] })] }), i.jsxs("div", { className: "grid gap-2", children: [i.jsx(ie, { htmlFor: "end_date", children: "End Date (optional)" }), i.jsx(ae, { id: "end_date", type: "date", value: h.end_date, onChange: E => x({ ...h, end_date: E.target.value }) })] }), i.jsxs("div", { className: "grid gap-2", children: [i.jsx(ie, { htmlFor: "achievements", children: "Achievements (comma-separated)" }), i.jsx(ae, { id: "achievements", value: h.achievements, onChange: E => x({ ...h, achievements: E.target.value }), placeholder: "e.g., Award winner, Team leader" })] }), i.jsxs(H, { className: "w-full mt-2", onClick: y, children: [p ? "Update" : "Add", " Activity"] })] })] }) })] }) } function j3({ activities: e, onLogHours: t }) { const [r, n] = f.useState(""), [s, o] = f.useState(""), a = l => { l.preventDefault(), r && s && (t(r, parseFloat(s)), o("")) }; return i.jsxs("form", { onSubmit: a, className: "space-y-3", children: [i.jsxs("div", { className: "grid gap-2", children: [i.jsx(ie, { htmlFor: "quick-activity", children: "Activity" }), i.jsxs(yn, { value: r, onValueChange: n, children: [i.jsx(qr, { children: i.jsx(xn, { placeholder: "Select activity" }) }), i.jsx(Kr, { children: e.map(l => i.jsx(Qe, { value: l.id, children: l.name }, l.id)) })] })] }), i.jsxs("div", { className: "grid gap-2", children: [i.jsx(ie, { htmlFor: "quick-hours", children: "Hours" }), i.jsx(ae, { id: "quick-hours", type: "number", step: "0.5", value: s, onChange: l => o(l.target.value), placeholder: "2" })] }), i.jsxs(H, { type: "submit", className: "w-full", disabled: !r || !s, children: [i.jsx(At, { className: "h-4 w-4 mr-2" }), "Log Hours"] })] }) } async function S3(e, t) { try { const { data: r } = await e.from("profiles").select("is_premium").eq("id", t).single(); if (r != null && r.is_premium) return !0; const { data: n } = await e.from("subscriptions").select("status, current_period_end").eq("user_id", t).eq("status", "active").single(); return n ? new Date(n.current_period_end) > new Date : !1 } catch (r) { return console.error("Error checking premium status:", r), !1 } } async function _3(e, t) { try { const { data: r } = await e.from("profiles").select("is_admin").eq("id", t).single(); return (r == null ? void 0 : r.is_admin) || !1 } catch (r) { return console.error("Error checking admin status:", r), !1 } } const ua = window.location.origin; async function Vm(e) { try { let t = e; if (!t) { const { createClient: n } = await S_(async () => { const { createClient: a } = await Promise.resolve().then(() => b1); return { createClient: a } }, void 0), s = "https://xgynmajzjqljhhojtvcq.supabase.co", o = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhneW5tYWp6anFsamhob2p0dmNxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUzMTE5NTUsImV4cCI6MjA4MDg4Nzk1NX0.L-BUzVk3XUS-et4mB9bi1PcmLVFN_5pA_ykUD2Lme2s"; t = n(s, o) } const { data: { session: r } } = await t.auth.getSession(); return (r == null ? void 0 : r.access_token) || null } catch (t) { return console.error("Error getting auth token:", t), null } } async function N3(e, t) { try { const r = await Vm(t); if (!r) return { error: "Not authenticated. Please sign in." }; console.log(`[Payment Client] Creating subscription for ${e} plan`), console.log(`[Payment Client] API URL: ${ua}`); const n = await fetch(`${ua}/api/payments/create-subscription`, { method: "POST", headers: { "Content-Type": "application/json", Authorization: `Bearer ${r}` }, body: JSON.stringify({ planType: e }) }); if (!n.ok) { const o = await n.text(); let a; try { a = JSON.parse(o) } catch { a = { error: o || `HTTP ${n.status}` } } return console.error("[Payment Client] API Error:", a), { error: a.error || `Failed to create subscription (${n.status})` } } return await n.json() } catch (r) { console.error("[Payment Client] Network Error:", r); const n = r instanceof Error ? r.message : "Network error occurred"; return n.includes("Failed to fetch") || n.includes("NetworkError") ? { error: `Cannot connect to server. Make sure the backend is running at ${ua}` } : { error: n } } } async function E3(e) { try { const t = await Vm(e); if (!t) return { error: "Not authenticated" }; const r = await fetch(`${ua}/api/payments/subscription`, { headers: { Authorization: `Bearer ${t}` } }), n = await r.json(); return r.ok ? n : { error: n.error || "Failed to get subscription" } } catch (t) { return { error: t instanceof Error ? t.message : "Network error" } } } async function C3(e) { try { const t = await Vm(e); if (!t) return { error: "Not authenticated" }; const r = await fetch(`${ua}/api/payments/cancel`, { method: "POST", headers: { "Content-Type": "application/json", Authorization: `Bearer ${t}` } }), n = await r.json(); return r.ok ? n : { error: n.error || "Failed to cancel subscription" } } catch (t) { return { error: t instanceof Error ? t.message : "Network error" } } } const k3 = [{ icon: Mr, title: "AI Question Bank", description: "Access 500+ AI-generated questions tailored to your exam board and subjects" }, { icon: Ei, title: "Medley AI Study Suggestions", description: "Get personalized study recommendations based on your progress and weak areas" }, { icon: Gk, title: "Instant Feedback", description: "Receive detailed explanations and mark scheme breakdowns for every answer" }, { icon: ka, title: "Progress Analytics", description: "Advanced insights into your study patterns and performance trends" }, { icon: Bs, title: "Ad-Free Experience", description: "Study without distractions with a completely ad-free interface" }, { icon: zp, title: "Priority Support", description: "Get help faster with dedicated premium customer support" }], P3 = [{ name: "Monthly", price: "5.99", period: "/month", description: "Perfect for trying out premium features", features: ["All premium features", "Cancel anytime", "Monthly billing"], popular: !1 }, { name: "Yearly", price: "65.99", period: "/year", description: "Best value - save over 6!", features: ["All premium features", "2 months free", "Priority new features", "Exclusive content"], popular: !0, savings: "Save 6" }]; function T3() { const { user: e, supabase: t } = ut(), [r] = PA(), n = Sn(), [s, o] = f.useState(!1), [a, l] = f.useState(!1), [c, u] = f.useState(null), [d, p] = f.useState(!0); f.useEffect(() => { const g = r.get("success"), b = r.get("canceled"), v = r.get("session_id"); g && v ? (De.success("Payment successful! Your premium subscription is now active."), m(), n("/premium", { replace: !0 })) : b && (De.info("Payment canceled. You can try again anytime."), n("/premium", { replace: !0 })) }, [r, n]), f.useEffect(() => { e ? m() : p(!1) }, [e]); const m = async () => { if (!(!e || !t)) { p(!0); try { const g = await S3(t, e.id); if (l(g), g) { const b = await E3(t); b && !b.error && u(b.subscription) } } catch (g) { console.error("Error checking premium status:", g) } finally { p(!1) } } }, h = async g => { if (!e) { De.error("Please sign in to subscribe"), n("/login"); return } o(!0); try { const b = await N3(g, t); "error" in b ? De.error(b.error) : b.approvalUrl && (window.location.href = b.approvalUrl) } catch (b) { De.error("Failed to start checkout. Please try again."), console.error("Checkout error:", b) } finally { o(!1) } }, x = async () => { if (confirm("Are you sure you want to cancel your subscription? You'll continue to have access until the end of your billing period.")) { o(!0); try { const g = await C3(t); "error" in g ? De.error(g.error) : (De.success("Subscription canceled. You'll retain access until the end of your billing period."), m()) } catch (g) { De.error("Failed to cancel subscription. Please try again."), console.error("Cancel error:", g) } finally { o(!1) } } }; return d ? i.jsx(qe, { children: i.jsx("div", { className: "max-w-4xl mx-auto flex items-center justify-center min-h-[60vh]", children: i.jsx(Be, { className: "h-8 w-8 animate-spin text-primary" }) }) }) : i.jsx(qe, { children: i.jsxs("div", { className: "max-w-4xl mx-auto", children: [i.jsxs("div", { className: "text-center mb-12 animate-fade-in", children: [i.jsxs("div", { className: "inline-flex items-center gap-2 px-4 py-2 rounded-full bg-premium/10 text-premium mb-6", children: [i.jsx(ns, { className: "h-5 w-5" }), i.jsx("span", { className: "font-semibold", children: "Scientia-AI Premium" })] }), i.jsx("h1", { className: "text-3xl md:text-4xl lg:text-5xl font-bold text-foreground mb-4", children: a ? i.jsxs(i.Fragment, { children: ["You're a ", i.jsx("span", { className: "gradient-text-premium", children: "Premium Member" })] }) : i.jsxs(i.Fragment, { children: ["Supercharge Your", i.jsx("span", { className: "gradient-text-premium", children: " Learning" })] }) }), i.jsx("p", { className: "text-lg text-muted-foreground max-w-2xl mx-auto", children: a ? "Thank you for being a premium member! Enjoy all the exclusive features." : "Unlock AI-powered study tools, personalized recommendations, and advanced analytics to achieve your best grades." })] }), a && c && i.jsx("div", { className: "glass-card p-6 mb-8 animate-slide-up", children: i.jsxs("div", { className: "flex items-center justify-between", children: [i.jsxs("div", { children: [i.jsxs("div", { className: "flex items-center gap-2 mb-2", children: [i.jsx(Xs, { className: "h-5 w-5 text-secondary" }), i.jsx("h3", { className: "text-lg font-semibold text-foreground", children: "Active Premium Subscription" })] }), i.jsxs("p", { className: "text-sm text-muted-foreground", children: ["Plan: ", i.jsx("span", { className: "font-medium text-foreground capitalize", children: c.plan_type })] }), i.jsxs("p", { className: "text-sm text-muted-foreground", children: ["Renews: ", new Date(c.current_period_end).toLocaleDateString()] }), c.cancel_at_period_end && i.jsx("p", { className: "text-sm text-destructive mt-2", children: " Subscription will cancel at the end of the billing period" })] }), !c.cancel_at_period_end && i.jsxs(H, { variant: "outline", onClick: x, disabled: s, children: [s ? i.jsx(Be, { className: "h-4 w-4 mr-2 animate-spin" }) : i.jsx(oo, { className: "h-4 w-4 mr-2" }), "Cancel Subscription"] })] }) }), i.jsx("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-12", children: k3.map((g, b) => i.jsxs("div", { className: "glass-card p-5 hover-lift animate-slide-up", style: { animationDelay: `${.1 * b}s`, opacity: 0 }, children: [i.jsx("div", { className: "p-2.5 rounded-xl bg-premium/10 w-fit mb-3", children: i.jsx(g.icon, { className: "h-5 w-5 text-premium" }) }), i.jsx("h3", { className: "font-semibold text-foreground mb-1", children: g.title }), i.jsx("p", { className: "text-sm text-muted-foreground", children: g.description })] }, g.title)) }), i.jsx("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6 mb-12", children: P3.map((g, b) => i.jsxs("div", { className: F("relative rounded-2xl p-6 md:p-8 transition-all duration-300 animate-scale-in", g.popular ? "border-2 border-premium shadow-lg" : "glass-card"), style: { animationDelay: `${.3 + .1 * b}s`, opacity: 0 }, children: [g.popular && i.jsx("div", { className: "absolute -top-3 left-1/2 -translate-x-1/2", children: i.jsxs("span", { className: "premium-badge", children: [i.jsx(H0, { className: "h-3 w-3 fill-current" }), "Most Popular"] }) }), i.jsxs("div", { className: "text-center mb-6", children: [i.jsx("h3", { className: "text-lg font-semibold text-foreground mb-2", children: g.name }), i.jsxs("div", { className: "flex items-baseline justify-center gap-1", children: [i.jsx("span", { className: "text-4xl font-bold text-foreground", children: g.price }), i.jsx("span", { className: "text-muted-foreground", children: g.period })] }), g.savings && i.jsx("span", { className: "inline-block mt-2 text-sm font-medium text-secondary px-2 py-0.5 bg-secondary/10 rounded-full", children: g.savings }), i.jsx("p", { className: "text-sm text-muted-foreground mt-2", children: g.description })] }), i.jsx("ul", { className: "space-y-3 mb-6", children: g.features.map(v => i.jsxs("li", { className: "flex items-center gap-2 text-sm text-foreground", children: [i.jsx(Ic, { className: "h-4 w-4 text-secondary flex-shrink-0" }), v] }, v)) }), i.jsx(H, { className: F("w-full", g.popular ? "bg-premium hover:bg-premium/90 text-premium-foreground" : ""), variant: g.popular ? "default" : "outline", onClick: () => h(g.name.toLowerCase()), disabled: s || a, children: s ? i.jsxs(i.Fragment, { children: [i.jsx(Be, { className: "h-4 w-4 mr-2 animate-spin" }), "Processing..."] }) : a ? i.jsxs(i.Fragment, { children: [i.jsx(Xs, { className: "h-4 w-4 mr-2" }), "Already Premium"] }) : i.jsxs(i.Fragment, { children: [g.popular && i.jsx(Fk, { className: "h-4 w-4 mr-2" }), "Get ", g.name] }) })] }, g.name)) }), i.jsxs("div", { className: "glass-card p-6 md:p-8 text-center animate-slide-up", style: { animationDelay: "0.5s", opacity: 0 }, children: [i.jsx(Bs, { className: "h-10 w-10 text-secondary mx-auto mb-4" }), i.jsx("h3", { className: "text-lg font-semibold text-foreground mb-2", children: "30-Day Money-Back Guarantee" }), i.jsx("p", { className: "text-muted-foreground max-w-lg mx-auto", children: "Not satisfied? Get a full refund within 30 days, no questions asked. We're confident you'll love Scientia-AI Premium." })] }), i.jsxs("div", { className: "mt-12 p-8 rounded-2xl border-2 border-dashed border-border bg-muted/30 text-center animate-slide-up", style: { animationDelay: "0.6s", opacity: 0 }, children: [i.jsxs("div", { className: "relative inline-block mb-4", children: [i.jsx(Mr, { className: "h-16 w-16 text-muted-foreground/50" }), i.jsx("div", { className: "absolute -top-1 -right-1 p-1.5 rounded-full bg-premium", children: i.jsx(ns, { className: "h-4 w-4 text-premium-foreground" }) })] }), i.jsx("h3", { className: "text-lg font-semibold text-foreground mb-2", children: "AI Question Bank" }), i.jsx("p", { className: "text-muted-foreground mb-4", children: "This feature is available for Premium members only. Upgrade to access 500+ AI-generated practice questions." }), a ? i.jsxs("div", { className: "flex items-center gap-2 text-secondary", children: [i.jsx(Xs, { className: "h-5 w-5" }), i.jsx("span", { className: "font-medium", children: "You have access to this feature!" })] }) : i.jsxs(H, { className: "bg-premium hover:bg-premium/90 text-premium-foreground", onClick: () => h("yearly"), disabled: s, children: [i.jsx(ns, { className: "h-4 w-4 mr-2" }), "Unlock Premium"] })] })] }) }) } var Zu = "Switch", [R3] = Gr(Zu), [A3, O3] = R3(Zu), __ = f.forwardRef((e, t) => { const { __scopeSwitch: r, name: n, checked: s, defaultChecked: o, required: a, disabled: l, value: c = "on", onCheckedChange: u, form: d, ...p } = e, [m, h] = f.useState(null), x = we(t, w => h(w)), g = f.useRef(!1), b = m ? d || !!m.closest("form") : !0, [v, y] = ls({ prop: s, defaultProp: o ?? !1, onChange: u, caller: Zu }); return i.jsxs(A3, { scope: r, checked: v, disabled: l, children: [i.jsx(ce.button, { type: "button", role: "switch", "aria-checked": v, "aria-required": a, "data-state": k_(v), "data-disabled": l ? "" : void 0, disabled: l, value: c, ...p, ref: x, onClick: se(e.onClick, w => { y(j => !j), b && (g.current = w.isPropagationStopped(), g.current || w.stopPropagation()) }) }), b && i.jsx(C_, { control: m, bubbles: !g.current, name: n, value: c, checked: v, required: a, disabled: l, form: d, style: { transform: "translateX(-100%)" } })] }) }); __.displayName = Zu; var N_ = "SwitchThumb", E_ = f.forwardRef((e, t) => { const { __scopeSwitch: r, ...n } = e, s = O3(N_, r); return i.jsx(ce.span, { "data-state": k_(s.checked), "data-disabled": s.disabled ? "" : void 0, ...n, ref: t }) }); E_.displayName = N_; var I3 = "SwitchBubbleInput", C_ = f.forwardRef(({ __scopeSwitch: e, control: t, checked: r, bubbles: n = !0, ...s }, o) => { const a = f.useRef(null), l = we(a, o), c = FS(r), u = gb(t); return f.useEffect(() => { const d = a.current; if (!d) return; const p = window.HTMLInputElement.prototype, h = Object.getOwnPropertyDescriptor(p, "checked").set; if (c !== r && h) { const x = new Event("click", { bubbles: n }); h.call(d, r), d.dispatchEvent(x) } }, [c, r, n]), i.jsx("input", { type: "checkbox", "aria-hidden": !0, defaultChecked: r, ...s, tabIndex: -1, ref: l, style: { ...s.style, ...u, position: "absolute", pointerEvents: "none", opacity: 0, margin: 0 } }) }); C_.displayName = I3; function k_(e) { return e ? "checked" : "unchecked" } var P_ = __, D3 = E_; const T_ = f.forwardRef(({ className: e, ...t }, r) => i.jsx(P_, { className: F("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50", e), ...t, ref: r, children: i.jsx(D3, { className: F("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0") }) })); T_.displayName = P_.displayName; const L3 = [{ icon: K0, label: "Profile", id: "profile" }, { icon: O0, label: "Notifications", id: "notifications" }, { icon: $k, label: "Appearance", id: "appearance" }, { icon: Bs, label: "Privacy", id: "privacy" }, { icon: Rk, label: "Subscription", id: "subscription" }]; function $3() { var j; const { supabase: e, user: t } = ut(), { theme: r, toggleTheme: n, setTheme: s } = mm(), { toast: o } = bn(), [a, l] = f.useState("profile"), [c, u] = f.useState(!0), [d, p] = f.useState(!1), [m, h] = f.useState({ full_name: "", email: "", first_name: "", last_name: "", school: "", year_group: "", subjects: "", avatar_url: "" }), [x, g] = f.useState({ studyReminders: !0, progressUpdates: !0, newContentAlerts: !1, achievementNotifications: !0 }); f.useEffect(() => { if (!t) return; (async () => { var _, C; try { const { data: k, error: E } = await e.from("profiles").select("*").eq("id", t.id).single(); if (E && E.code !== "PGRST116" && console.error("Error fetching profile:", E), k) { const P = ((_ = k.full_name) == null ? void 0 : _.split(" ")) || [], L = P[0] || "", T = P.slice(1).join(" ") || ""; h({ full_name: k.full_name || "", email: k.email || t.email || "", first_name: L, last_name: T, school: k.school || "", year_group: k.year_group || "", subjects: k.subjects || "", avatar_url: k.avatar_url || "" }) } else h({ full_name: ((C = t.email) == null ? void 0 : C.split("@")[0]) || "", email: t.email || "", first_name: "", last_name: "", school: "", year_group: "", subjects: "", avatar_url: "" }) } catch (k) { console.error("Error fetching profile:", k) } finally { u(!1) } })() }, [t, e]); const b = async S => { var k; const _ = (k = S.target.files) == null ? void 0 : k[0]; if (!_) return; if (!_.type.startsWith("image/")) { o({ title: "Invalid file type", description: "Please upload an image file.", variant: "destructive" }); return } if (_.size > 2 * 1024 * 1024) { o({ title: "File too large", description: "Please upload an image smaller than 2MB.", variant: "destructive" }); return } const C = new FileReader; C.onloadend = async () => { const E = C.result; if (h({ ...m, avatar_url: E }), t) try { const { error: P } = await e.from("profiles").upsert({ id: t.id, avatar_url: E }, { onConflict: "id" }); if (P) throw P; o({ title: "Avatar updated", description: "Your profile picture has been updated." }) } catch (P) { console.error("Error saving avatar:", P), o({ title: "Error", description: "Failed to save avatar. Please try again.", variant: "destructive" }) } }, C.onerror = () => { o({ title: "Error", description: "Failed to read image file.", variant: "destructive" }) }, C.readAsDataURL(_) }, v = async () => { if (t) { p(!0); try { const S = m.first_name && m.last_name ? `${m.first_name} ${m.last_name}` : m.first_name || m.last_name || m.full_name || ""; if (m.email && m.email !== t.email) { const { error: k } = await e.auth.updateUser({ email: m.email }); if (k) throw k } const _ = { id: t.id, email: m.email || t.email, full_name: S, avatar_url: m.avatar_url || null }; m.school && (_.school = m.school), m.year_group && (_.year_group = m.year_group), m.subjects && (_.subjects = m.subjects); const { error: C } = await e.from("profiles").upsert(_, { onConflict: "id" }); if (C) throw C; o({ title: "Profile updated", description: m.email !== t.email ? "Your profile has been updated. Please check your email to verify the new address." : "Your profile information has been saved successfully." }) } catch (S) { console.error("Error saving profile:", S), o({ title: "Error", description: S.message || "Failed to save profile. Please try again.", variant: "destructive" }) } finally { p(!1) } } }, y = m.first_name && m.last_name ? `${m.first_name} ${m.last_name}` : m.full_name || ((j = m.email) == null ? void 0 : j.split("@")[0]) || "User", w = m.first_name && m.last_name ? `${m.first_name[0]}${m.last_name[0]}` : y.substring(0, 2).toUpperCase(); return i.jsx(qe, { children: i.jsxs("div", { className: "max-w-4xl mx-auto space-y-8", children: [i.jsxs("div", { className: "animate-fade-in", children: [i.jsx("h1", { className: "text-2xl md:text-3xl font-bold text-foreground", children: "Settings" }), i.jsx("p", { className: "text-muted-foreground mt-1", children: "Manage your account and preferences" })] }), i.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-4 gap-6", children: [i.jsx("div", { className: "md:col-span-1", children: i.jsx("nav", { className: "space-y-1 animate-slide-up", style: { animationDelay: "0.1s", opacity: 0 }, children: L3.map(S => i.jsxs("button", { onClick: () => l(S.id), className: F("w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-colors", a === S.id ? "bg-primary text-primary-foreground" : "text-muted-foreground hover:text-foreground hover:bg-muted"), children: [i.jsx(S.icon, { className: "h-4 w-4" }), S.label] }, S.id)) }) }), i.jsx("div", { className: "md:col-span-3 space-y-6", children: c ? i.jsx("div", { className: "glass-card p-6 flex items-center justify-center", children: i.jsx(Be, { className: "h-6 w-6 animate-spin text-muted-foreground" }) }) : i.jsxs(i.Fragment, { children: [a === "profile" && i.jsxs("div", { className: "glass-card p-6 animate-slide-up", style: { animationDelay: "0.2s", opacity: 0 }, children: [i.jsx("h2", { className: "text-lg font-semibold text-foreground mb-6", children: "Profile Information" }), i.jsxs("div", { className: "flex items-center gap-6 mb-6", children: [i.jsxs("div", { className: "relative", children: [i.jsxs(wm, { className: "h-20 w-20 border-4 border-primary/20", children: [i.jsx(bm, { src: m.avatar_url || `https://api.dicebear.com/7.x/avataaars/svg?seed=${t == null ? void 0 : t.email}` }), i.jsx(jm, { children: w })] }), i.jsxs("label", { className: "absolute bottom-0 right-0 p-1.5 rounded-full bg-primary text-primary-foreground shadow-lg hover:bg-primary/90 transition-colors cursor-pointer", children: [i.jsx(Ck, { className: "h-4 w-4" }), i.jsx("input", { type: "file", accept: "image/*", onChange: b, className: "hidden" })] })] }), i.jsxs("div", { children: [i.jsx("h3", { className: "font-semibold text-foreground", children: y }), i.jsx("p", { className: "text-sm text-muted-foreground", children: m.email || (t == null ? void 0 : t.email) }), i.jsx("div", { className: "flex items-center gap-1 mt-1", children: i.jsx("span", { className: "text-xs px-2 py-0.5 rounded-full bg-primary/10 text-primary", children: "Free Plan" }) })] })] }), i.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [i.jsxs("div", { className: "space-y-2", children: [i.jsx(ie, { htmlFor: "firstName", children: "First Name" }), i.jsx(ae, { id: "firstName", value: m.first_name, onChange: S => h({ ...m, first_name: S.target.value }) })] }), i.jsxs("div", { className: "space-y-2", children: [i.jsx(ie, { htmlFor: "lastName", children: "Last Name" }), i.jsx(ae, { id: "lastName", value: m.last_name, onChange: S => h({ ...m, last_name: S.target.value }) })] }), i.jsxs("div", { className: "space-y-2", children: [i.jsx(ie, { htmlFor: "email", children: "Email" }), i.jsxs("div", { className: "relative", children: [i.jsx(z0, { className: "absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground" }), i.jsx(ae, { id: "email", type: "email", value: m.email, onChange: S => h({ ...m, email: S.target.value }), className: "pl-9" })] }), i.jsx("p", { className: "text-xs text-muted-foreground", children: "To change your email, update it here and save. You'll need to verify the new email address." })] }), i.jsxs("div", { className: "space-y-2", children: [i.jsx(ie, { htmlFor: "school", children: "School / Institution" }), i.jsxs("div", { className: "relative", children: [i.jsx(Ak, { className: "absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground" }), i.jsx(ae, { id: "school", value: m.school, onChange: S => h({ ...m, school: S.target.value }), className: "pl-9" })] })] }), i.jsxs("div", { className: "space-y-2", children: [i.jsx(ie, { htmlFor: "year", children: "Year Group" }), i.jsxs(yn, { value: m.year_group, onValueChange: S => h({ ...m, year_group: S }), children: [i.jsx(qr, { children: i.jsx(xn, { placeholder: "Select year group" }) }), i.jsxs(Kr, { children: [i.jsx(Qe, { value: "10", children: "Year 10" }), i.jsx(Qe, { value: "11", children: "Year 11" }), i.jsx(Qe, { value: "12", children: "Year 12" }), i.jsx(Qe, { value: "13", children: "Year 13" })] })] })] }), i.jsxs("div", { className: "space-y-2", children: [i.jsx(ie, { htmlFor: "subjects", children: "Subjects (comma separated)" }), i.jsx(ae, { id: "subjects", value: m.subjects, onChange: S => h({ ...m, subjects: S.target.value }), placeholder: "Biology, Chemistry, Physics, Maths" })] })] }), i.jsx("div", { className: "flex justify-end mt-6", children: i.jsx(H, { onClick: v, disabled: d, children: d ? i.jsxs(i.Fragment, { children: [i.jsx(Be, { className: "mr-2 h-4 w-4 animate-spin" }), "Saving..."] }) : "Save Changes" }) })] }), a === "notifications" && i.jsxs("div", { className: "glass-card p-6 animate-slide-up", style: { animationDelay: "0.3s", opacity: 0 }, children: [i.jsx("h2", { className: "text-lg font-semibold text-foreground mb-6", children: "Notifications" }), i.jsx("div", { className: "space-y-4", children: [{ key: "studyReminders", label: "Study reminders", description: "Get daily reminders to study" }, { key: "progressUpdates", label: "Progress updates", description: "Weekly summary of your progress" }, { key: "newContentAlerts", label: "New content alerts", description: "When new papers or notes are added" }, { key: "achievementNotifications", label: "Achievement notifications", description: "Celebrate your milestones" }].map(S => i.jsxs("div", { className: "flex items-center justify-between", children: [i.jsxs("div", { children: [i.jsx("p", { className: "font-medium text-foreground", children: S.label }), i.jsx("p", { className: "text-sm text-muted-foreground", children: S.description })] }), i.jsx(T_, { checked: x[S.key], onCheckedChange: _ => g({ ...x, [S.key]: _ }) })] }, S.key)) })] }), a === "appearance" && i.jsxs("div", { className: "glass-card p-6 animate-slide-up", style: { animationDelay: "0.3s", opacity: 0 }, children: [i.jsx("h2", { className: "text-lg font-semibold text-foreground mb-6", children: "Appearance" }), i.jsxs("div", { className: "space-y-6", children: [i.jsxs("div", { className: "flex items-center justify-between", children: [i.jsxs("div", { children: [i.jsx("p", { className: "font-medium text-foreground", children: "Theme" }), i.jsx("p", { className: "text-sm text-muted-foreground", children: "Choose between light and dark mode" })] }), i.jsxs("div", { className: "flex items-center gap-3", children: [i.jsx(H, { variant: r === "light" ? "default" : "outline", size: "sm", onClick: () => s("light"), children: "Light" }), i.jsx(H, { variant: r === "dark" ? "default" : "outline", size: "sm", onClick: () => s("dark"), children: "Dark" })] })] }), i.jsxs("div", { className: "flex items-center justify-between pt-4 border-t border-border", children: [i.jsxs("div", { children: [i.jsx("p", { className: "font-medium text-foreground", children: "Quick Toggle" }), i.jsx("p", { className: "text-sm text-muted-foreground", children: "Toggle between light and dark mode" })] }), i.jsx(H, { variant: "outline", size: "sm", onClick: n, className: "gap-2", children: r === "light" ? i.jsxs(i.Fragment, { children: [i.jsx("span", { children: "" }), " Switch to Dark"] }) : i.jsxs(i.Fragment, { children: [i.jsx("span", { children: "" }), " Switch to Light"] }) })] })] })] }), a === "privacy" && i.jsxs("div", { className: "glass-card p-6 animate-slide-up", style: { animationDelay: "0.3s", opacity: 0 }, children: [i.jsx("h2", { className: "text-lg font-semibold text-foreground mb-6", children: "Privacy & Account" }), i.jsx("div", { className: "space-y-6", children: i.jsxs("div", { className: "p-4 rounded-xl bg-destructive/10 border border-destructive/20", children: [i.jsx("h3", { className: "font-semibold text-foreground mb-2", children: "Danger Zone" }), i.jsx("p", { className: "text-sm text-muted-foreground mb-4", children: "Permanently delete your account and all associated data. This action cannot be undone." }), i.jsx(H, { variant: "destructive", onClick: async () => { if (confirm("Are you sure you want to delete your account? This action cannot be undone and all your data will be permanently deleted.") && confirm("This is your last chance. Are you absolutely sure?")) { p(!0); try { const S = ["notes", "flashcards", "past_papers", "knowledge_organizers", "extracurriculars"]; for (const _ of S) await e.from(_).delete().eq("user_id", t == null ? void 0 : t.id); await e.from("profiles").delete().eq("id", t == null ? void 0 : t.id), await e.auth.signOut(), o({ title: "Account Deletion Initiated", description: "Your local data has been deleted. Please contact support to complete account deletion, or your account will be automatically cleaned up." }), window.location.href = "/landing" } catch (S) { console.error("Error deleting account:", S), o({ title: "Error", description: S.message || "Failed to delete account. Please contact support.", variant: "destructive" }) } finally { p(!1) } } }, disabled: d, children: d ? i.jsxs(i.Fragment, { children: [i.jsx(Be, { className: "mr-2 h-4 w-4 animate-spin" }), "Deleting..."] }) : i.jsxs(i.Fragment, { children: [i.jsx(so, { className: "mr-2 h-4 w-4" }), "Delete Account"] }) })] }) })] }), a === "subscription" && i.jsxs("div", { className: "glass-card p-6 animate-slide-up", style: { animationDelay: "0.4s", opacity: 0 }, children: [i.jsx("h2", { className: "text-lg font-semibold text-foreground mb-6", children: "Subscription" }), i.jsx("div", { className: "p-4 rounded-xl bg-muted/50 border border-border mb-4", children: i.jsxs("div", { className: "flex items-center justify-between", children: [i.jsxs("div", { children: [i.jsx("p", { className: "font-semibold text-foreground", children: "Free Plan" }), i.jsx("p", { className: "text-sm text-muted-foreground", children: "Basic access to study materials" })] }), i.jsxs(H, { className: "bg-premium hover:bg-premium/90 text-premium-foreground", children: [i.jsx(ns, { className: "h-4 w-4 mr-2" }), "Upgrade to Premium"] })] }) }), i.jsx("p", { className: "text-sm text-muted-foreground", children: "Unlock AI-powered features, advanced analytics, and ad-free studying with Premium." })] })] }) })] })] }) }) } const R_ = f.forwardRef(({ className: e, ...t }, r) => i.jsx("div", { className: "relative w-full overflow-auto", children: i.jsx("table", { ref: r, className: F("w-full caption-bottom text-sm", e), ...t }) })); R_.displayName = "Table"; const A_ = f.forwardRef(({ className: e, ...t }, r) => i.jsx("thead", { ref: r, className: F("[&_tr]:border-b", e), ...t })); A_.displayName = "TableHeader"; const O_ = f.forwardRef(({ className: e, ...t }, r) => i.jsx("tbody", { ref: r, className: F("[&_tr:last-child]:border-0", e), ...t })); O_.displayName = "TableBody"; const M3 = f.forwardRef(({ className: e, ...t }, r) => i.jsx("tfoot", { ref: r, className: F("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0", e), ...t })); M3.displayName = "TableFooter"; const Uf = f.forwardRef(({ className: e, ...t }, r) => i.jsx("tr", { ref: r, className: F("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50", e), ...t })); Uf.displayName = "TableRow"; const Ds = f.forwardRef(({ className: e, ...t }, r) => i.jsx("th", { ref: r, className: F("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0", e), ...t })); Ds.displayName = "TableHead"; const Ls = f.forwardRef(({ className: e, ...t }, r) => i.jsx("td", { ref: r, className: F("p-4 align-middle [&:has([role=checkbox])]:pr-0", e), ...t })); Ls.displayName = "TableCell"; const F3 = f.forwardRef(({ className: e, ...t }, r) => i.jsx("caption", { ref: r, className: F("mt-4 text-sm text-muted-foreground", e), ...t })); F3.displayName = "TableCaption"; const No = "http://localhost:3001"; function U3() { const { user: e, supabase: t } = ut(), r = Sn(), [n, s] = f.useState(!0), [o, a] = f.useState(!1), [l, c] = f.useState([]), [u, d] = f.useState(null), [p, m] = f.useState(""), [h, x] = f.useState(null), [g, b] = f.useState(null), [v, y] = f.useState(1), [w, j] = f.useState(1); f.useEffect(() => { S() }, [e]); const S = async () => { if (!e || !t) { r("/"); return } const R = await _3(t, e.id); if (a(R), !R) { De.error("Admin access required"), r("/"); return } _() }, _ = async () => { if (!(!e || !t)) { s(!0); try { await Promise.all([C(), k()]) } catch (R) { console.error("Error loading data:", R), De.error("Failed to load admin data") } finally { s(!1) } } }, C = async () => { var R; if (!(!e || !t)) try { const { data: { session: O } } = await t.auth.getSession(); if (!O) return; const U = await fetch(`${No}/api/admin/users?page=${v}&limit=20&search=${p}`, { headers: { Authorization: `Bearer ${O.access_token}` } }), z = await U.json(); U.ok ? (c(z.users || []), j(((R = z.pagination) == null ? void 0 : R.totalPages) || 1)) : De.error(z.error || "Failed to load users") } catch (O) { console.error("Error loading users:", O), De.error("Failed to load users") } }, k = async () => { if (!(!e || !t)) try { const { data: { session: R } } = await t.auth.getSession(); if (!R) return; const O = await fetch(`${No}/api/admin/stats`, { headers: { Authorization: `Bearer ${R.access_token}` } }), U = await O.json(); O.ok && d(U) } catch (R) { console.error("Error loading stats:", R) } }, E = async R => { if (!(!e || !t)) try { const { data: { session: O } } = await t.auth.getSession(); if (!O) return; const U = await fetch(`${No}/api/admin/users/${R}`, { headers: { Authorization: `Bearer ${O.access_token}` } }), z = await U.json(); U.ok ? b(z) : De.error(z.error || "Failed to load user details") } catch (O) { console.error("Error loading user details:", O), De.error("Failed to load user details") } }, P = async (R, O) => { if (!(!e || !t)) try { const { data: { session: U } } = await t.auth.getSession(); if (!U) return; const z = await fetch(`${No}/api/admin/users/${R}/premium`, { method: "PUT", headers: { "Content-Type": "application/json", Authorization: `Bearer ${U.access_token}` }, body: JSON.stringify({ is_premium: O }) }), K = await z.json(); z.ok ? (De.success(K.message || `Premium access ${O ? "granted" : "revoked"}`), C(), k(), (h == null ? void 0 : h.id) === R && E(R)) : De.error(K.error || "Failed to update premium status") } catch (U) { console.error("Error updating premium:", U), De.error("Failed to update premium status") } }, L = async (R, O) => { if (!(!e || !t)) try { const { data: { session: U } } = await t.auth.getSession(); if (!U) return; const z = await fetch(`${No}/api/admin/users/${R}/admin`, { method: "PUT", headers: { "Content-Type": "application/json", Authorization: `Bearer ${U.access_token}` }, body: JSON.stringify({ is_admin: O }) }), K = await z.json(); z.ok ? (De.success(K.message || `Admin access ${O ? "granted" : "revoked"}`), C(), (h == null ? void 0 : h.id) === R && E(R)) : De.error(K.error || "Failed to update admin status") } catch (U) { console.error("Error updating admin:", U), De.error("Failed to update admin status") } }, T = async R => { if (confirm("Are you sure you want to delete this user? This action cannot be undone.") && !(!e || !t)) try { const { data: { session: O } } = await t.auth.getSession(); if (!O) return; const U = await fetch(`${No}/api/admin/users/${R}`, { method: "DELETE", headers: { Authorization: `Bearer ${O.access_token}` } }), z = await U.json(); U.ok ? (De.success("User deleted successfully"), C(), k(), x(null), b(null)) : De.error(z.error || "Failed to delete user") } catch (O) { console.error("Error deleting user:", O), De.error("Failed to delete user") } }; return f.useEffect(() => { o && C() }, [v, p, o]), o ? n && !u ? i.jsx(qe, { children: i.jsx("div", { className: "flex items-center justify-center min-h-[60vh]", children: i.jsx(Be, { className: "h-8 w-8 animate-spin text-primary" }) }) }) : i.jsx(qe, { children: i.jsxs("div", { className: "max-w-7xl mx-auto space-y-6", children: [i.jsx("div", { className: "flex items-center justify-between", children: i.jsxs("div", { children: [i.jsxs("h1", { className: "text-3xl font-bold text-foreground flex items-center gap-2", children: [i.jsx(Bs, { className: "h-8 w-8 text-premium" }), "Admin Dashboard"] }), i.jsx("p", { className: "text-muted-foreground mt-1", children: "Manage users, subscriptions, and payments" })] }) }), u && i.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4", children: [i.jsxs("div", { className: "glass-card p-4", children: [i.jsxs("div", { className: "flex items-center gap-2 mb-2", children: [i.jsx(zp, { className: "h-5 w-5 text-primary" }), i.jsx("span", { className: "text-sm text-muted-foreground", children: "Total Users" })] }), i.jsx("p", { className: "text-2xl font-bold text-foreground", children: u.totalUsers })] }), i.jsxs("div", { className: "glass-card p-4", children: [i.jsxs("div", { className: "flex items-center gap-2 mb-2", children: [i.jsx(ns, { className: "h-5 w-5 text-premium" }), i.jsx("span", { className: "text-sm text-muted-foreground", children: "Premium Users" })] }), i.jsx("p", { className: "text-2xl font-bold text-foreground", children: u.premiumUsers })] }), i.jsxs("div", { className: "glass-card p-4", children: [i.jsxs("div", { className: "flex items-center gap-2 mb-2", children: [i.jsx(q0, { className: "h-5 w-5 text-secondary" }), i.jsx("span", { className: "text-sm text-muted-foreground", children: "Active Subs" })] }), i.jsx("p", { className: "text-2xl font-bold text-foreground", children: u.activeSubscriptions })] }), i.jsxs("div", { className: "glass-card p-4", children: [i.jsxs("div", { className: "flex items-center gap-2 mb-2", children: [i.jsx(mv, { className: "h-5 w-5 text-accent" }), i.jsx("span", { className: "text-sm text-muted-foreground", children: "Total Revenue" })] }), i.jsxs("p", { className: "text-2xl font-bold text-foreground", children: ["", u.totalRevenue.toFixed(2)] })] }), i.jsxs("div", { className: "glass-card p-4", children: [i.jsxs("div", { className: "flex items-center gap-2 mb-2", children: [i.jsx(mv, { className: "h-5 w-5 text-secondary" }), i.jsx("span", { className: "text-sm text-muted-foreground", children: "Monthly Revenue" })] }), i.jsxs("p", { className: "text-2xl font-bold text-foreground", children: ["", u.monthlyRevenue.toFixed(2)] })] })] }), i.jsxs("div", { className: "glass-card p-6", children: [i.jsxs("div", { className: "flex items-center justify-between mb-4", children: [i.jsx("h2", { className: "text-xl font-semibold text-foreground", children: "Users" }), i.jsx("div", { className: "flex items-center gap-2", children: i.jsxs("div", { className: "relative", children: [i.jsx(mo, { className: "absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground" }), i.jsx(ae, { placeholder: "Search users...", value: p, onChange: R => { m(R.target.value), y(1) }, className: "pl-9 w-64" })] }) })] }), i.jsx("div", { className: "border rounded-lg", children: i.jsxs(R_, { children: [i.jsx(A_, { children: i.jsxs(Uf, { children: [i.jsx(Ds, { children: "Email" }), i.jsx(Ds, { children: "Name" }), i.jsx(Ds, { children: "Premium" }), i.jsx(Ds, { children: "Admin" }), i.jsx(Ds, { children: "Joined" }), i.jsx(Ds, { className: "text-right", children: "Actions" })] }) }), i.jsx(O_, { children: l.map(R => i.jsxs(Uf, { children: [i.jsx(Ls, { className: "font-medium", children: R.email }), i.jsx(Ls, { children: R.full_name || "" }), i.jsx(Ls, { children: R.is_premium ? i.jsxs("span", { className: "inline-flex items-center gap-1 text-premium", children: [i.jsx(ns, { className: "h-4 w-4" }), "Premium"] }) : i.jsx("span", { className: "text-muted-foreground", children: "Free" }) }), i.jsx(Ls, { children: R.is_admin ? i.jsxs("span", { className: "inline-flex items-center gap-1 text-premium", children: [i.jsx(Bs, { className: "h-4 w-4" }), "Admin"] }) : i.jsx("span", { className: "text-muted-foreground", children: "" }) }), i.jsx(Ls, { className: "text-sm text-muted-foreground", children: new Date(R.created_at).toLocaleDateString() }), i.jsx(Ls, { className: "text-right", children: i.jsx("div", { className: "flex items-center justify-end gap-2", children: i.jsxs(lo, { children: [i.jsx(n$, { asChild: !0, children: i.jsx(H, { variant: "ghost", size: "sm", onClick: () => { x(R), E(R.id) }, children: i.jsx($0, { className: "h-4 w-4" }) }) }), i.jsxs(hs, { className: "max-w-2xl max-h-[80vh] overflow-y-auto", children: [i.jsxs(fs, { children: [i.jsx(ps, { children: "User Details" }), i.jsx(ms, { children: "Manage user account and permissions" })] }), g && i.jsxs("div", { className: "space-y-4", children: [i.jsxs("div", { children: [i.jsx("h3", { className: "font-semibold mb-2", children: "Profile" }), i.jsxs("div", { className: "space-y-2 text-sm", children: [i.jsxs("p", { children: [i.jsx("span", { className: "text-muted-foreground", children: "Email:" }), " ", g.profile.email] }), i.jsxs("p", { children: [i.jsx("span", { className: "text-muted-foreground", children: "Name:" }), " ", g.profile.full_name || ""] }), i.jsxs("p", { children: [i.jsx("span", { className: "text-muted-foreground", children: "Joined:" }), " ", new Date(g.profile.created_at).toLocaleString()] })] })] }), i.jsxs("div", { children: [i.jsx("h3", { className: "font-semibold mb-2", children: "Permissions" }), i.jsxs("div", { className: "flex items-center gap-4", children: [i.jsxs("div", { className: "flex items-center gap-2", children: [i.jsx("span", { className: "text-sm", children: "Premium:" }), i.jsx(H, { variant: g.profile.is_premium ? "default" : "outline", size: "sm", onClick: () => P(R.id, !g.profile.is_premium), children: g.profile.is_premium ? i.jsxs(i.Fragment, { children: [i.jsx(qk, { className: "h-4 w-4 mr-1" }), "Revoke"] }) : i.jsxs(i.Fragment, { children: [i.jsx(ns, { className: "h-4 w-4 mr-1" }), "Grant"] }) })] }), i.jsxs("div", { className: "flex items-center gap-2", children: [i.jsx("span", { className: "text-sm", children: "Admin:" }), i.jsx(H, { variant: g.profile.is_admin ? "default" : "outline", size: "sm", onClick: () => L(R.id, !g.profile.is_admin), children: g.profile.is_admin ? i.jsxs(i.Fragment, { children: [i.jsx(Bs, { className: "h-4 w-4 mr-1" }), "Revoke"] }) : i.jsxs(i.Fragment, { children: [i.jsx(Bs, { className: "h-4 w-4 mr-1" }), "Grant"] }) })] })] })] }), g.subscription && i.jsxs("div", { children: [i.jsx("h3", { className: "font-semibold mb-2", children: "Subscription" }), i.jsxs("div", { className: "space-y-2 text-sm", children: [i.jsxs("p", { children: [i.jsx("span", { className: "text-muted-foreground", children: "Plan:" }), " ", g.subscription.plan_type] }), i.jsxs("p", { children: [i.jsx("span", { className: "text-muted-foreground", children: "Status:" }), " ", g.subscription.status] }), i.jsxs("p", { children: [i.jsx("span", { className: "text-muted-foreground", children: "Period End:" }), " ", new Date(g.subscription.current_period_end).toLocaleDateString()] })] })] }), i.jsx("div", { className: "pt-4 border-t", children: i.jsxs(H, { variant: "destructive", size: "sm", onClick: () => T(R.id), children: [i.jsx(Kk, { className: "h-4 w-4 mr-2" }), "Delete User"] }) })] })] })] }) }) })] }, R.id)) })] }) }), w > 1 && i.jsxs("div", { className: "flex items-center justify-between mt-4", children: [i.jsxs("p", { className: "text-sm text-muted-foreground", children: ["Page ", v, " of ", w] }), i.jsxs("div", { className: "flex gap-2", children: [i.jsx(H, { variant: "outline", size: "sm", onClick: () => y(R => Math.max(1, R - 1)), disabled: v === 1, children: "Previous" }), i.jsx(H, { variant: "outline", size: "sm", onClick: () => y(R => Math.min(w, R + 1)), disabled: v === w, children: "Next" })] })] })] })] }) }) : i.jsx(qe, { children: i.jsx("div", { className: "flex items-center justify-center min-h-[60vh]", children: i.jsx(Be, { className: "h-8 w-8 animate-spin text-primary" }) }) }) } const z3 = () => { const e = Kt(); return f.useEffect(() => { console.error("404 Error: User attempted to access non-existent route:", e.pathname) }, [e.pathname]), i.jsx("div", { className: "flex min-h-screen items-center justify-center bg-muted", children: i.jsxs("div", { className: "text-center", children: [i.jsx("h1", { className: "mb-4 text-4xl font-bold", children: "404" }), i.jsx("p", { className: "mb-4 text-xl text-muted-foreground", children: "Oops! Page not found" }), i.jsx("a", { href: "/", className: "text-primary underline hover:text-primary/90", children: "Return to Home" })] }) }) }, B3 = [{ question: "What is Study Spark Hub?", answer: "Study Spark Hub is an all-in-one study companion platform that helps students organize notes, create flashcards, practice with past papers, and track their academic progress. It's designed to make studying more efficient and effective." }, { question: "Is Study Spark Hub free?", answer: "Yes! Study Spark Hub offers a free plan with access to basic features including notes, flashcards, and past papers. We also offer a Premium plan with advanced features like AI-powered tutoring and advanced analytics." }, { question: "How do I create notes?", answer: "Navigate to the Notes page from your dashboard. Click the 'Add Note' button to create a new note. You can organize notes by subject and topic, add tags, and highlight key points." }, { question: "Can I use flashcards offline?", answer: "Currently, Study Spark Hub requires an internet connection to sync your flashcards across devices. However, we're working on offline support for future updates." }, { question: "What subjects are supported?", answer: "Study Spark Hub supports all subjects! You can create notes, flashcards, and organize materials for any subject you're studying. Popular subjects include Biology, Chemistry, Physics, Mathematics, and more." }, { question: "How does the AI tutoring feature work?", answer: "Our AI tutoring bot uses advanced language models to help you study. You can ask questions about your notes, get explanations of concepts, and receive personalized study recommendations based on your progress." }, { question: "Can I share my notes with classmates?", answer: "Currently, notes are private to your account. We're exploring sharing features for future releases. Stay tuned!" }, { question: "How do I cancel my Premium subscription?", answer: "You can manage your subscription in the Settings page. Navigate to Settings  Subscription to view and cancel your Premium subscription at any time." }, { question: "Is my data secure?", answer: "Yes! We use industry-standard encryption and security practices to protect your data. All data is stored securely and we never share your information with third parties." }, { question: "How do I delete my account?", answer: "You can delete your account from the Settings page. Navigate to Settings  Privacy and click the 'Delete Account' button. Please note that this action is permanent and cannot be undone." }]; function V3() { return i.jsx(qe, { children: i.jsxs("div", { className: "max-w-4xl mx-auto space-y-8", children: [i.jsxs("div", { className: "text-center space-y-4 animate-fade-in", children: [i.jsxs("div", { className: "flex items-center justify-center gap-3", children: [i.jsx(Pk, { className: "h-8 w-8 text-primary" }), i.jsx("h1", { className: "text-3xl md:text-4xl font-bold text-foreground", children: "Frequently Asked Questions" })] }), i.jsx("p", { className: "text-muted-foreground text-lg", children: "Find answers to common questions about Study Spark Hub" })] }), i.jsx("div", { className: "space-y-4 animate-slide-up", style: { animationDelay: "0.1s", opacity: 0 }, children: i.jsx(MS, { type: "single", collapsible: !0, className: "w-full", children: B3.map((e, t) => i.jsxs(Fm, { value: `item-${t}`, className: "glass-card px-6 mb-4", children: [i.jsx(Um, { className: "text-left font-semibold text-foreground hover:no-underline", children: e.question }), i.jsx(zm, { className: "text-muted-foreground pt-2", children: e.answer })] }, t)) }) }), i.jsxs("div", { className: "glass-card p-6 text-center animate-slide-up", style: { animationDelay: "0.2s", opacity: 0 }, children: [i.jsx("h3", { className: "text-lg font-semibold text-foreground mb-2", children: "Still have questions?" }), i.jsx("p", { className: "text-muted-foreground mb-4", children: "Can't find the answer you're looking for? Please contact our support team." }), i.jsx("a", { href: "/contact", className: "text-primary hover:underline font-medium", children: "Contact Support " })] })] }) }) } function H3(e, t) { return f.useReducer((r, n) => t[r][n] ?? r, e) } var Hm = "ScrollArea", [I_] = Gr(Hm), [W3, sr] = I_(Hm), D_ = f.forwardRef((e, t) => { const { __scopeScrollArea: r, type: n = "hover", dir: s, scrollHideDelay: o = 600, ...a } = e, [l, c] = f.useState(null), [u, d] = f.useState(null), [p, m] = f.useState(null), [h, x] = f.useState(null), [g, b] = f.useState(null), [v, y] = f.useState(0), [w, j] = f.useState(0), [S, _] = f.useState(!1), [C, k] = f.useState(!1), E = we(t, L => c(L)), P = Dm(s); return i.jsx(W3, { scope: r, type: n, dir: P, scrollHideDelay: o, scrollArea: l, viewport: u, onViewportChange: d, content: p, onContentChange: m, scrollbarX: h, onScrollbarXChange: x, scrollbarXEnabled: S, onScrollbarXEnabledChange: _, scrollbarY: g, onScrollbarYChange: b, scrollbarYEnabled: C, onScrollbarYEnabledChange: k, onCornerWidthChange: y, onCornerHeightChange: j, children: i.jsx(ce.div, { dir: P, ...a, ref: E, style: { position: "relative", "--radix-scroll-area-corner-width": v + "px", "--radix-scroll-area-corner-height": w + "px", ...e.style } }) }) }); D_.displayName = Hm; var L_ = "ScrollAreaViewport", $_ = f.forwardRef((e, t) => { const { __scopeScrollArea: r, children: n, nonce: s, ...o } = e, a = sr(L_, r), l = f.useRef(null), c = we(t, l, a.onViewportChange); return i.jsxs(i.Fragment, { children: [i.jsx("style", { dangerouslySetInnerHTML: { __html: "[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}" }, nonce: s }), i.jsx(ce.div, { "data-radix-scroll-area-viewport": "", ...o, ref: c, style: { overflowX: a.scrollbarXEnabled ? "scroll" : "hidden", overflowY: a.scrollbarYEnabled ? "scroll" : "hidden", ...e.style }, children: i.jsx("div", { ref: a.onContentChange, style: { minWidth: "100%", display: "table" }, children: n }) })] }) }); $_.displayName = L_; var Qr = "ScrollAreaScrollbar", Wm = f.forwardRef((e, t) => { const { forceMount: r, ...n } = e, s = sr(Qr, e.__scopeScrollArea), { onScrollbarXEnabledChange: o, onScrollbarYEnabledChange: a } = s, l = e.orientation === "horizontal"; return f.useEffect(() => (l ? o(!0) : a(!0), () => { l ? o(!1) : a(!1) }), [l, o, a]), s.type === "hover" ? i.jsx(q3, { ...n, ref: t, forceMount: r }) : s.type === "scroll" ? i.jsx(K3, { ...n, ref: t, forceMount: r }) : s.type === "auto" ? i.jsx(M_, { ...n, ref: t, forceMount: r }) : s.type === "always" ? i.jsx(qm, { ...n, ref: t }) : null }); Wm.displayName = Qr; var q3 = f.forwardRef((e, t) => { const { forceMount: r, ...n } = e, s = sr(Qr, e.__scopeScrollArea), [o, a] = f.useState(!1); return f.useEffect(() => { const l = s.scrollArea; let c = 0; if (l) { const u = () => { window.clearTimeout(c), a(!0) }, d = () => { c = window.setTimeout(() => a(!1), s.scrollHideDelay) }; return l.addEventListener("pointerenter", u), l.addEventListener("pointerleave", d), () => { window.clearTimeout(c), l.removeEventListener("pointerenter", u), l.removeEventListener("pointerleave", d) } } }, [s.scrollArea, s.scrollHideDelay]), i.jsx(Nr, { present: r || o, children: i.jsx(M_, { "data-state": o ? "visible" : "hidden", ...n, ref: t }) }) }), K3 = f.forwardRef((e, t) => { const { forceMount: r, ...n } = e, s = sr(Qr, e.__scopeScrollArea), o = e.orientation === "horizontal", a = td(() => c("SCROLL_END"), 100), [l, c] = H3("hidden", { hidden: { SCROLL: "scrolling" }, scrolling: { SCROLL_END: "idle", POINTER_ENTER: "interacting" }, interacting: { SCROLL: "interacting", POINTER_LEAVE: "idle" }, idle: { HIDE: "hidden", SCROLL: "scrolling", POINTER_ENTER: "interacting" } }); return f.useEffect(() => { if (l === "idle") { const u = window.setTimeout(() => c("HIDE"), s.scrollHideDelay); return () => window.clearTimeout(u) } }, [l, s.scrollHideDelay, c]), f.useEffect(() => { const u = s.viewport, d = o ? "scrollLeft" : "scrollTop"; if (u) { let p = u[d]; const m = () => { const h = u[d]; p !== h && (c("SCROLL"), a()), p = h }; return u.addEventListener("scroll", m), () => u.removeEventListener("scroll", m) } }, [s.viewport, o, c, a]), i.jsx(Nr, { present: r || l !== "hidden", children: i.jsx(qm, { "data-state": l === "hidden" ? "hidden" : "visible", ...n, ref: t, onPointerEnter: se(e.onPointerEnter, () => c("POINTER_ENTER")), onPointerLeave: se(e.onPointerLeave, () => c("POINTER_LEAVE")) }) }) }), M_ = f.forwardRef((e, t) => { const r = sr(Qr, e.__scopeScrollArea), { forceMount: n, ...s } = e, [o, a] = f.useState(!1), l = e.orientation === "horizontal", c = td(() => { if (r.viewport) { const u = r.viewport.offsetWidth < r.viewport.scrollWidth, d = r.viewport.offsetHeight < r.viewport.scrollHeight; a(l ? u : d) } }, 10); return wi(r.viewport, c), wi(r.content, c), i.jsx(Nr, { present: n || o, children: i.jsx(qm, { "data-state": o ? "visible" : "hidden", ...s, ref: t }) }) }), qm = f.forwardRef((e, t) => { const { orientation: r = "vertical", ...n } = e, s = sr(Qr, e.__scopeScrollArea), o = f.useRef(null), a = f.useRef(0), [l, c] = f.useState({ content: 0, viewport: 0, scrollbar: { size: 0, paddingStart: 0, paddingEnd: 0 } }), u = V_(l.viewport, l.content), d = { ...n, sizes: l, onSizesChange: c, hasThumb: u > 0 && u < 1, onThumbChange: m => o.current = m, onThumbPointerUp: () => a.current = 0, onThumbPointerDown: m => a.current = m }; function p(m, h) { return Z3(m, a.current, l, h) } return r === "horizontal" ? i.jsx(G3, { ...d, ref: t, onThumbPositionChange: () => { if (s.viewport && o.current) { const m = s.viewport.scrollLeft, h = Dy(m, l, s.dir); o.current.style.transform = `translate3d(${h}px, 0, 0)` } }, onWheelScroll: m => { s.viewport && (s.viewport.scrollLeft = m) }, onDragScroll: m => { s.viewport && (s.viewport.scrollLeft = p(m, s.dir)) } }) : r === "vertical" ? i.jsx(Y3, { ...d, ref: t, onThumbPositionChange: () => { if (s.viewport && o.current) { const m = s.viewport.scrollTop, h = Dy(m, l); o.current.style.transform = `translate3d(0, ${h}px, 0)` } }, onWheelScroll: m => { s.viewport && (s.viewport.scrollTop = m) }, onDragScroll: m => { s.viewport && (s.viewport.scrollTop = p(m)) } }) : null }), G3 = f.forwardRef((e, t) => { const { sizes: r, onSizesChange: n, ...s } = e, o = sr(Qr, e.__scopeScrollArea), [a, l] = f.useState(), c = f.useRef(null), u = we(t, c, o.onScrollbarXChange); return f.useEffect(() => { c.current && l(getComputedStyle(c.current)) }, [c]), i.jsx(U_, { "data-orientation": "horizontal", ...s, ref: u, sizes: r, style: { bottom: 0, left: o.dir === "rtl" ? "var(--radix-scroll-area-corner-width)" : 0, right: o.dir === "ltr" ? "var(--radix-scroll-area-corner-width)" : 0, "--radix-scroll-area-thumb-width": ed(r) + "px", ...e.style }, onThumbPointerDown: d => e.onThumbPointerDown(d.x), onDragScroll: d => e.onDragScroll(d.x), onWheelScroll: (d, p) => { if (o.viewport) { const m = o.viewport.scrollLeft + d.deltaX; e.onWheelScroll(m), W_(m, p) && d.preventDefault() } }, onResize: () => { c.current && o.viewport && a && n({ content: o.viewport.scrollWidth, viewport: o.viewport.offsetWidth, scrollbar: { size: c.current.clientWidth, paddingStart: nu(a.paddingLeft), paddingEnd: nu(a.paddingRight) } }) } }) }), Y3 = f.forwardRef((e, t) => { const { sizes: r, onSizesChange: n, ...s } = e, o = sr(Qr, e.__scopeScrollArea), [a, l] = f.useState(), c = f.useRef(null), u = we(t, c, o.onScrollbarYChange); return f.useEffect(() => { c.current && l(getComputedStyle(c.current)) }, [c]), i.jsx(U_, { "data-orientation": "vertical", ...s, ref: u, sizes: r, style: { top: 0, right: o.dir === "ltr" ? 0 : void 0, left: o.dir === "rtl" ? 0 : void 0, bottom: "var(--radix-scroll-area-corner-height)", "--radix-scroll-area-thumb-height": ed(r) + "px", ...e.style }, onThumbPointerDown: d => e.onThumbPointerDown(d.y), onDragScroll: d => e.onDragScroll(d.y), onWheelScroll: (d, p) => { if (o.viewport) { const m = o.viewport.scrollTop + d.deltaY; e.onWheelScroll(m), W_(m, p) && d.preventDefault() } }, onResize: () => { c.current && o.viewport && a && n({ content: o.viewport.scrollHeight, viewport: o.viewport.offsetHeight, scrollbar: { size: c.current.clientHeight, paddingStart: nu(a.paddingTop), paddingEnd: nu(a.paddingBottom) } }) } }) }), [Q3, F_] = I_(Qr), U_ = f.forwardRef((e, t) => { const { __scopeScrollArea: r, sizes: n, hasThumb: s, onThumbChange: o, onThumbPointerUp: a, onThumbPointerDown: l, onThumbPositionChange: c, onDragScroll: u, onWheelScroll: d, onResize: p, ...m } = e, h = sr(Qr, r), [x, g] = f.useState(null), b = we(t, E => g(E)), v = f.useRef(null), y = f.useRef(""), w = h.viewport, j = n.content - n.viewport, S = Xe(d), _ = Xe(c), C = td(p, 10); function k(E) { if (v.current) { const P = E.clientX - v.current.left, L = E.clientY - v.current.top; u({ x: P, y: L }) } } return f.useEffect(() => { const E = P => { const L = P.target; (x == null ? void 0 : x.contains(L)) && S(P, j) }; return document.addEventListener("wheel", E, { passive: !1 }), () => document.removeEventListener("wheel", E, { passive: !1 }) }, [w, x, j, S]), f.useEffect(_, [n, _]), wi(x, C), wi(h.content, C), i.jsx(Q3, { scope: r, scrollbar: x, hasThumb: s, onThumbChange: Xe(o), onThumbPointerUp: Xe(a), onThumbPositionChange: _, onThumbPointerDown: Xe(l), children: i.jsx(ce.div, { ...m, ref: b, style: { position: "absolute", ...m.style }, onPointerDown: se(e.onPointerDown, E => { E.button === 0 && (E.target.setPointerCapture(E.pointerId), v.current = x.getBoundingClientRect(), y.current = document.body.style.webkitUserSelect, document.body.style.webkitUserSelect = "none", h.viewport && (h.viewport.style.scrollBehavior = "auto"), k(E)) }), onPointerMove: se(e.onPointerMove, k), onPointerUp: se(e.onPointerUp, E => { const P = E.target; P.hasPointerCapture(E.pointerId) && P.releasePointerCapture(E.pointerId), document.body.style.webkitUserSelect = y.current, h.viewport && (h.viewport.style.scrollBehavior = ""), v.current = null }) }) }) }), ru = "ScrollAreaThumb", z_ = f.forwardRef((e, t) => { const { forceMount: r, ...n } = e, s = F_(ru, e.__scopeScrollArea); return i.jsx(Nr, { present: r || s.hasThumb, children: i.jsx(J3, { ref: t, ...n }) }) }), J3 = f.forwardRef((e, t) => { const { __scopeScrollArea: r, style: n, ...s } = e, o = sr(ru, r), a = F_(ru, r), { onThumbPositionChange: l } = a, c = we(t, p => a.onThumbChange(p)), u = f.useRef(void 0), d = td(() => { u.current && (u.current(), u.current = void 0) }, 100); return f.useEffect(() => { const p = o.viewport; if (p) { const m = () => { if (d(), !u.current) { const h = e5(p, l); u.current = h, l() } }; return l(), p.addEventListener("scroll", m), () => p.removeEventListener("scroll", m) } }, [o.viewport, d, l]), i.jsx(ce.div, { "data-state": a.hasThumb ? "visible" : "hidden", ...s, ref: c, style: { width: "var(--radix-scroll-area-thumb-width)", height: "var(--radix-scroll-area-thumb-height)", ...n }, onPointerDownCapture: se(e.onPointerDownCapture, p => { const h = p.target.getBoundingClientRect(), x = p.clientX - h.left, g = p.clientY - h.top; a.onThumbPointerDown({ x, y: g }) }), onPointerUp: se(e.onPointerUp, a.onThumbPointerUp) }) }); z_.displayName = ru; var Km = "ScrollAreaCorner", B_ = f.forwardRef((e, t) => { const r = sr(Km, e.__scopeScrollArea), n = !!(r.scrollbarX && r.scrollbarY); return r.type !== "scroll" && n ? i.jsx(X3, { ...e, ref: t }) : null }); B_.displayName = Km; var X3 = f.forwardRef((e, t) => { const { __scopeScrollArea: r, ...n } = e, s = sr(Km, r), [o, a] = f.useState(0), [l, c] = f.useState(0), u = !!(o && l); return wi(s.scrollbarX, () => { var p; const d = ((p = s.scrollbarX) == null ? void 0 : p.offsetHeight) || 0; s.onCornerHeightChange(d), c(d) }), wi(s.scrollbarY, () => { var p; const d = ((p = s.scrollbarY) == null ? void 0 : p.offsetWidth) || 0; s.onCornerWidthChange(d), a(d) }), u ? i.jsx(ce.div, { ...n, ref: t, style: { width: o, height: l, position: "absolute", right: s.dir === "ltr" ? 0 : void 0, left: s.dir === "rtl" ? 0 : void 0, bottom: 0, ...e.style } }) : null }); function nu(e) { return e ? parseInt(e, 10) : 0 } function V_(e, t) { const r = e / t; return isNaN(r) ? 0 : r } function ed(e) { const t = V_(e.viewport, e.content), r = e.scrollbar.paddingStart + e.scrollbar.paddingEnd, n = (e.scrollbar.size - r) * t; return Math.max(n, 18) } function Z3(e, t, r, n = "ltr") { const s = ed(r), o = s / 2, a = t || o, l = s - a, c = r.scrollbar.paddingStart + a, u = r.scrollbar.size - r.scrollbar.paddingEnd - l, d = r.content - r.viewport, p = n === "ltr" ? [0, d] : [d * -1, 0]; return H_([c, u], p)(e) } function Dy(e, t, r = "ltr") { const n = ed(t), s = t.scrollbar.paddingStart + t.scrollbar.paddingEnd, o = t.scrollbar.size - s, a = t.content - t.viewport, l = o - n, c = r === "ltr" ? [0, a] : [a * -1, 0], u = If(e, c); return H_([0, a], [0, l])(u) } function H_(e, t) { return r => { if (e[0] === e[1] || t[0] === t[1]) return t[0]; const n = (t[1] - t[0]) / (e[1] - e[0]); return t[0] + n * (r - e[0]) } } function W_(e, t) { return e > 0 && e < t } var e5 = (e, t = () => { }) => { let r = { left: e.scrollLeft, top: e.scrollTop }, n = 0; return function s() { const o = { left: e.scrollLeft, top: e.scrollTop }, a = r.left !== o.left, l = r.top !== o.top; (a || l) && t(), r = o, n = window.requestAnimationFrame(s) }(), () => window.cancelAnimationFrame(n) }; function td(e, t) { const r = Xe(e), n = f.useRef(0); return f.useEffect(() => () => window.clearTimeout(n.current), []), f.useCallback(() => { window.clearTimeout(n.current), n.current = window.setTimeout(r, t) }, [r, t]) } function wi(e, t) { const r = Xe(t); Ve(() => { let n = 0; if (e) { const s = new ResizeObserver(() => { cancelAnimationFrame(n), n = window.requestAnimationFrame(r) }); return s.observe(e), () => { window.cancelAnimationFrame(n), s.unobserve(e) } } }, [e, r]) } var q_ = D_, t5 = $_, r5 = B_; const rd = f.forwardRef(({ className: e, children: t, ...r }, n) => i.jsxs(q_, { ref: n, className: F("relative overflow-hidden", e), ...r, children: [i.jsx(t5, { className: "h-full w-full rounded-[inherit]", children: t }), i.jsx(K_, {}), i.jsx(r5, {})] })); rd.displayName = q_.displayName; const K_ = f.forwardRef(({ className: e, orientation: t = "vertical", ...r }, n) => i.jsx(Wm, { ref: n, orientation: t, className: F("flex touch-none select-none transition-colors", t === "vertical" && "h-full w-2.5 border-l border-l-transparent p-[1px]", t === "horizontal" && "h-2.5 flex-col border-t border-t-transparent p-[1px]", e), ...r, children: i.jsx(z_, { className: "relative flex-1 rounded-full bg-border" }) })); K_.displayName = Wm.displayName; function n5() { return i.jsx(qe, { children: i.jsxs("div", { className: "max-w-4xl mx-auto space-y-8", children: [i.jsxs("div", { className: "text-center space-y-4 animate-fade-in", children: [i.jsxs("div", { className: "flex items-center justify-center gap-3", children: [i.jsx(cn, { className: "h-8 w-8 text-primary" }), i.jsx("h1", { className: "text-3xl md:text-4xl font-bold text-foreground", children: "Terms and Conditions" })] }), i.jsxs("p", { className: "text-muted-foreground", children: ["Last updated: ", new Date().toLocaleDateString()] })] }), i.jsx(rd, { className: "h-[calc(100vh-300px)]", children: i.jsxs("div", { className: "glass-card p-8 space-y-6 animate-slide-up", style: { animationDelay: "0.1s", opacity: 0 }, children: [i.jsxs("section", { children: [i.jsx("h2", { className: "text-2xl font-semibold text-foreground mb-4", children: "1. Acceptance of Terms" }), i.jsx("p", { className: "text-muted-foreground leading-relaxed", children: 'By accessing and using Study Spark Hub ("the Service"), you accept and agree to be bound by the terms and provision of this agreement. If you do not agree to abide by the above, please do not use this service.' })] }), i.jsxs("section", { children: [i.jsx("h2", { className: "text-2xl font-semibold text-foreground mb-4", children: "2. Use License" }), i.jsx("p", { className: "text-muted-foreground leading-relaxed mb-4", children: "Permission is granted to temporarily use Study Spark Hub for personal, non-commercial transitory viewing only. This is the grant of a license, not a transfer of title, and under this license you may not:" }), i.jsxs("ul", { className: "list-disc list-inside space-y-2 text-muted-foreground ml-4", children: [i.jsx("li", { children: "Modify or copy the materials" }), i.jsx("li", { children: "Use the materials for any commercial purpose or for any public display" }), i.jsx("li", { children: "Attempt to reverse engineer any software contained on Study Spark Hub" }), i.jsx("li", { children: "Remove any copyright or other proprietary notations from the materials" })] })] }), i.jsxs("section", { children: [i.jsx("h2", { className: "text-2xl font-semibold text-foreground mb-4", children: "3. User Accounts" }), i.jsx("p", { className: "text-muted-foreground leading-relaxed", children: "You are responsible for maintaining the confidentiality of your account and password. You agree to accept responsibility for all activities that occur under your account or password. You must notify us immediately of any unauthorized use of your account." })] }), i.jsxs("section", { children: [i.jsx("h2", { className: "text-2xl font-semibold text-foreground mb-4", children: "4. Subscription and Payments" }), i.jsx("p", { className: "text-muted-foreground leading-relaxed mb-4", children: "Study Spark Hub offers both free and premium subscription plans. By subscribing to a premium plan, you agree to:" }), i.jsxs("ul", { className: "list-disc list-inside space-y-2 text-muted-foreground ml-4", children: [i.jsx("li", { children: "Pay the subscription fees as specified at the time of purchase" }), i.jsx("li", { children: "Automatic renewal of your subscription unless cancelled" }), i.jsx("li", { children: "All fees are non-refundable except as required by law" })] })] }), i.jsxs("section", { children: [i.jsx("h2", { className: "text-2xl font-semibold text-foreground mb-4", children: "5. User Content" }), i.jsx("p", { className: "text-muted-foreground leading-relaxed", children: "You retain ownership of any content you create or upload to Study Spark Hub. By uploading content, you grant us a license to store, display, and process your content solely for the purpose of providing the Service to you." })] }), i.jsxs("section", { children: [i.jsx("h2", { className: "text-2xl font-semibold text-foreground mb-4", children: "6. Privacy" }), i.jsx("p", { className: "text-muted-foreground leading-relaxed", children: "Your use of Study Spark Hub is also governed by our Privacy Policy. Please review our Privacy Policy to understand our practices regarding the collection and use of your information." })] }), i.jsxs("section", { children: [i.jsx("h2", { className: "text-2xl font-semibold text-foreground mb-4", children: "7. Limitation of Liability" }), i.jsx("p", { className: "text-muted-foreground leading-relaxed", children: "In no event shall Study Spark Hub or its suppliers be liable for any damages (including, without limitation, damages for loss of data or profit, or due to business interruption) arising out of the use or inability to use the materials on Study Spark Hub." })] }), i.jsxs("section", { children: [i.jsx("h2", { className: "text-2xl font-semibold text-foreground mb-4", children: "8. Revisions" }), i.jsx("p", { className: "text-muted-foreground leading-relaxed", children: "Study Spark Hub may revise these terms of service at any time without notice. By using this website you are agreeing to be bound by the then current version of these terms of service." })] }), i.jsxs("section", { children: [i.jsx("h2", { className: "text-2xl font-semibold text-foreground mb-4", children: "9. Contact Information" }), i.jsx("p", { className: "text-muted-foreground leading-relaxed", children: "If you have any questions about these Terms and Conditions, please contact us through our support page." })] })] }) })] }) }) } function s5() { return i.jsx(qe, { children: i.jsxs("div", { className: "max-w-4xl mx-auto space-y-8", children: [i.jsxs("div", { className: "text-center space-y-4 animate-fade-in", children: [i.jsxs("div", { className: "flex items-center justify-center gap-3", children: [i.jsx(Mk, { className: "h-8 w-8 text-primary" }), i.jsx("h1", { className: "text-3xl md:text-4xl font-bold text-foreground", children: "Returns and Refunds Policy" })] }), i.jsxs("p", { className: "text-muted-foreground", children: ["Last updated: ", new Date().toLocaleDateString()] })] }), i.jsx(rd, { className: "h-[calc(100vh-300px)]", children: i.jsxs("div", { className: "space-y-6 animate-slide-up", style: { animationDelay: "0.1s", opacity: 0 }, children: [i.jsxs(bt, { children: [i.jsxs(jt, { children: [i.jsx(St, { children: "Digital Services Refund Policy" }), i.jsx(un, { children: "Study Spark Hub provides digital subscription services" })] }), i.jsx(Rt, { className: "space-y-4 text-muted-foreground", children: i.jsx("p", { children: "Since Study Spark Hub is a digital service providing access to online study tools and features, we operate under specific refund policies designed for digital products." }) })] }), i.jsxs(bt, { children: [i.jsx(jt, { children: i.jsx(St, { children: "Premium Subscription Refunds" }) }), i.jsxs(Rt, { className: "space-y-4", children: [i.jsxs("div", { className: "space-y-2 text-muted-foreground", children: [i.jsx("h3", { className: "font-semibold text-foreground", children: "14-Day Money-Back Guarantee" }), i.jsx("p", { children: "If you're not satisfied with your Premium subscription, you may request a full refund within 14 days of your initial purchase. This guarantee applies to your first subscription only." })] }), i.jsxs("div", { className: "space-y-2 text-muted-foreground", children: [i.jsx("h3", { className: "font-semibold text-foreground", children: "How to Request a Refund" }), i.jsx("p", { children: "To request a refund, please contact our support team through the Settings page or email us directly. Include your account email and the reason for your refund request. Refunds will be processed within 5-10 business days to your original payment method." })] })] })] }), i.jsxs(bt, { children: [i.jsx(jt, { children: i.jsx(St, { children: "Cancellation Policy" }) }), i.jsxs(Rt, { className: "space-y-4 text-muted-foreground", children: [i.jsx("p", { children: "You may cancel your Premium subscription at any time from your account settings. Cancellation will take effect at the end of your current billing period. You will continue to have access to Premium features until the end of your paid period." }), i.jsxs("p", { children: [i.jsx("strong", { className: "text-foreground", children: "Important:" }), " Cancelling your subscription does not automatically entitle you to a refund for the current billing period. Refunds are only available within the 14-day money-back guarantee period for new subscriptions."] })] })] }), i.jsxs(bt, { children: [i.jsx(jt, { children: i.jsx(St, { children: "Non-Refundable Items" }) }), i.jsxs(Rt, { className: "space-y-2 text-muted-foreground", children: [i.jsx("p", { children: "The following are not eligible for refunds:" }), i.jsxs("ul", { className: "list-disc list-inside space-y-1 ml-4", children: [i.jsx("li", { children: "Subscriptions cancelled after the 14-day guarantee period" }), i.jsx("li", { children: "Partial refunds for unused portions of subscription periods" }), i.jsx("li", { children: "Free tier services (no payment required)" })] })] })] }), i.jsxs(bt, { children: [i.jsx(jt, { children: i.jsx(St, { children: "Refund Processing" }) }), i.jsxs(Rt, { className: "space-y-2 text-muted-foreground", children: [i.jsx("p", { children: "Once your refund request is approved, we will process the refund to your original payment method. Processing times may vary:" }), i.jsxs("ul", { className: "list-disc list-inside space-y-1 ml-4", children: [i.jsx("li", { children: "Credit/Debit Cards: 5-10 business days" }), i.jsx("li", { children: "PayPal: 3-5 business days" })] }), i.jsx("p", { className: "mt-4", children: "You will receive an email confirmation once the refund has been processed." })] })] }), i.jsxs(bt, { children: [i.jsx(jt, { children: i.jsx(St, { children: "Contact Us" }) }), i.jsx(Rt, { className: "text-muted-foreground", children: i.jsx("p", { children: "If you have questions about our refund policy or need assistance with a refund request, please contact our support team through the Settings page or visit our FAQ section." }) })] })] }) })] }) }) } function o5() {
  const { supabase: e, user: t } = ut(), { toast: r } = bn(), n = Kt(), [s, o] = f.useState([{
    id: "1", role: "assistant", content: `Hello! I'm your AI tutoring assistant. I can help you with:

 Explaining concepts from your notes
 Generating practice questions
 Evaluating your answers
 Providing study tips

What would you like to learn today?`, timestamp: new Date
  }]), [a, l] = f.useState(""), [c, u] = f.useState(""), [d, p] = f.useState(!1), [m, h] = f.useState("chat"); f.useEffect(() => { var g; (g = n.state) != null && g.context && (u(n.state.context), n.state.mode && h(n.state.mode), n.state.organizerTitle && o([{ id: "1", role: "assistant", content: `I have context from "${n.state.organizerTitle}". I can help you test your knowledge with practice questions based on this material. Would you like me to generate a question?`, timestamp: new Date }])) }, [n.state]); const x = async () => {
    var v; if (!a.trim() || d) return; const g = { id: Date.now().toString(), role: "user", content: a, timestamp: new Date }; o(y => [...y, g]); const b = a; l(""), p(!0); try {
      let y = ""; const w = m === "question" || b.toLowerCase().includes("generate question") || b.toLowerCase().includes("create question") || b.toLowerCase().includes("make a question") || b.toLowerCase().includes("ask me a question"), j = c.trim() || b; if (w && j) {
        const k = await (((v = n.state) == null ? void 0 : v.organizerTitle) ? g3 : m3)({ context: j, subject: "General", difficulty: "medium" }, e); if (k.error) throw new Error(k.error); y = k.data ? `Here's a practice question based on your context:

**Question:** ${k.data.question}

Try to answer it, and I can help evaluate your response!`: "I couldn't generate a question. Please try again."
      } else if (m === "evaluate" && c.trim()) {
        const _ = await v3({ correctAnswer: c, studentAnswer: b, threshold: .7 }, e); if (_.error) throw new Error(_.error); if (_.data) {
          const { isCorrect: C, similarity: k, feedback: E } = _.data; y = `**Evaluation:**

${C ? " Correct!" : " Not quite right"}

**Similarity Score:** ${(k * 100).toFixed(1)}%

**Feedback:** ${E || "Keep practicing!"}`
        }
      } else w && !j ? y = `I'd be happy to generate a question for you! Please:

1. Paste your study notes or context in the "Context / Notes" field on the right, OR
2. Tell me what topic you'd like a question about

Once you provide context, I can generate practice questions to help you study!`: y = `I understand you're asking about: "${b}". As your AI tutor, I'm here to help! For more specific assistance, you can:

 Provide context from your notes and ask me to generate questions
 Share an answer you've written and I can evaluate it
 Ask me to explain concepts from your study materials

Try using the context field below to share your notes, and I can help you study more effectively!`; const S = { id: (Date.now() + 1).toString(), role: "assistant", content: y, timestamp: new Date }; o(_ => [..._, S])
    } catch (y) { console.error("Error:", y), r({ title: "Error", description: y.message || "Failed to get response. Please try again.", variant: "destructive" }); const w = { id: (Date.now() + 1).toString(), role: "assistant", content: "I'm sorry, I encountered an error. Please try again or check your connection.", timestamp: new Date }; o(j => [...j, w]) } finally { p(!1) }
  }; return i.jsx(qe, { children: i.jsxs("div", { className: "max-w-6xl mx-auto space-y-6", children: [i.jsx("div", { className: "flex flex-col md:flex-row md:items-center justify-between gap-4 animate-fade-in", children: i.jsxs("div", { children: [i.jsxs("div", { className: "flex items-center gap-3 mb-2", children: [i.jsx(Ei, { className: "h-6 w-6 text-primary" }), i.jsx("h1", { className: "text-2xl md:text-3xl font-bold text-foreground", children: "AI Tutoring Bot" })] }), i.jsx("p", { className: "text-muted-foreground", children: "Get personalized help with your studies" })] }) }), i.jsxs("div", { className: "flex gap-2 animate-slide-up", style: { animationDelay: "0.1s", opacity: 0 }, children: [i.jsx(H, { variant: m === "chat" ? "default" : "outline", size: "sm", onClick: () => h("chat"), children: "Chat" }), i.jsx(H, { variant: m === "question" ? "default" : "outline", size: "sm", onClick: () => h("question"), children: "Generate Question" }), i.jsx(H, { variant: m === "evaluate" ? "default" : "outline", size: "sm", onClick: () => h("evaluate"), children: "Evaluate Answer" })] }), i.jsxs("div", { className: "grid grid-cols-1 lg:grid-cols-3 gap-6", children: [i.jsx("div", { className: "lg:col-span-2 space-y-4", children: i.jsxs(bt, { className: "h-[600px] flex flex-col", children: [i.jsxs(jt, { children: [i.jsx(St, { children: "Conversation" }), i.jsxs(un, { children: [m === "chat" && "Ask me anything about your studies", m === "question" && "I'll generate questions from your notes", m === "evaluate" && "I'll evaluate your answers"] })] }), i.jsxs(Rt, { className: "flex-1 flex flex-col p-0", children: [i.jsx(rd, { className: "flex-1 px-6", children: i.jsxs("div", { className: "space-y-4 py-4", children: [s.map(g => i.jsxs("div", { className: F("flex gap-3", g.role === "user" ? "justify-end" : "justify-start"), children: [g.role === "assistant" && i.jsx("div", { className: "w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0", children: i.jsx(pv, { className: "h-4 w-4 text-primary" }) }), i.jsxs("div", { className: F("max-w-[80%] rounded-lg p-4", g.role === "user" ? "bg-primary text-primary-foreground" : "bg-muted text-foreground"), children: [i.jsx("p", { className: "whitespace-pre-wrap text-sm", children: g.content }), i.jsx("p", { className: "text-xs opacity-70 mt-2", children: g.timestamp.toLocaleTimeString() })] }), g.role === "user" && i.jsx("div", { className: "w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0", children: i.jsx(K0, { className: "h-4 w-4 text-primary" }) })] }, g.id)), d && i.jsxs("div", { className: "flex gap-3 justify-start", children: [i.jsx("div", { className: "w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center", children: i.jsx(pv, { className: "h-4 w-4 text-primary" }) }), i.jsx("div", { className: "bg-muted rounded-lg p-4", children: i.jsx(Be, { className: "h-4 w-4 animate-spin text-muted-foreground" }) })] })] }) }), i.jsx("div", { className: "p-6 border-t border-border", children: i.jsxs("div", { className: "flex gap-2", children: [i.jsx(ae, { value: a, onChange: g => l(g.target.value), onKeyDown: g => { g.key === "Enter" && !g.shiftKey && (g.preventDefault(), x()) }, placeholder: m === "evaluate" ? "Type your answer here..." : "Type your message...", disabled: d }), i.jsx(H, { onClick: x, disabled: d || !a.trim(), children: d ? i.jsx(Be, { className: "h-4 w-4 animate-spin" }) : i.jsx(Uk, { className: "h-4 w-4" }) })] }) })] })] }) }), i.jsxs("div", { className: "space-y-4", children: [i.jsxs(bt, { children: [i.jsxs(jt, { children: [i.jsx(St, { children: "Context / Notes" }), i.jsx(un, { children: "Paste your notes here for better assistance" })] }), i.jsxs(Rt, { children: [i.jsx(ds, { value: c, onChange: g => u(g.target.value), placeholder: "Paste your notes, study material, or the correct answer here...", className: "min-h-[200px]" }), i.jsxs("p", { className: "text-xs text-muted-foreground mt-2", children: [m === "question" && "I'll generate practice questions based on this context", m === "evaluate" && "This should be the correct answer to compare against", m === "chat" && "Provide context for better responses"] })] })] }), i.jsxs(bt, { children: [i.jsx(jt, { children: i.jsx(St, { children: "Tips" }) }), i.jsxs(Rt, { className: "space-y-2 text-sm text-muted-foreground", children: [i.jsx("p", { children: " Provide clear context from your notes for better questions" }), i.jsx("p", { children: ' Use "Generate Question" mode to create practice questions' }), i.jsx("p", { children: ' Use "Evaluate Answer" to check your responses' }), i.jsx("p", { children: " The AI uses semantic similarity to evaluate answers" })] })] })] })] })] }) })
} const i5 = new jR, a5 = () => (console.log("[DEBUG] App.tsx:29 - App component rendering"), fetch("http://127.0.0.1:7242/ingest/668e5ddb-32f9-4036-9a85-0a4ba19db7f5", { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ location: "App.tsx:29", message: "App component rendering", data: {}, timestamp: Date.now(), sessionId: "debug-session", runId: "frontend-startup", hypothesisId: "B" }) }).catch(() => { }), i.jsx(_R, { client: i5, children: i.jsx(M4, { children: i.jsxs(YT, { children: [i.jsx(T2, {}), i.jsx(lP, {}), i.jsx($4, { children: i.jsx(_A, { children: i.jsxs(mA, { children: [i.jsx(tt, { path: "/landing", element: i.jsx(J4, {}) }), i.jsx(tt, { path: "/login", element: i.jsx(sD, {}) }), i.jsx(tt, { path: "/signup", element: i.jsx(oD, {}) }), i.jsx(tt, { path: "/faq", element: i.jsx(V3, {}) }), i.jsx(tt, { path: "/terms", element: i.jsx(n5, {}) }), i.jsx(tt, { path: "/returns", element: i.jsx(s5, {}) }), i.jsx(tt, { path: "/", element: i.jsx(Rr, { children: i.jsx(qD, {}) }) }), i.jsx(tt, { path: "/notes", element: i.jsx(Rr, { children: i.jsx(o3, {}) }) }), i.jsx(tt, { path: "/flashcards", element: i.jsx(Rr, { children: i.jsx(i3, {}) }) }), i.jsx(tt, { path: "/past-papers", element: i.jsx(Rr, { children: i.jsx(l3, {}) }) }), i.jsx(tt, { path: "/knowledge", element: i.jsx(Rr, { children: i.jsx(w3, {}) }) }), i.jsx(tt, { path: "/extracurricular", element: i.jsx(Rr, { children: i.jsx(b3, {}) }) }), i.jsx(tt, { path: "/ai-tutor", element: i.jsx(Rr, { children: i.jsx(o5, {}) }) }), i.jsx(tt, { path: "/premium", element: i.jsx(Rr, { children: i.jsx(T3, {}) }) }), i.jsx(tt, { path: "/settings", element: i.jsx(Rr, { children: i.jsx($3, {}) }) }), i.jsx(tt, { path: "/admin", element: i.jsx(Rr, { children: i.jsx(U3, {}) }) }), i.jsx(tt, { path: "*", element: i.jsx(z3, {}) })] }) }) })] }) }) })); console.log("[DEBUG] main.tsx:7 - main.tsx executing, rootExists:", !!document.getElementById("root")); fetch("http://127.0.0.1:7242/ingest/668e5ddb-32f9-4036-9a85-0a4ba19db7f5", { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ location: "main.tsx:7", message: "main.tsx executing", data: { rootExists: !!document.getElementById("root") }, timestamp: Date.now(), sessionId: "debug-session", runId: "frontend-startup", hypothesisId: "A" }) }).catch(() => { }); const zr = document.getElementById("root"); console.log("[DEBUG] main.tsx:12 - Root element check, rootElement:", !!zr, "rootId:", zr == null ? void 0 : zr.id); fetch("http://127.0.0.1:7242/ingest/668e5ddb-32f9-4036-9a85-0a4ba19db7f5", { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ location: "main.tsx:12", message: "Root element check", data: { rootElement: !!zr, rootId: zr == null ? void 0 : zr.id }, timestamp: Date.now(), sessionId: "debug-session", runId: "frontend-startup", hypothesisId: "A" }) }).catch(() => { }); if (!zr) throw console.error("[DEBUG] main.tsx:16 - ERROR: Root element not found"), fetch("http://127.0.0.1:7242/ingest/668e5ddb-32f9-4036-9a85-0a4ba19db7f5", { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ location: "main.tsx:16", message: "ERROR: Root element not found", data: {}, timestamp: Date.now(), sessionId: "debug-session", runId: "frontend-startup", hypothesisId: "A" }) }).catch(() => { }), new Error("Root element not found"); fetch("http://127.0.0.1:7242/ingest/668e5ddb-32f9-4036-9a85-0a4ba19db7f5", { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ location: "main.tsx:22", message: "Creating root and rendering App", data: {}, timestamp: Date.now(), sessionId: "debug-session", runId: "frontend-startup", hypothesisId: "A" }) }).catch(() => { }); const l5 = o0(zr); fetch("http://127.0.0.1:7242/ingest/668e5ddb-32f9-4036-9a85-0a4ba19db7f5", { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ location: "main.tsx:27", message: "Root created, about to render", data: {}, timestamp: Date.now(), sessionId: "debug-session", runId: "frontend-startup", hypothesisId: "A" }) }).catch(() => { }); try { console.log("[DEBUG] main.tsx:33 - About to render App component"), l5.render(i.jsx(a5, {})), console.log("[DEBUG] main.tsx:36 - App render called successfully"), fetch("http://127.0.0.1:7242/ingest/668e5ddb-32f9-4036-9a85-0a4ba19db7f5", { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ location: "main.tsx:36", message: "App render called successfully", data: {}, timestamp: Date.now(), sessionId: "debug-session", runId: "frontend-startup", hypothesisId: "A" }) }).catch(() => { }) } catch (e) { throw console.error("[DEBUG] main.tsx:41 - ERROR during render:", e), fetch("http://127.0.0.1:7242/ingest/668e5ddb-32f9-4036-9a85-0a4ba19db7f5", { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ location: "main.tsx:41", message: "ERROR during render", data: { error: e == null ? void 0 : e.message, errorStack: e == null ? void 0 : e.stack }, timestamp: Date.now(), sessionId: "debug-session", runId: "frontend-startup", hypothesisId: "A" }) }).catch(() => { }), console.error("Error rendering app:", e), e }
