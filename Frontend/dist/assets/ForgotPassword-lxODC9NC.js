import{r as a,u as p,m as g,j as e,t as u,B as l,L as N}from"./index-7wMNJNZJ.js";import{A as b}from"./AnimatedLogoIcon-DY32PEux.js";import{A as y,a as v}from"./alert-Cruc9TpM.js";import{C as w,a as C,b as L,c as S,d as k}from"./card-BDQx_yt9.js";import{I as A}from"./input-CURGwIC-.js";import{L as E}from"./label-4_8C0ZIE.js";import{A as P}from"./arrow-left-DnBFMMQY.js";import{C as T}from"./circle-check-C8Ohiiaq.js";function G(){const[t,h]=a.useState(""),[n,o]=a.useState(""),[r,c]=a.useState(!1),[m,d]=a.useState(!1),{resetPassword:x}=p(),{t:s}=g(),f=async i=>{i.preventDefault(),o(""),c(!0);try{await x(t),d(!0)}catch(j){o(j.message||"Failed to send reset email. Please try again.")}finally{c(!1)}};return e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-b from-background to-muted/20 p-4",children:[e.jsx("div",{className:"w-full max-w-md mb-4",children:e.jsx(u,{to:"/login",children:e.jsxs(l,{variant:"ghost",className:"gap-2 text-muted-foreground hover:text-foreground",children:[e.jsx(P,{className:"h-4 w-4"}),s("auth.returnToLogin")]})})}),e.jsxs(w,{className:"w-full max-w-md",children:[e.jsxs(C,{className:"space-y-1 text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx(b,{})}),e.jsx(L,{className:"text-2xl font-bold",children:s("auth.resetPassword")}),e.jsx(S,{children:s(m?"auth.checkEmail":"auth.resetPasswordSubtitle")})]}),e.jsx(k,{children:m?e.jsxs("div",{className:"text-center py-4 space-y-4",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx(T,{className:"h-12 w-12 text-green-500 animate-in zoom-in duration-300"})}),e.jsx("p",{className:"text-muted-foreground",children:s("auth.emailSentTo",{email:t})}),e.jsxs("p",{className:"text-sm",children:[s("auth.checkSpam"),e.jsx("button",{onClick:()=>d(!1),className:"text-primary hover:underline",children:s("auth.tryAgain")})]}),e.jsx(u,{to:"/login",className:"block mt-4",children:e.jsx(l,{variant:"outline",className:"w-full",children:s("auth.returnToLogin")})})]}):e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[n&&e.jsx(y,{variant:"destructive",children:e.jsx(v,{children:n})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"email",children:s("common.email")}),e.jsx(A,{id:"email",type:"email",placeholder:"you@example.com",value:t,onChange:i=>h(i.target.value),required:!0,disabled:r})]}),e.jsx(l,{type:"submit",className:"w-full",disabled:r,children:r?e.jsxs(e.Fragment,{children:[e.jsx(N,{className:"mr-2 h-4 w-4 animate-spin"}),s("auth.sendingLink")]}):s("auth.sendResetLink")})]})})]})]})}export{G as default};
