import{j as e,al as D,ar as T,aJ as b,I as C,L as z,bf as B}from"./ui-vendor-BhfTkEdL.js";import{A as H}from"./AnimatedLogoIcon-BNgjqHPG.js";import{A as R,a as U,b as J,c as O}from"./accordion-EMGPf_KQ.js";import{A as Q,a as V}from"./alert-BjoMn9nO.js";import{u as Y,j as _,B as i,C as $}from"./index-BWIqSF27.js";import{C as G,a as K,b as M,c as W,d as X}from"./card-af-OxtCo.js";import{I as h}from"./input-BIlMOJxd.js";import{L as p}from"./label-aiGua7-D.js";import{r as t,u as Z,L as m}from"./react-vendor-Do86TxWo.js";import{faqs as ee}from"./FAQ-DgGQq58C.js";import"./index-j7RjYHJj.js";import"./index-CTYjvzHW.js";import"./supabase-vendor-CklQTOeK.js";import"./query-vendor-C5_dwEAA.js";function pe(){const[f,A]=t.useState(""),[n,P]=t.useState(""),[d,S]=t.useState(!1),[g,k]=t.useState(""),[u,L]=t.useState(!1),[j,F]=t.useState(!1),[N,r]=t.useState(""),[o,v]=t.useState(!1),[x,E]=t.useState(!1),{signUp:q,user:w,loading:y}=Y(),c=Z(),{t:a}=_();t.useEffect(()=>{!y&&w&&!x&&c("/")},[w,y,c,x]);const I=async s=>{if(s.preventDefault(),r(""),n!==g){r("Passwords do not match");return}if(n.length<6){r("Password must be at least 6 characters long");return}if(!j){r("You must agree to the privacy policy to create an account");return}v(!0);try{await q(f,n)==="auto-confirmed"?c("/"):E(!0)}catch(l){r(l.message||"Failed to create account. Please try again.")}finally{v(!1)}};return e.jsxs("div",{className:"min-h-screen flex flex-col items-center bg-gradient-to-b from-background to-muted/20 p-4",children:[e.jsx("div",{className:"w-full max-w-md mb-4",children:e.jsx(m,{to:"/landing",children:e.jsxs(i,{variant:"ghost",className:"gap-2 text-muted-foreground hover:text-foreground",children:[e.jsx(D,{className:"h-4 w-4"}),a("common.back")]})})}),e.jsxs(G,{className:"w-full max-w-md",children:[e.jsxs(K,{className:"space-y-1 text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx(H,{})}),e.jsx(M,{className:"text-2xl font-bold",children:a("auth.createAccount")}),e.jsx(W,{children:a("auth.signupSubtitle")})]}),e.jsx(X,{children:x?e.jsxs("div",{className:"space-y-4 text-center py-4",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"rounded-full bg-primary/10 p-3",children:e.jsx(T,{className:"h-8 w-8 text-primary"})})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Sign Up Complete!"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Check your email for a verification link from Revisely.ai. Please verify your email address to continue."})]}),e.jsx(i,{onClick:()=>c("/login"),className:"w-full",children:a("common.login")})]}):e.jsxs(e.Fragment,{children:[e.jsxs("form",{onSubmit:I,className:"space-y-4",children:[N&&e.jsx(Q,{variant:"destructive",children:e.jsx(V,{children:N})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"email",children:a("common.email")}),e.jsx(h,{id:"email",type:"email",placeholder:"you@example.com",value:f,onChange:s=>A(s.target.value),required:!0,disabled:o})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"password",children:a("common.password")}),e.jsxs("div",{className:"relative",children:[e.jsx(h,{id:"password",type:d?"text":"password",placeholder:"At least 6 characters",value:n,onChange:s=>P(s.target.value),required:!0,disabled:o,className:"pr-10"}),e.jsx(i,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>S(!d),children:d?e.jsx(b,{className:"h-4 w-4 text-muted-foreground"}):e.jsx(C,{className:"h-4 w-4 text-muted-foreground"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"confirmPassword",children:a("common.confirmPassword")}),e.jsxs("div",{className:"relative",children:[e.jsx(h,{id:"confirmPassword",type:u?"text":"password",placeholder:"Confirm your password",value:g,onChange:s=>k(s.target.value),required:!0,disabled:o,className:"pr-10"}),e.jsx(i,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>L(!u),children:u?e.jsx(b,{className:"h-4 w-4 text-muted-foreground"}):e.jsx(C,{className:"h-4 w-4 text-muted-foreground"})})]})]}),e.jsxs("div",{className:"items-top flex space-x-2",children:[e.jsx($,{id:"terms",checked:j,onCheckedChange:s=>F(s)}),e.jsx("div",{className:"grid gap-1.5 leading-none",children:e.jsxs("label",{htmlFor:"terms",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:["I agree to the"," ",e.jsx(m,{to:"/privacy",target:"_blank",className:"text-primary hover:underline",onClick:s=>s.stopPropagation(),children:"Privacy Policy"})]})})]}),e.jsx(i,{type:"submit",className:"w-full",disabled:o,children:o?e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"mr-2 h-4 w-4 animate-spin"}),a("common.loading")]}):a("common.signup")})]}),e.jsxs("div",{className:"mt-6 text-center text-sm",children:[e.jsxs("span",{className:"text-muted-foreground",children:[a("auth.haveAccount")," "]}),e.jsx(m,{to:"/login",className:"text-primary hover:underline font-medium",children:a("common.login")})]})]})})]}),e.jsxs("div",{className:"w-full max-w-md mt-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(B,{className:"h-5 w-5 text-primary"}),e.jsx("h2",{className:"text-lg font-semibold text-foreground",children:a("footer.faq")})]}),e.jsx(R,{type:"single",collapsible:!0,className:"w-full",children:ee.slice(0,5).map((s,l)=>e.jsxs(U,{value:`item-${l}`,className:"glass-card px-4 mb-2",children:[e.jsx(J,{className:"text-left text-sm font-medium text-foreground hover:no-underline",children:s.question}),e.jsx(O,{className:"text-sm text-muted-foreground",children:s.answer})]},l))}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx(m,{to:"/faq",className:"text-sm text-primary hover:underline",children:"View all FAQs â†’"})})]})]})}export{pe as default};
