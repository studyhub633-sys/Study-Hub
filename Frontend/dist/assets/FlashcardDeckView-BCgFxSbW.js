import{c as Ae,q as Ee,b as Le,u as Ie,n as Re,r as a,j as e,L as Oe,B as o,a as d,s as Ve,X as K,C as xe}from"./index-7wMNJNZJ.js";import{A as ue,a as $e}from"./AppLayout-Cb4f3Rcb.js";import{D as Be,b as Ye,c as Ue,d as He,e as Qe,f as Je}from"./dialog-CGZvDN6x.js";import{I as he}from"./input-CURGwIC-.js";import{L}from"./label-4_8C0ZIE.js";import{S as Xe,a as Ge,b as Ke,c as We,d as fe}from"./select-Do0TjdJZ.js";import{T as pe}from"./textarea-DYv1Zddw.js";import{A as Ze}from"./arrow-left-DnBFMMQY.js";import{P as ge}from"./plus-BgtP8iNg.js";import{T as je}from"./trash-2-CodGuS8N.js";import{B as be,C as es}from"./sheet-D4eoD1m7.js";import{V as W}from"./volume-2-CXkl9Gey.js";import{S as Z}from"./star-B_12Y3OW.js";import{S as ss}from"./search-D5Hb3sC3.js";import{S as ts}from"./square-pen-CLPrXBHy.js";import{P as rs}from"./play-uPdTMSCR.js";import{S as as}from"./shuffle-3vrBulKG.js";import{R as Ne}from"./rotate-ccw-CjsZ24lL.js";import"./AnimatedLogoIcon-DY32PEux.js";import"./sun-CnDoiXzg.js";import"./index-BdQq_4o_.js";import"./index-8ugP4A3I.js";import"./chevron-down-CjDqse4M.js";const ee=Ae("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);function se(y){return y===0?"new":y<=2?"learning":y<=4?"almostDone":"mastered"}const te={new:{label:"New Cards",color:"text-rose-400",bgColor:"bg-rose-500/15",dotColor:"bg-rose-400"},learning:{label:"Still learning",color:"text-amber-500",bgColor:"bg-amber-500/15",dotColor:"bg-amber-500"},almostDone:{label:"Almost done",color:"text-blue-500",bgColor:"bg-blue-500/15",dotColor:"bg-blue-500"},mastered:{label:"Mastered",color:"text-emerald-500",bgColor:"bg-emerald-500/15",dotColor:"bg-emerald-500"}};function Fs(){const{subject:y}=Ee(),m=decodeURIComponent(y||""),ve=Le(),{supabase:f,user:c}=Ie(),{toast:p}=Re(),[l,ye]=a.useState([]),[we,M]=a.useState(!0),[re,ae]=a.useState(0),[I,g]=a.useState(!1),[A,Ce]=a.useState(""),[w,le]=a.useState("all"),[R,O]=a.useState(!1),[C,b]=a.useState({correct:0,incorrect:0}),[V,S]=a.useState(0),[$,k]=a.useState(!1),[u,N]=a.useState(!1),D=a.useRef(null),[x,B]=a.useState([]),[Se,F]=a.useState(0),ne=a.useRef([]),[ke,_]=a.useState(!1),[P,oe]=a.useState(null),[n,v]=a.useState({front:"",back:"",topic:"",tier:""}),[E,Y]=a.useState(!1),[h,U]=a.useState(new Set),[z,De]=a.useState(()=>{try{const s=localStorage.getItem(`starred_cards_${m}`);return s?new Set(JSON.parse(s)):new Set}catch{return new Set}});a.useEffect(()=>{c&&m&&T()},[c,m]),a.useEffect(()=>{localStorage.setItem(`starred_cards_${m}`,JSON.stringify([...z]))},[z,m]);const T=async()=>{if(c)try{M(!0);const{data:s,error:t}=await f.from("flashcards").select("*").eq("user_id",c.id).eq("subject",m).order("created_at",{ascending:!0});if(t)throw t;ye(s||[])}catch{p({title:"Error",description:"Failed to load flashcards.",variant:"destructive"})}finally{M(!1)}},H=a.useMemo(()=>{const s={new:0,learning:0,almostDone:0,mastered:0,total:l.length};return l.forEach(t=>{const r=se(t.review_count);s[r]++}),s},[l]),Q=l.length>0?Math.round(H.mastered/l.length*100):0,Fe=a.useMemo(()=>l.filter(s=>{const t=w==="all"||se(s.review_count)===w,r=s.front.toLowerCase().includes(A.toLowerCase())||s.back.toLowerCase().includes(A.toLowerCase());return t&&r}),[l,w,A]),i=R?x[Se]:l[re],J=a.useCallback((s,t=!1)=>{u||(N(!0),g(!1),D.current&&clearTimeout(D.current),D.current=setTimeout(()=>{t?F(s):ae(s),N(!1)},250))},[u]);a.useEffect(()=>()=>{D.current&&clearTimeout(D.current)},[]);const _e=()=>{J(s=>(s+1)%l.length)},Pe=()=>{J(s=>(s-1+l.length)%l.length)},ie=()=>{u||g(!I)},ce=async s=>{if($||u)return;b(s?r=>({...r,correct:r.correct+1}):r=>({...r,incorrect:r.incorrect+1})),i&&(ne.current.push(i.id),c&&f.from("flashcards").select("review_count").eq("id",i.id).eq("user_id",c.id).single().then(({data:r})=>{f.from("flashcards").update({last_reviewed:new Date().toISOString(),review_count:(r?.review_count||0)+1}).eq("id",i.id).eq("user_id",c.id).then(()=>{})}));const t=V+1;S(t),t>=x.length?k(!0):J(r=>r+1,!0)},de=()=>{oe(null),v({front:"",back:"",topic:"",tier:""}),_(!0)},ze=s=>{oe(s),v({front:s.front,back:s.back,topic:s.topic||"",tier:s.tier||""}),_(!0)},Te=async()=>{if(!c||!n.front.trim()||!n.back.trim()){p({title:"Error",description:"Both question and answer are required.",variant:"destructive"});return}try{if(P){const{error:s}=await f.from("flashcards").update({front:n.front,back:n.back,topic:n.topic||null,tier:n.tier||null}).eq("id",P.id).eq("user_id",c.id);if(s)throw s;p({title:"Updated",description:"Flashcard updated."})}else{const{error:s}=await f.from("flashcards").insert({user_id:c.id,front:n.front,back:n.back,subject:m,topic:n.topic||null,tier:n.tier||null,difficulty:1,review_count:0});if(s)throw s;p({title:"Created",description:"Flashcard added to deck."})}_(!1),T()}catch(s){p({title:"Error",description:s.message||"Failed to save.",variant:"destructive"})}},qe=async s=>{if(c&&confirm("Delete this flashcard?"))try{const{error:t}=await f.from("flashcards").delete().eq("id",s).eq("user_id",c.id);if(t)throw t;p({title:"Deleted",description:"Flashcard removed."}),T()}catch{}},Me=async()=>{if(!(!c||h.size===0)&&confirm(`Delete ${h.size} selected cards?`))try{M(!0);const{error:s}=await f.from("flashcards").delete().in("id",Array.from(h)).eq("user_id",c.id);if(s)throw s;p({title:"Deleted",description:`${h.size} cards removed.`}),U(new Set),Y(!1),T()}catch{M(!1)}},X=s=>{De(t=>{const r=new Set(t);return r.has(s)?r.delete(s):r.add(s),r})},me=s=>{U(t=>{const r=new Set(t);return r.has(s)?r.delete(s):r.add(s),r})},G=s=>{if("speechSynthesis"in window){const t=new SpeechSynthesisUtterance(s);t.rate=.9,speechSynthesis.speak(t)}};return we?e.jsx(ue,{children:e.jsx("div",{className:"max-w-4xl mx-auto flex items-center justify-center h-[60vh]",children:e.jsx(Oe,{className:"h-8 w-8 animate-spin text-muted-foreground"})})}):e.jsxs(ue,{children:[e.jsxs("div",{className:"max-w-4xl mx-auto pb-24 animate-fade-in",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(o,{variant:"ghost",size:"icon",onClick:()=>ve("/flashcards"),className:"h-9 w-9",children:e.jsx(Ze,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl md:text-2xl font-bold text-foreground",children:m}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[l.length," cards"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(o,{variant:"outline",size:"sm",onClick:de,className:"gap-1.5",children:[e.jsx(ge,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Add Card"})]}),E?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs text-muted-foreground",children:[h.size," selected"]}),e.jsxs(o,{variant:"destructive",size:"sm",onClick:Me,disabled:h.size===0,children:[e.jsx(je,{className:"h-4 w-4 mr-1"}),"Delete"]}),e.jsx(o,{variant:"ghost",size:"sm",onClick:()=>{Y(!1),U(new Set)},children:"Cancel"})]}):e.jsx(o,{variant:"outline",size:"sm",onClick:()=>Y(!0),children:"Select"})]})]}),l.length===0?e.jsxs("div",{className:"glass-card p-12 text-center",children:[e.jsx(be,{className:"h-16 w-16 text-muted-foreground/50 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No cards in this deck"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Start adding flashcards to build your deck."}),e.jsxs(o,{onClick:de,children:[e.jsx(ge,{className:"h-4 w-4 mr-2"}),"Add Card"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-8 animate-slide-up",children:[i&&e.jsx("div",{className:d("relative w-full min-h-[220px] sm:min-h-[260px] cursor-pointer transition-all duration-250",u?"opacity-0 scale-95":"opacity-100 scale-100"),style:{perspective:"1200px"},onClick:ie,children:e.jsxs("div",{className:"absolute inset-0 transition-transform duration-700 ease-[cubic-bezier(0.4,0,0.2,1)]",style:{transformStyle:"preserve-3d",transform:I?"rotateY(180deg)":"rotateY(0deg)"},children:[e.jsxs("div",{className:"absolute inset-0 glass-card p-6 sm:p-8 flex flex-col rounded-xl",style:{backfaceVisibility:"hidden"},children:[e.jsxs("div",{className:"flex items-center justify-end gap-2 mb-2",children:[e.jsx("button",{onClick:s=>{s.stopPropagation(),G(i.front)},className:"p-1.5 rounded-lg hover:bg-muted transition-colors",children:e.jsx(W,{className:"h-4 w-4 text-muted-foreground"})}),e.jsx("button",{onClick:s=>{s.stopPropagation(),X(i.id)},className:"p-1.5 rounded-lg hover:bg-muted transition-colors",children:z.has(i.id)?e.jsx(Z,{className:"h-4 w-4 text-yellow-500 fill-yellow-500"}):e.jsx(ee,{className:"h-4 w-4 text-muted-foreground"})})]}),e.jsx("div",{className:"flex-1 flex items-center justify-center text-center px-4",children:e.jsx("h2",{className:"text-lg sm:text-xl font-semibold leading-relaxed",children:i.front})})]}),e.jsxs("div",{className:"absolute inset-0 glass-card p-6 sm:p-8 flex flex-col rounded-xl bg-gradient-to-br from-primary/5 to-primary/10",style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:[e.jsxs("div",{className:"flex items-center justify-end gap-2 mb-2",children:[e.jsx("button",{onClick:s=>{s.stopPropagation(),G(i.back)},className:"p-1.5 rounded-lg hover:bg-muted transition-colors",children:e.jsx(W,{className:"h-4 w-4 text-muted-foreground"})}),e.jsx("button",{onClick:s=>{s.stopPropagation(),X(i.id)},className:"p-1.5 rounded-lg hover:bg-muted transition-colors",children:z.has(i.id)?e.jsx(Z,{className:"h-4 w-4 text-yellow-500 fill-yellow-500"}):e.jsx(ee,{className:"h-4 w-4 text-muted-foreground"})})]}),e.jsx("div",{className:"flex-1 flex items-center justify-center text-center px-4",children:e.jsx("p",{className:"text-base sm:text-lg leading-relaxed whitespace-pre-line",children:i.back})})]})]})}),e.jsxs("div",{className:"flex items-center justify-center gap-4 mt-4",children:[e.jsx(o,{variant:"ghost",size:"icon",onClick:Pe,className:"h-9 w-9 rounded-full",children:e.jsx($e,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[l.slice(0,Math.min(5,l.length)).map((s,t)=>e.jsx("button",{onClick:()=>{ae(t),g(!1)},className:d("w-2 h-2 rounded-full transition-all",re===t?"bg-primary scale-125":"bg-muted-foreground/30")},t)),l.length>5&&e.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["+",l.length-5]})]}),e.jsx(o,{variant:"ghost",size:"icon",onClick:_e,className:"h-9 w-9 rounded-full",children:e.jsx(es,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{className:"glass-card p-5 mb-8 animate-slide-up",style:{animationDelay:"0.1s"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-foreground",children:"Study Progress"}),e.jsxs("span",{className:d("text-sm font-bold px-2.5 py-1 rounded-full",Q>=80?"bg-emerald-500/15 text-emerald-500":Q>=40?"bg-blue-500/15 text-blue-500":"bg-muted text-muted-foreground"),children:[Q,"%"]})]}),e.jsx("div",{className:"space-y-3",children:["new","learning","almostDone","mastered"].map(s=>{const t=te[s],r=H[s],q=l.length>0?r/l.length*100:0;return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:d("w-3 h-3 rounded-full flex-shrink-0 border-2",t.dotColor,`border-${t.dotColor.replace("bg-","")}`)}),e.jsx("span",{className:d("text-sm font-medium px-2.5 py-0.5 rounded-full min-w-[110px]",t.bgColor,t.color),children:t.label}),e.jsx("div",{className:"flex-1 h-2 bg-muted rounded-full overflow-hidden",children:e.jsx("div",{className:d("h-full rounded-full transition-all duration-500",t.dotColor),style:{width:`${q}%`}})}),e.jsx("span",{className:"text-sm font-medium text-foreground w-8 text-right",children:r})]},s)})})]}),e.jsxs("div",{className:"animate-slide-up",style:{animationDelay:"0.2s"},children:[e.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Terms"}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx(ss,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(he,{placeholder:"Search terms/definitions",value:A,onChange:s=>Ce(s.target.value),className:"pl-9"})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-4 overflow-x-auto pb-1",children:[e.jsxs("button",{onClick:()=>le("all"),className:d("text-sm px-3 py-1.5 rounded-full border transition-colors whitespace-nowrap",w==="all"?"border-primary bg-primary/10 text-primary font-medium":"border-border text-muted-foreground hover:text-foreground hover:border-foreground/20"),children:["View All (",l.length,")"]}),["new","learning","almostDone","mastered"].map(s=>{const t=te[s],r=H[s];return r===0?null:e.jsxs("button",{onClick:()=>le(s),className:d("text-sm px-3 py-1.5 rounded-full border transition-colors whitespace-nowrap",w===s?`border-current ${t.bgColor} ${t.color} font-medium`:"border-border text-muted-foreground hover:text-foreground hover:border-foreground/20"),children:[t.label," (",r,")"]},s)})]}),e.jsx("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto pr-1 custom-scrollbar",children:Fe.map((s,t)=>{const r=se(s.review_count),q=te[r];return e.jsx("div",{className:d("glass-card p-4 transition-all duration-200 group",E&&h.has(s.id)&&"ring-2 ring-primary bg-primary/5"),onClick:()=>E&&me(s.id),children:e.jsxs("div",{className:"flex items-start gap-3",children:[E&&e.jsx(Ve,{checked:h.has(s.id),onCheckedChange:()=>me(s.id),className:"mt-1"}),e.jsx("span",{className:"text-xs font-bold text-muted-foreground bg-muted w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:t+1}),e.jsx("span",{className:d("text-xs font-medium px-2 py-0.5 rounded-full flex-shrink-0 mt-0.5",q.bgColor,q.color),children:q.label}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-foreground",children:s.front}),e.jsx("div",{className:"h-px bg-border/50 my-2"}),e.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-line",children:s.back})]}),e.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:j=>{j.stopPropagation(),G(s.front)},className:"p-1.5 rounded-lg hover:bg-muted transition-colors",children:e.jsx(W,{className:"h-3.5 w-3.5 text-muted-foreground"})}),e.jsx("button",{onClick:j=>{j.stopPropagation(),X(s.id)},className:"p-1.5 rounded-lg hover:bg-muted transition-colors",children:z.has(s.id)?e.jsx(Z,{className:"h-3.5 w-3.5 text-yellow-500 fill-yellow-500"}):e.jsx(ee,{className:"h-3.5 w-3.5 text-muted-foreground"})}),e.jsx("button",{onClick:j=>{j.stopPropagation(),ze(s)},className:"p-1.5 rounded-lg hover:bg-muted transition-colors",children:e.jsx(ts,{className:"h-3.5 w-3.5 text-muted-foreground"})}),e.jsx("button",{onClick:j=>{j.stopPropagation(),qe(s.id)},className:"p-1.5 rounded-lg hover:bg-muted transition-colors",children:e.jsx(je,{className:"h-3.5 w-3.5 text-destructive/70"})})]})]})},s.id)})})]})]})]}),l.length>0&&!R&&e.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-background via-background to-transparent pointer-events-none z-30 flex justify-center",children:e.jsxs(o,{size:"lg",className:"pointer-events-auto px-8 py-6 text-base font-semibold rounded-xl shadow-xl bg-gradient-to-r from-cyan-500 to-teal-500 hover:from-cyan-600 hover:to-teal-600 text-white gap-2",onClick:()=>{const s=[...l].sort(()=>Math.random()-.5);B(s),F(0),O(!0),g(!1),b({correct:0,incorrect:0}),S(0),k(!1),N(!1),ne.current=[]},children:[e.jsx(rs,{className:"h-5 w-5"}),"Study Flashcards"]})}),R&&e.jsxs("div",{className:"fixed inset-0 z-50 bg-background flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[e.jsxs(o,{variant:"ghost",onClick:()=>{O(!1),T()},className:"gap-2",children:[e.jsx(K,{className:"h-5 w-5"}),"Exit Study"]}),e.jsx("h2",{className:"font-semibold",children:m}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("span",{className:"text-emerald-500 flex items-center gap-1",children:[e.jsx(xe,{className:"h-4 w-4"})," ",C.correct]}),e.jsxs("span",{className:"text-destructive flex items-center gap-1",children:[e.jsx(K,{className:"h-4 w-4"})," ",C.incorrect]})]})]}),e.jsxs("div",{className:"px-4 pt-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground mb-2",children:[e.jsxs("span",{children:[V," / ",x.length," answered"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(o,{variant:"outline",size:"sm",onClick:()=>{const s=[...x].sort(()=>Math.random()-.5);B(s),F(0),g(!1),b({correct:0,incorrect:0}),S(0),k(!1),N(!1)},className:"gap-1 h-8",children:[e.jsx(as,{className:"h-3.5 w-3.5"}),"Shuffle"]}),e.jsxs(o,{variant:"outline",size:"sm",onClick:()=>{F(0),g(!1),b({correct:0,incorrect:0}),S(0),k(!1),N(!1)},className:"gap-1 h-8",children:[e.jsx(Ne,{className:"h-3.5 w-3.5"}),"Reset"]})]})]}),e.jsx("div",{className:"w-full bg-muted rounded-full h-2.5",children:e.jsx("div",{className:"bg-gradient-to-r from-cyan-500 to-teal-500 h-2.5 rounded-full transition-all duration-500 ease-out",style:{width:`${x.length>0?V/x.length*100:0}%`}})})]}),e.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:$?e.jsxs("div",{className:"w-full max-w-lg glass-card p-8 rounded-2xl text-center animate-fade-in",children:[e.jsx("div",{className:"text-5xl mb-4",children:"ðŸŽ‰"}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Study Complete!"}),e.jsxs("p",{className:"text-muted-foreground mb-6",children:["You've gone through all ",x.length," cards."]}),e.jsxs("div",{className:"flex items-center justify-center gap-6 mb-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-emerald-500",children:C.correct}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Correct"})]}),e.jsx("div",{className:"w-px h-12 bg-border"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-destructive",children:C.incorrect}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Incorrect"})]}),e.jsx("div",{className:"w-px h-12 bg-border"}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-3xl font-bold text-primary",children:[x.length>0?Math.round(C.correct/x.length*100):0,"%"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Score"})]})]}),e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx(o,{variant:"outline",onClick:()=>O(!1),className:"px-6",children:"Exit"}),e.jsxs(o,{className:"px-6 bg-gradient-to-r from-cyan-500 to-teal-500 hover:from-cyan-600 hover:to-teal-600 text-white",onClick:()=>{const s=[...x].sort(()=>Math.random()-.5);B(s),F(0),g(!1),b({correct:0,incorrect:0}),S(0),k(!1),N(!1)},children:[e.jsx(Ne,{className:"h-4 w-4 mr-2"}),"Study Again"]})]})]}):i?e.jsx("div",{className:d("w-full max-w-lg min-h-[300px] cursor-pointer transition-all duration-250",u?"opacity-0 scale-95":"opacity-100 scale-100"),style:{perspective:"1200px"},onClick:ie,children:e.jsxs("div",{className:"w-full min-h-[300px] transition-transform duration-700 ease-[cubic-bezier(0.4,0,0.2,1)] relative",style:{transformStyle:"preserve-3d",transform:I?"rotateY(180deg)":"rotateY(0deg)"},children:[e.jsxs("div",{className:"absolute inset-0 glass-card p-8 flex flex-col items-center justify-center text-center rounded-2xl",style:{backfaceVisibility:"hidden"},children:[e.jsx(be,{className:"h-8 w-8 text-primary mb-4 opacity-50"}),e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold leading-relaxed",children:i.front}),e.jsx("p",{className:"text-sm text-muted-foreground mt-6",children:"Tap to reveal answer"})]}),e.jsx("div",{className:"absolute inset-0 glass-card p-8 flex flex-col items-center justify-center text-center rounded-2xl bg-gradient-to-br from-primary/5 to-primary/10",style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:e.jsx("p",{className:"text-lg sm:text-xl leading-relaxed whitespace-pre-line",children:i.back})})]})}):null}),!$&&e.jsxs("div",{className:"flex items-center justify-center gap-4 p-6 border-t border-border",children:[e.jsxs(o,{variant:"outline",className:"h-12 px-8 border-destructive text-destructive hover:bg-destructive hover:text-destructive-foreground",onClick:()=>ce(!1),disabled:u,children:[e.jsx(K,{className:"h-5 w-5 mr-2"}),"Incorrect"]}),e.jsxs(o,{className:"h-12 px-8 bg-emerald-500 hover:bg-emerald-600 text-white",onClick:()=>ce(!0),disabled:u,children:[e.jsx(xe,{className:"h-5 w-5 mr-2"}),"Correct"]})]})]}),e.jsx(Be,{open:ke,onOpenChange:_,children:e.jsxs(Ye,{className:"max-w-2xl",children:[e.jsxs(Ue,{children:[e.jsx(He,{children:P?"Edit Flashcard":"Add New Flashcard"}),e.jsx(Qe,{children:P?"Update your flashcard details":`Add a new card to "${m}"`})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"topic",children:"Topic"}),e.jsx(he,{id:"topic",value:n.topic,onChange:s=>v({...n,topic:s.target.value}),placeholder:"e.g., Cell Biology"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"tier",children:"Tier"}),e.jsxs(Xe,{value:n.tier,onValueChange:s=>v({...n,tier:s}),children:[e.jsx(Ge,{id:"tier",children:e.jsx(Ke,{placeholder:"Optional"})}),e.jsxs(We,{children:[e.jsx(fe,{value:"Higher",children:"Higher"}),e.jsx(fe,{value:"Foundation",children:"Foundation"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"front",children:"Question *"}),e.jsx(pe,{id:"front",value:n.front,onChange:s=>v({...n,front:s.target.value}),placeholder:"Enter the question...",className:"min-h-[100px]"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"back",children:"Answer *"}),e.jsx(pe,{id:"back",value:n.back,onChange:s=>v({...n,back:s.target.value}),placeholder:"Enter the answer...",className:"min-h-[100px]"})]})]}),e.jsxs(Je,{children:[e.jsx(o,{variant:"outline",onClick:()=>_(!1),children:"Cancel"}),e.jsxs(o,{onClick:Te,children:[P?"Update":"Add"," Card"]})]})]})})]})}export{Fs as default};
