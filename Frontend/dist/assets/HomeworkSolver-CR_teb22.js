import{j as e,H as m,aD as N,G as u}from"./ui-vendor-C99L-hD9.js";import{A as S}from"./AppLayout-ByMpyPpA.js";import{B as h}from"./button-BJr9rSp3.js";import{C as x,a as j,b as f,c as g,d as y}from"./card-BHHR0IqZ.js";import{T as A}from"./textarea-GalEY1Wz.js";import{u as k,b as C}from"./index-Dy4sOhmn.js";import{c as I}from"./ai-client-D_3hX6eY.js";import{r as i}from"./react-vendor-CW_qxVlV.js";import"./sheet-Cazz0_fh.js";import"./supabase-vendor-BFJX04bJ.js";import"./query-vendor-CVP6rs-5.js";function R(){const{supabase:v}=k(),{toast:a}=C(),[s,b]=i.useState(""),[n,c]=i.useState(!1),[r,p]=i.useState(null),w=async()=>{var t;if(!s.trim()){a({title:"Error",description:"Please enter a question to solve.",variant:"destructive"});return}c(!0),p(null);try{const o=`Please solve this homework question step-by-step. Provide a clear explanation of each step, show your work, and explain the reasoning behind each step. If applicable, identify the key concepts being tested.

Question: ${s}`,l=await I({message:o,context:"You are an expert tutor who provides clear, step-by-step solutions to homework problems. Always show your work and explain your reasoning."},v);if(l.error)throw new Error(l.error);const d=(t=l.data)==null?void 0:t.reply;if(d)p(d),a({title:"Success",description:"Solution generated successfully!"});else throw new Error("No response from AI")}catch(o){a({title:"Error",description:o.message||"Failed to solve question. Please try again.",variant:"destructive"})}finally{c(!1)}};return e.jsx(S,{children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 animate-fade-in pb-12",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-3 rounded-xl bg-purple-500/10 text-purple-500",children:e.jsx(m,{className:"w-8 h-8"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"AI Homework Solver"}),e.jsx("p",{className:"text-muted-foreground",children:"Get instant, step-by-step solutions for any subject."})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(x,{children:[e.jsxs(j,{children:[e.jsx(f,{children:"Your Question"}),e.jsx(g,{children:"Type your question or upload an image"})]}),e.jsxs(y,{className:"space-y-4",children:[e.jsx(A,{placeholder:"Paste your homework question here...",className:"min-h-[200px] resize-none",value:s,onChange:t=>b(t.target.value)}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs(h,{variant:"outline",className:"flex-1",children:[e.jsx(N,{className:"w-4 h-4 mr-2"}),"Upload Image"]}),e.jsx(h,{className:"flex-1 bg-purple-600 hover:bg-purple-700",onClick:w,disabled:!s&&!n,children:n?e.jsx(e.Fragment,{children:"Processing..."}):e.jsxs(e.Fragment,{children:[e.jsx(u,{className:"w-4 h-4 mr-2"}),"Solve with AI"]})})]})]})]}),e.jsxs(x,{className:`border-purple-500/20 ${r?"bg-purple-500/5":""}`,children:[e.jsxs(j,{children:[e.jsx(f,{children:"AI Solution"}),e.jsx(g,{children:r?"Analysis complete":"Solution will appear here"})]}),e.jsx(y,{children:r?e.jsxs("div",{className:"prose dark:prose-invert",children:[e.jsx("p",{className:"whitespace-pre-line",children:r}),e.jsxs("div",{className:"mt-6 p-4 bg-purple-500/10 rounded-lg border border-purple-500/20",children:[e.jsxs("h4",{className:"font-semibold text-purple-400 mb-2 flex items-center",children:[e.jsx(u,{className:"w-4 h-4 mr-2"}),"Key Concept"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"This problem relates to [Topic Name]. Mastering this concept will help you solve similar problems in the future."})]})]}):e.jsxs("div",{className:"h-[200px] flex flex-col items-center justify-center text-muted-foreground opacity-50",children:[e.jsx(m,{className:"w-12 h-12 mb-4"}),e.jsx("p",{children:"Ready to solve"})]})})]})]})]})})}export{R as default};
