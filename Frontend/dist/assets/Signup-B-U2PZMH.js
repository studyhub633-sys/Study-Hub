import{r as t,u as H,b as U,m as Y,j as e,t as o,B as r,s as _,L as z}from"./index-7wMNJNZJ.js";import{A as P}from"./AnimatedLogoIcon-DY32PEux.js";import{A as B,a as O,b as Q,c as V}from"./accordion-Bip77OpK.js";import{A as $,a as G}from"./alert-Cruc9TpM.js";import{C as J,a as K,b as M,c as X,d as Z}from"./card-BDQx_yt9.js";import{I as f}from"./input-CURGwIC-.js";import{L as g}from"./label-4_8C0ZIE.js";import{C as ee,f as se}from"./FAQ-C7UTSQaW.js";import{A as te}from"./arrow-left-DnBFMMQY.js";import{E as k}from"./eye-off-Dc-yaQ5U.js";import{E as A}from"./eye-COppsmZo.js";import"./index-iU3ZkQd9.js";import"./index-8ugP4A3I.js";import"./chevron-down-CjDqse4M.js";import"./sun-CnDoiXzg.js";function je(){const[j,F]=t.useState(""),[i,E]=t.useState(""),[d,L]=t.useState(!1),[y,I]=t.useState(""),[m,q]=t.useState(!1),[N,T]=t.useState(!1),[v,l]=t.useState(""),[n,b]=t.useState(!1),[u,D]=t.useState(!1),[x,w]=t.useState(1),h=t.useRef(!1),{signUp:R,user:C,loading:S}=H(),p=U(),{t:a}=Y();t.useEffect(()=>{!S&&C&&!u&&p("/")},[C,S,p,u]);const W=async s=>{if(s.preventDefault(),l(""),!h.current){if(i!==y){l("Passwords do not match");return}if(i.length<6){l("Password must be at least 6 characters long");return}if(!N){l("You must agree to the privacy policy to create an account");return}h.current=!0,b(!0);try{await R(j,i),D(!0)}catch(c){l(c.message||"Failed to create account. Please try again.")}finally{b(!1),h.current=!1}}};return e.jsxs("div",{className:"min-h-screen flex flex-col items-center bg-gradient-to-b from-background to-muted/20 p-4",children:[e.jsx("div",{className:"w-full max-w-md mb-4",children:e.jsx(o,{to:"/landing",children:e.jsxs(r,{variant:"ghost",className:"gap-2 text-muted-foreground hover:text-foreground",children:[e.jsx(te,{className:"h-4 w-4"}),a("common.back")]})})}),e.jsxs(J,{className:"w-full max-w-md",children:[e.jsxs(K,{className:"space-y-1 text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx(P,{})}),e.jsx(M,{className:"text-2xl font-bold",children:a("auth.createAccount")}),e.jsx(X,{children:a("auth.signupSubtitle")})]}),e.jsx(Z,{children:u?e.jsxs("div",{className:"space-y-6 text-center animate-in fade-in slide-in-from-bottom-4 duration-500",children:[x===1&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mb-4",children:e.jsx(P,{})}),e.jsx("h3",{className:"text-2xl font-bold tracking-tight",children:"Welcome to Study Hub!"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"We're thrilled to have you join our community. Your journey to better studying starts here."}),e.jsx(r,{className:"w-full mt-6",onClick:()=>w(2),children:"Continue"})]}),x===2&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-xl font-bold tracking-tight mb-2",children:"Our Community Pledges"}),e.jsxs("div",{className:"text-left text-sm text-muted-foreground space-y-3 bg-muted/50 p-4 rounded-lg border border-border/50",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"ðŸ“– Respect & Integrity:"})," Use our resources to learn and grow, but uphold academic honesty."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"ðŸ¤ Community:"})," Treat fellow students with respect in all interactions."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"ðŸ”’ Privacy:"})," We protect your data as outlined in our ",e.jsx(o,{to:"/privacy",className:"text-primary hover:underline",target:"_blank",children:"Privacy Policy"})," and ",e.jsx(o,{to:"/terms",className:"text-primary hover:underline",target:"_blank",children:"Terms"}),"."]})]}),e.jsx(r,{className:"w-full mt-6",onClick:()=>w(3),children:"I Understand"})]}),x===3&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"py-4",children:[e.jsx("h3",{className:"text-2xl font-bold tracking-tight text-primary mb-2",children:"Enjoy your stay! ðŸŽ‰"}),e.jsx("p",{className:"text-muted-foreground",children:"You are all set up. Dive in and explore all the tools we have prepared for you."})]}),e.jsx(r,{className:"w-full mt-6",onClick:()=>p("/"),children:"Start Studying"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("form",{onSubmit:W,className:"space-y-4",children:[v&&e.jsx($,{variant:"destructive",children:e.jsx(G,{children:v})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"email",children:a("common.email")}),e.jsx(f,{id:"email",type:"email",placeholder:"you@example.com",value:j,onChange:s=>F(s.target.value),required:!0,disabled:n})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"password",children:a("common.password")}),e.jsxs("div",{className:"relative",children:[e.jsx(f,{id:"password",type:d?"text":"password",placeholder:"At least 6 characters",value:i,onChange:s=>E(s.target.value),required:!0,disabled:n,className:"pr-10"}),e.jsx(r,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>L(!d),children:d?e.jsx(k,{className:"h-4 w-4 text-muted-foreground"}):e.jsx(A,{className:"h-4 w-4 text-muted-foreground"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"confirmPassword",children:a("common.confirmPassword")}),e.jsxs("div",{className:"relative",children:[e.jsx(f,{id:"confirmPassword",type:m?"text":"password",placeholder:"Confirm your password",value:y,onChange:s=>I(s.target.value),required:!0,disabled:n,className:"pr-10"}),e.jsx(r,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>q(!m),children:m?e.jsx(k,{className:"h-4 w-4 text-muted-foreground"}):e.jsx(A,{className:"h-4 w-4 text-muted-foreground"})})]})]}),e.jsxs("div",{className:"items-top flex space-x-2",children:[e.jsx(_,{id:"terms",checked:N,onCheckedChange:s=>T(s)}),e.jsx("div",{className:"grid gap-1.5 leading-none",children:e.jsxs("label",{htmlFor:"terms",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:["I agree to the"," ",e.jsx(o,{to:"/privacy",target:"_blank",className:"text-primary hover:underline",onClick:s=>s.stopPropagation(),children:"Privacy Policy"})]})})]}),e.jsx(r,{type:"submit",className:"w-full",disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"mr-2 h-4 w-4 animate-spin"}),a("common.loading")]}):a("common.signup")})]}),e.jsxs("div",{className:"mt-6 text-center text-sm",children:[e.jsxs("span",{className:"text-muted-foreground",children:[a("auth.haveAccount")," "]}),e.jsx(o,{to:"/login",className:"text-primary hover:underline font-medium",children:a("common.login")})]})]})})]}),e.jsxs("div",{className:"w-full max-w-md mt-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(ee,{className:"h-5 w-5 text-primary"}),e.jsx("h2",{className:"text-lg font-semibold text-foreground",children:a("footer.faq")})]}),e.jsx(B,{type:"single",collapsible:!0,className:"w-full",children:se.slice(0,5).map((s,c)=>e.jsxs(O,{value:`item-${c}`,className:"glass-card px-4 mb-2",children:[e.jsx(Q,{className:"text-left text-sm font-medium text-foreground hover:no-underline",children:s.question}),e.jsx(V,{className:"text-sm text-muted-foreground",children:s.answer})]},c))}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx(o,{to:"/faq",className:"text-sm text-primary hover:underline",children:"View all FAQs â†’"})})]})]})}export{je as default};
