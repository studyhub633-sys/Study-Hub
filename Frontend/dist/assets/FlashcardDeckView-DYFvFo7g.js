import{j as e,L as Ee,al as Ae,N as xe,$ as ue,ak as he,a1 as K,am as W,an as Z,Q as Le,M as Ie,H as $e,ai as Re,ao as Oe,X as ee,q as fe,ap as Ve,aq as ge}from"./ui-vendor-DvDVRjyp.js";import{A as pe}from"./AppLayout-DSG6wxEf.js";import{u as Ye,k as Be,B as i,c as d,C as Ue}from"./index-DEqmCALs.js";import{D as He,b as Qe,c as Je,d as Xe,e as Ge,f as Ke}from"./dialog-CeMj4lUC.js";import{I as je}from"./input-CG8Ib3hH.js";import{L}from"./label-lvNOnDGI.js";import{S as We,a as Ze,b as es,c as ss,d as be}from"./select-9ZKIQjAc.js";import{T as Ne}from"./textarea-F7PLQ3VZ.js";import{j as ts,u as rs,r as a}from"./react-vendor-Do86TxWo.js";import"./AnimatedLogoIcon-D6d7HWVb.js";import"./sheet-DlQTD0RE.js";import"./supabase-vendor-C2nLxrxH.js";import"./query-vendor-Bk-KKE7Z.js";import"./index-BdQq_4o_.js";import"./index-Du_rhl89.js";function se(y){return y===0?"new":y<=2?"learning":y<=4?"almostDone":"mastered"}const te={new:{label:"New Cards",color:"text-rose-400",bgColor:"bg-rose-500/15",dotColor:"bg-rose-400"},learning:{label:"Still learning",color:"text-amber-500",bgColor:"bg-amber-500/15",dotColor:"bg-amber-500"},almostDone:{label:"Almost done",color:"text-blue-500",bgColor:"bg-blue-500/15",dotColor:"bg-blue-500"},mastered:{label:"Mastered",color:"text-emerald-500",bgColor:"bg-emerald-500/15",dotColor:"bg-emerald-500"}};function bs(){const{subject:y}=ts(),m=decodeURIComponent(y||""),ve=rs(),{supabase:f,user:c}=Ye(),{toast:g}=Be(),[l,ye]=a.useState([]),[we,M]=a.useState(!0),[re,ae]=a.useState(0),[I,p]=a.useState(!1),[E,Ce]=a.useState(""),[w,le]=a.useState("all"),[$,R]=a.useState(!1),[C,b]=a.useState({correct:0,incorrect:0}),[O,S]=a.useState(0),[V,k]=a.useState(!1),[u,N]=a.useState(!1),D=a.useRef(null),[x,Y]=a.useState([]),[Se,F]=a.useState(0),ne=a.useRef([]),[ke,_]=a.useState(!1),[z,ie]=a.useState(null),[n,v]=a.useState({front:"",back:"",topic:"",tier:""}),[A,B]=a.useState(!1),[h,U]=a.useState(new Set),[P,De]=a.useState(()=>{try{const s=localStorage.getItem(`starred_cards_${m}`);return s?new Set(JSON.parse(s)):new Set}catch{return new Set}});a.useEffect(()=>{c&&m&&T()},[c,m]),a.useEffect(()=>{localStorage.setItem(`starred_cards_${m}`,JSON.stringify([...P]))},[P,m]);const T=async()=>{if(c)try{M(!0);const{data:s,error:t}=await f.from("flashcards").select("*").eq("user_id",c.id).eq("subject",m).order("created_at",{ascending:!0});if(t)throw t;ye(s||[])}catch{g({title:"Error",description:"Failed to load flashcards.",variant:"destructive"})}finally{M(!1)}},H=a.useMemo(()=>{const s={new:0,learning:0,almostDone:0,mastered:0,total:l.length};return l.forEach(t=>{const r=se(t.review_count);s[r]++}),s},[l]),Q=l.length>0?Math.round(H.mastered/l.length*100):0,Fe=a.useMemo(()=>l.filter(s=>{const t=w==="all"||se(s.review_count)===w,r=s.front.toLowerCase().includes(E.toLowerCase())||s.back.toLowerCase().includes(E.toLowerCase());return t&&r}),[l,w,E]),o=$?x[Se]:l[re],J=a.useCallback((s,t=!1)=>{u||(N(!0),p(!1),D.current&&clearTimeout(D.current),D.current=setTimeout(()=>{t?F(s):ae(s),N(!1)},250))},[u]);a.useEffect(()=>()=>{D.current&&clearTimeout(D.current)},[]);const _e=()=>{J(s=>(s+1)%l.length)},ze=()=>{J(s=>(s-1+l.length)%l.length)},oe=()=>{u||p(!I)},ce=async s=>{if(V||u)return;b(s?r=>({...r,correct:r.correct+1}):r=>({...r,incorrect:r.incorrect+1})),o&&(ne.current.push(o.id),c&&f.from("flashcards").select("review_count").eq("id",o.id).eq("user_id",c.id).single().then(({data:r})=>{f.from("flashcards").update({last_reviewed:new Date().toISOString(),review_count:((r==null?void 0:r.review_count)||0)+1}).eq("id",o.id).eq("user_id",c.id).then(()=>{})}));const t=O+1;S(t),t>=x.length?k(!0):J(r=>r+1,!0)},de=()=>{ie(null),v({front:"",back:"",topic:"",tier:""}),_(!0)},Pe=s=>{ie(s),v({front:s.front,back:s.back,topic:s.topic||"",tier:s.tier||""}),_(!0)},Te=async()=>{if(!c||!n.front.trim()||!n.back.trim()){g({title:"Error",description:"Both question and answer are required.",variant:"destructive"});return}try{if(z){const{error:s}=await f.from("flashcards").update({front:n.front,back:n.back,topic:n.topic||null,tier:n.tier||null}).eq("id",z.id).eq("user_id",c.id);if(s)throw s;g({title:"Updated",description:"Flashcard updated."})}else{const{error:s}=await f.from("flashcards").insert({user_id:c.id,front:n.front,back:n.back,subject:m,topic:n.topic||null,tier:n.tier||null,difficulty:1,review_count:0});if(s)throw s;g({title:"Created",description:"Flashcard added to deck."})}_(!1),T()}catch(s){g({title:"Error",description:s.message||"Failed to save.",variant:"destructive"})}},qe=async s=>{if(c&&confirm("Delete this flashcard?"))try{const{error:t}=await f.from("flashcards").delete().eq("id",s).eq("user_id",c.id);if(t)throw t;g({title:"Deleted",description:"Flashcard removed."}),T()}catch{}},Me=async()=>{if(!(!c||h.size===0)&&confirm(`Delete ${h.size} selected cards?`))try{M(!0);const{error:s}=await f.from("flashcards").delete().in("id",Array.from(h)).eq("user_id",c.id);if(s)throw s;g({title:"Deleted",description:`${h.size} cards removed.`}),U(new Set),B(!1),T()}catch{M(!1)}},X=s=>{De(t=>{const r=new Set(t);return r.has(s)?r.delete(s):r.add(s),r})},me=s=>{U(t=>{const r=new Set(t);return r.has(s)?r.delete(s):r.add(s),r})},G=s=>{if("speechSynthesis"in window){const t=new SpeechSynthesisUtterance(s);t.rate=.9,speechSynthesis.speak(t)}};return we?e.jsx(pe,{children:e.jsx("div",{className:"max-w-4xl mx-auto flex items-center justify-center h-[60vh]",children:e.jsx(Ee,{className:"h-8 w-8 animate-spin text-muted-foreground"})})}):e.jsxs(pe,{children:[e.jsxs("div",{className:"max-w-4xl mx-auto pb-24 animate-fade-in",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(i,{variant:"ghost",size:"icon",onClick:()=>ve("/flashcards"),className:"h-9 w-9",children:e.jsx(Ae,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl md:text-2xl font-bold text-foreground",children:m}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[l.length," cards"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(i,{variant:"outline",size:"sm",onClick:de,className:"gap-1.5",children:[e.jsx(xe,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Add Card"})]}),A?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs text-muted-foreground",children:[h.size," selected"]}),e.jsxs(i,{variant:"destructive",size:"sm",onClick:Me,disabled:h.size===0,children:[e.jsx(ue,{className:"h-4 w-4 mr-1"}),"Delete"]}),e.jsx(i,{variant:"ghost",size:"sm",onClick:()=>{B(!1),U(new Set)},children:"Cancel"})]}):e.jsx(i,{variant:"outline",size:"sm",onClick:()=>B(!0),children:"Select"})]})]}),l.length===0?e.jsxs("div",{className:"glass-card p-12 text-center",children:[e.jsx(he,{className:"h-16 w-16 text-muted-foreground/50 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No cards in this deck"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Start adding flashcards to build your deck."}),e.jsxs(i,{onClick:de,children:[e.jsx(xe,{className:"h-4 w-4 mr-2"}),"Add Card"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-8 animate-slide-up",children:[o&&e.jsx("div",{className:d("relative w-full min-h-[220px] sm:min-h-[260px] cursor-pointer transition-all duration-250",u?"opacity-0 scale-95":"opacity-100 scale-100"),style:{perspective:"1200px"},onClick:oe,children:e.jsxs("div",{className:"absolute inset-0 transition-transform duration-700 ease-[cubic-bezier(0.4,0,0.2,1)]",style:{transformStyle:"preserve-3d",transform:I?"rotateY(180deg)":"rotateY(0deg)"},children:[e.jsxs("div",{className:"absolute inset-0 glass-card p-6 sm:p-8 flex flex-col rounded-xl",style:{backfaceVisibility:"hidden"},children:[e.jsxs("div",{className:"flex items-center justify-end gap-2 mb-2",children:[e.jsx("button",{onClick:s=>{s.stopPropagation(),G(o.front)},className:"p-1.5 rounded-lg hover:bg-muted transition-colors",children:e.jsx(K,{className:"h-4 w-4 text-muted-foreground"})}),e.jsx("button",{onClick:s=>{s.stopPropagation(),X(o.id)},className:"p-1.5 rounded-lg hover:bg-muted transition-colors",children:P.has(o.id)?e.jsx(W,{className:"h-4 w-4 text-yellow-500 fill-yellow-500"}):e.jsx(Z,{className:"h-4 w-4 text-muted-foreground"})})]}),e.jsx("div",{className:"flex-1 flex items-center justify-center text-center px-4",children:e.jsx("h2",{className:"text-lg sm:text-xl font-semibold leading-relaxed",children:o.front})})]}),e.jsxs("div",{className:"absolute inset-0 glass-card p-6 sm:p-8 flex flex-col rounded-xl bg-gradient-to-br from-primary/5 to-primary/10",style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:[e.jsxs("div",{className:"flex items-center justify-end gap-2 mb-2",children:[e.jsx("button",{onClick:s=>{s.stopPropagation(),G(o.back)},className:"p-1.5 rounded-lg hover:bg-muted transition-colors",children:e.jsx(K,{className:"h-4 w-4 text-muted-foreground"})}),e.jsx("button",{onClick:s=>{s.stopPropagation(),X(o.id)},className:"p-1.5 rounded-lg hover:bg-muted transition-colors",children:P.has(o.id)?e.jsx(W,{className:"h-4 w-4 text-yellow-500 fill-yellow-500"}):e.jsx(Z,{className:"h-4 w-4 text-muted-foreground"})})]}),e.jsx("div",{className:"flex-1 flex items-center justify-center text-center px-4",children:e.jsx("p",{className:"text-base sm:text-lg leading-relaxed whitespace-pre-line",children:o.back})})]})]})}),e.jsxs("div",{className:"flex items-center justify-center gap-4 mt-4",children:[e.jsx(i,{variant:"ghost",size:"icon",onClick:ze,className:"h-9 w-9 rounded-full",children:e.jsx(Le,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[l.slice(0,Math.min(5,l.length)).map((s,t)=>e.jsx("button",{onClick:()=>{ae(t),p(!1)},className:d("w-2 h-2 rounded-full transition-all",re===t?"bg-primary scale-125":"bg-muted-foreground/30")},t)),l.length>5&&e.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["+",l.length-5]})]}),e.jsx(i,{variant:"ghost",size:"icon",onClick:_e,className:"h-9 w-9 rounded-full",children:e.jsx(Ie,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{className:"glass-card p-5 mb-8 animate-slide-up",style:{animationDelay:"0.1s"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-foreground",children:"Study Progress"}),e.jsxs("span",{className:d("text-sm font-bold px-2.5 py-1 rounded-full",Q>=80?"bg-emerald-500/15 text-emerald-500":Q>=40?"bg-blue-500/15 text-blue-500":"bg-muted text-muted-foreground"),children:[Q,"%"]})]}),e.jsx("div",{className:"space-y-3",children:["new","learning","almostDone","mastered"].map(s=>{const t=te[s],r=H[s],q=l.length>0?r/l.length*100:0;return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:d("w-3 h-3 rounded-full flex-shrink-0 border-2",t.dotColor,`border-${t.dotColor.replace("bg-","")}`)}),e.jsx("span",{className:d("text-sm font-medium px-2.5 py-0.5 rounded-full min-w-[110px]",t.bgColor,t.color),children:t.label}),e.jsx("div",{className:"flex-1 h-2 bg-muted rounded-full overflow-hidden",children:e.jsx("div",{className:d("h-full rounded-full transition-all duration-500",t.dotColor),style:{width:`${q}%`}})}),e.jsx("span",{className:"text-sm font-medium text-foreground w-8 text-right",children:r})]},s)})})]}),e.jsxs("div",{className:"animate-slide-up",style:{animationDelay:"0.2s"},children:[e.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Terms"}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx($e,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(je,{placeholder:"Search terms/definitions",value:E,onChange:s=>Ce(s.target.value),className:"pl-9"})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-4 overflow-x-auto pb-1",children:[e.jsxs("button",{onClick:()=>le("all"),className:d("text-sm px-3 py-1.5 rounded-full border transition-colors whitespace-nowrap",w==="all"?"border-primary bg-primary/10 text-primary font-medium":"border-border text-muted-foreground hover:text-foreground hover:border-foreground/20"),children:["View All (",l.length,")"]}),["new","learning","almostDone","mastered"].map(s=>{const t=te[s],r=H[s];return r===0?null:e.jsxs("button",{onClick:()=>le(s),className:d("text-sm px-3 py-1.5 rounded-full border transition-colors whitespace-nowrap",w===s?`border-current ${t.bgColor} ${t.color} font-medium`:"border-border text-muted-foreground hover:text-foreground hover:border-foreground/20"),children:[t.label," (",r,")"]},s)})]}),e.jsx("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto pr-1 custom-scrollbar",children:Fe.map((s,t)=>{const r=se(s.review_count),q=te[r];return e.jsx("div",{className:d("glass-card p-4 transition-all duration-200 group",A&&h.has(s.id)&&"ring-2 ring-primary bg-primary/5"),onClick:()=>A&&me(s.id),children:e.jsxs("div",{className:"flex items-start gap-3",children:[A&&e.jsx(Ue,{checked:h.has(s.id),onCheckedChange:()=>me(s.id),className:"mt-1"}),e.jsx("span",{className:"text-xs font-bold text-muted-foreground bg-muted w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:t+1}),e.jsx("span",{className:d("text-xs font-medium px-2 py-0.5 rounded-full flex-shrink-0 mt-0.5",q.bgColor,q.color),children:q.label}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-foreground",children:s.front}),e.jsx("div",{className:"h-px bg-border/50 my-2"}),e.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-line",children:s.back})]}),e.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:j=>{j.stopPropagation(),G(s.front)},className:"p-1.5 rounded-lg hover:bg-muted transition-colors",children:e.jsx(K,{className:"h-3.5 w-3.5 text-muted-foreground"})}),e.jsx("button",{onClick:j=>{j.stopPropagation(),X(s.id)},className:"p-1.5 rounded-lg hover:bg-muted transition-colors",children:P.has(s.id)?e.jsx(W,{className:"h-3.5 w-3.5 text-yellow-500 fill-yellow-500"}):e.jsx(Z,{className:"h-3.5 w-3.5 text-muted-foreground"})}),e.jsx("button",{onClick:j=>{j.stopPropagation(),Pe(s)},className:"p-1.5 rounded-lg hover:bg-muted transition-colors",children:e.jsx(Re,{className:"h-3.5 w-3.5 text-muted-foreground"})}),e.jsx("button",{onClick:j=>{j.stopPropagation(),qe(s.id)},className:"p-1.5 rounded-lg hover:bg-muted transition-colors",children:e.jsx(ue,{className:"h-3.5 w-3.5 text-destructive/70"})})]})]})},s.id)})})]})]})]}),l.length>0&&!$&&e.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-background via-background to-transparent pointer-events-none z-30 flex justify-center",children:e.jsxs(i,{size:"lg",className:"pointer-events-auto px-8 py-6 text-base font-semibold rounded-xl shadow-xl bg-gradient-to-r from-cyan-500 to-teal-500 hover:from-cyan-600 hover:to-teal-600 text-white gap-2",onClick:()=>{const s=[...l].sort(()=>Math.random()-.5);Y(s),F(0),R(!0),p(!1),b({correct:0,incorrect:0}),S(0),k(!1),N(!1),ne.current=[]},children:[e.jsx(Oe,{className:"h-5 w-5"}),"Study Flashcards"]})}),$&&e.jsxs("div",{className:"fixed inset-0 z-50 bg-background flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[e.jsxs(i,{variant:"ghost",onClick:()=>{R(!1),T()},className:"gap-2",children:[e.jsx(ee,{className:"h-5 w-5"}),"Exit Study"]}),e.jsx("h2",{className:"font-semibold",children:m}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("span",{className:"text-emerald-500 flex items-center gap-1",children:[e.jsx(fe,{className:"h-4 w-4"})," ",C.correct]}),e.jsxs("span",{className:"text-destructive flex items-center gap-1",children:[e.jsx(ee,{className:"h-4 w-4"})," ",C.incorrect]})]})]}),e.jsxs("div",{className:"px-4 pt-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground mb-2",children:[e.jsxs("span",{children:[O," / ",x.length," answered"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(i,{variant:"outline",size:"sm",onClick:()=>{const s=[...x].sort(()=>Math.random()-.5);Y(s),F(0),p(!1),b({correct:0,incorrect:0}),S(0),k(!1),N(!1)},className:"gap-1 h-8",children:[e.jsx(Ve,{className:"h-3.5 w-3.5"}),"Shuffle"]}),e.jsxs(i,{variant:"outline",size:"sm",onClick:()=>{F(0),p(!1),b({correct:0,incorrect:0}),S(0),k(!1),N(!1)},className:"gap-1 h-8",children:[e.jsx(ge,{className:"h-3.5 w-3.5"}),"Reset"]})]})]}),e.jsx("div",{className:"w-full bg-muted rounded-full h-2.5",children:e.jsx("div",{className:"bg-gradient-to-r from-cyan-500 to-teal-500 h-2.5 rounded-full transition-all duration-500 ease-out",style:{width:`${x.length>0?O/x.length*100:0}%`}})})]}),e.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:V?e.jsxs("div",{className:"w-full max-w-lg glass-card p-8 rounded-2xl text-center animate-fade-in",children:[e.jsx("div",{className:"text-5xl mb-4",children:"ðŸŽ‰"}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Study Complete!"}),e.jsxs("p",{className:"text-muted-foreground mb-6",children:["You've gone through all ",x.length," cards."]}),e.jsxs("div",{className:"flex items-center justify-center gap-6 mb-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-emerald-500",children:C.correct}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Correct"})]}),e.jsx("div",{className:"w-px h-12 bg-border"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-destructive",children:C.incorrect}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Incorrect"})]}),e.jsx("div",{className:"w-px h-12 bg-border"}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-3xl font-bold text-primary",children:[x.length>0?Math.round(C.correct/x.length*100):0,"%"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Score"})]})]}),e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx(i,{variant:"outline",onClick:()=>R(!1),className:"px-6",children:"Exit"}),e.jsxs(i,{className:"px-6 bg-gradient-to-r from-cyan-500 to-teal-500 hover:from-cyan-600 hover:to-teal-600 text-white",onClick:()=>{const s=[...x].sort(()=>Math.random()-.5);Y(s),F(0),p(!1),b({correct:0,incorrect:0}),S(0),k(!1),N(!1)},children:[e.jsx(ge,{className:"h-4 w-4 mr-2"}),"Study Again"]})]})]}):o?e.jsx("div",{className:d("w-full max-w-lg min-h-[300px] cursor-pointer transition-all duration-250",u?"opacity-0 scale-95":"opacity-100 scale-100"),style:{perspective:"1200px"},onClick:oe,children:e.jsxs("div",{className:"w-full min-h-[300px] transition-transform duration-700 ease-[cubic-bezier(0.4,0,0.2,1)] relative",style:{transformStyle:"preserve-3d",transform:I?"rotateY(180deg)":"rotateY(0deg)"},children:[e.jsxs("div",{className:"absolute inset-0 glass-card p-8 flex flex-col items-center justify-center text-center rounded-2xl",style:{backfaceVisibility:"hidden"},children:[e.jsx(he,{className:"h-8 w-8 text-primary mb-4 opacity-50"}),e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold leading-relaxed",children:o.front}),e.jsx("p",{className:"text-sm text-muted-foreground mt-6",children:"Tap to reveal answer"})]}),e.jsx("div",{className:"absolute inset-0 glass-card p-8 flex flex-col items-center justify-center text-center rounded-2xl bg-gradient-to-br from-primary/5 to-primary/10",style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:e.jsx("p",{className:"text-lg sm:text-xl leading-relaxed whitespace-pre-line",children:o.back})})]})}):null}),!V&&e.jsxs("div",{className:"flex items-center justify-center gap-4 p-6 border-t border-border",children:[e.jsxs(i,{variant:"outline",className:"h-12 px-8 border-destructive text-destructive hover:bg-destructive hover:text-destructive-foreground",onClick:()=>ce(!1),disabled:u,children:[e.jsx(ee,{className:"h-5 w-5 mr-2"}),"Incorrect"]}),e.jsxs(i,{className:"h-12 px-8 bg-emerald-500 hover:bg-emerald-600 text-white",onClick:()=>ce(!0),disabled:u,children:[e.jsx(fe,{className:"h-5 w-5 mr-2"}),"Correct"]})]})]}),e.jsx(He,{open:ke,onOpenChange:_,children:e.jsxs(Qe,{className:"max-w-2xl",children:[e.jsxs(Je,{children:[e.jsx(Xe,{children:z?"Edit Flashcard":"Add New Flashcard"}),e.jsx(Ge,{children:z?"Update your flashcard details":`Add a new card to "${m}"`})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"topic",children:"Topic"}),e.jsx(je,{id:"topic",value:n.topic,onChange:s=>v({...n,topic:s.target.value}),placeholder:"e.g., Cell Biology"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"tier",children:"Tier"}),e.jsxs(We,{value:n.tier,onValueChange:s=>v({...n,tier:s}),children:[e.jsx(Ze,{id:"tier",children:e.jsx(es,{placeholder:"Optional"})}),e.jsxs(ss,{children:[e.jsx(be,{value:"Higher",children:"Higher"}),e.jsx(be,{value:"Foundation",children:"Foundation"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"front",children:"Question *"}),e.jsx(Ne,{id:"front",value:n.front,onChange:s=>v({...n,front:s.target.value}),placeholder:"Enter the question...",className:"min-h-[100px]"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"back",children:"Answer *"}),e.jsx(Ne,{id:"back",value:n.back,onChange:s=>v({...n,back:s.target.value}),placeholder:"Enter the answer...",className:"min-h-[100px]"})]})]}),e.jsxs(Ke,{children:[e.jsx(i,{variant:"outline",onClick:()=>_(!1),children:"Cancel"}),e.jsxs(i,{onClick:Te,children:[z?"Update":"Add"," Card"]})]})]})})]})}export{bs as default};
