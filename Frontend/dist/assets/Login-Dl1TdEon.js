import{j as e,al as C,aJ as L,I as S,L as A}from"./ui-vendor-DvDVRjyp.js";import{A as E}from"./AnimatedLogoIcon-D6d7HWVb.js";import{A as k,a as I}from"./alert-B48mObgu.js";import{u as P,j as F,B as i}from"./index-DEqmCALs.js";import{C as B,a as D,b as q,c as T,d as z}from"./card-C99jCs8O.js";import{I as f}from"./input-CG8Ib3hH.js";import{L as j}from"./label-lvNOnDGI.js";import{r as a,u as H,L as l}from"./react-vendor-Do86TxWo.js";import"./supabase-vendor-C2nLxrxH.js";import"./query-vendor-Bk-KKE7Z.js";function X(){const[c,g]=a.useState(""),[m,w]=a.useState(""),[o,v]=a.useState(!1),[d,u]=a.useState(""),[r,x]=a.useState(!1),{signIn:N,user:h,loading:p}=P(),n=H(),{t:s}=F();a.useEffect(()=>{!p&&h&&n("/")},[h,p,n]);const y=async t=>{t.preventDefault(),u(""),x(!0);try{await N(c,m),n("/")}catch(b){u(b.message||"Failed to sign in. Please check your credentials.")}finally{x(!1)}};return e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-b from-background to-muted/20 p-4",children:[e.jsx("div",{className:"w-full max-w-md mb-4",children:e.jsx(l,{to:"/landing",children:e.jsxs(i,{variant:"ghost",className:"gap-2 text-muted-foreground hover:text-foreground",children:[e.jsx(C,{className:"h-4 w-4"}),s("common.back")]})})}),e.jsxs(B,{className:"w-full max-w-md",children:[e.jsxs(D,{className:"space-y-1 text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx(E,{})}),e.jsx(q,{className:"text-2xl font-bold",children:s("auth.welcomeBack")}),e.jsx(T,{children:s("auth.loginSubtitle")})]}),e.jsxs(z,{children:[e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[d&&e.jsx(k,{variant:"destructive",children:e.jsx(I,{children:d})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"email",children:s("common.email")}),e.jsx(f,{id:"email",type:"email",placeholder:"you@example.com",value:c,onChange:t=>g(t.target.value),required:!0,disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(j,{htmlFor:"password",children:s("common.password")}),e.jsx(l,{to:"/forgot-password",className:"text-sm text-primary hover:underline",children:s("common.forgotPassword")})]}),e.jsxs("div",{className:"relative",children:[e.jsx(f,{id:"password",type:o?"text":"password",placeholder:s("common.password"),value:m,onChange:t=>w(t.target.value),required:!0,disabled:r,className:"pr-10"}),e.jsx(i,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>v(!o),children:o?e.jsx(L,{className:"h-4 w-4 text-muted-foreground"}):e.jsx(S,{className:"h-4 w-4 text-muted-foreground"})})]})]}),e.jsx(i,{type:"submit",className:"w-full",disabled:r,children:r?e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"mr-2 h-4 w-4 animate-spin"}),s("common.loading")]}):s("common.login")})]}),e.jsxs("div",{className:"mt-6 text-center text-sm",children:[e.jsxs("span",{className:"text-muted-foreground",children:[s("auth.noAccount")," "]}),e.jsx(l,{to:"/signup",className:"text-primary hover:underline font-medium",children:s("common.signup")})]})]})]})]})}export{X as default};
