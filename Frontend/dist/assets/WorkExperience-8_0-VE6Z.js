import{j as e,L as j,C as T,U as N,p as W,a1 as F,aW as I,O as g,a8 as b,Y as U}from"./ui-vendor-C99L-hD9.js";import{A as u}from"./AppLayout-BFdv2Mth.js";import{B as c}from"./badge-C_rvkMXd.js";import{B as v}from"./button-CTbG2CuD.js";import{C as x,a as Y,b as M,c as Q,d as w}from"./card-CZtYvRKS.js";import{I as R}from"./input-Cw2xi0UF.js";import{u as G,a as y,c as H}from"./index-Bze4zWta.js";import{h as z}from"./premium-eVfGSoKP.js";import{u as J,r as t}from"./react-vendor-CW_qxVlV.js";import"./sheet-HbvxctKK.js";import"./supabase-vendor-BFJX04bJ.js";import"./query-vendor-CVP6rs-5.js";function le(){const{supabase:m,user:n}=G(),h=J(),[C,k]=t.useState(!1),[P,S]=t.useState(!0),[l,L]=t.useState([]),[D,p]=t.useState(!0),[r,_]=t.useState("");t.useEffect(()=>{n&&(E(),O())},[n]);const E=async()=>{if(!(!n||!m))try{const s=await z(m);k(s),s||(y.error("This is a premium feature. Please upgrade to access."),h("/premium-dashboard"))}catch{}finally{S(!1)}},O=async()=>{if(n)try{p(!0);const{data:s,error:a}=await m.from("premium_work_experience").select("*").eq("is_premium",!0).eq("is_active",!0).order("created_at",{ascending:!1});if(a)throw a;L(s||[])}catch{y.error("Failed to load work experience opportunities.")}finally{p(!1)}},B=()=>l.filter(s=>{var i;return!r||s.title.toLowerCase().includes(r.toLowerCase())||((i=s.company)==null?void 0:i.toLowerCase().includes(r.toLowerCase()))||s.description.toLowerCase().includes(r.toLowerCase())}),q=s=>s?new Date(s)<new Date:!1,A=s=>s?new Date(s).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"}):null;if(P)return e.jsx(u,{children:e.jsx("div",{className:"max-w-6xl mx-auto flex items-center justify-center h-[60vh]",children:e.jsx(j,{className:"h-8 w-8 animate-spin text-muted-foreground"})})});if(!C)return e.jsx(u,{children:e.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col items-center justify-center h-[60vh] gap-4",children:[e.jsx(T,{className:"h-16 w-16 text-premium"}),e.jsx("h2",{className:"text-2xl font-bold",children:"Premium Feature"}),e.jsx("p",{className:"text-muted-foreground",children:"This feature is available for premium members only."}),e.jsx(v,{onClick:()=>h("/premium-dashboard"),children:"Upgrade to Premium"})]})});const f=B();return e.jsx(u,{children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx("div",{className:"mb-8 animate-fade-in",children:e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-3 rounded-xl bg-premium/10",children:e.jsx(N,{className:"h-6 w-6 text-premium"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Scientia.ai Work Experience"}),e.jsx("p",{className:"text-muted-foreground",children:"Exclusive work experience opportunities for premium members"})]})]})}),e.jsx("div",{className:"glass-card p-4 mb-6 animate-slide-up",children:e.jsxs("div",{className:"relative",children:[e.jsx(W,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(R,{placeholder:"Search opportunities by title, company, or description...",value:r,onChange:s=>_(s.target.value),className:"pl-9"})]})}),D?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(j,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):f.length===0?e.jsxs(x,{className:"p-12 text-center",children:[e.jsx(F,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:l.length===0?"No Work Experience Opportunities Available Yet":"No Opportunities Match Your Search"}),e.jsx("p",{className:"text-muted-foreground",children:l.length===0?"Check back soon for exclusive work experience opportunities!":"Try adjusting your search criteria."})]}):e.jsx("div",{className:"space-y-4",children:f.map(s=>{const a=q(s.application_deadline),i=A(s.application_deadline);return e.jsxs(x,{className:H("hover-lift transition-all",a&&"opacity-60"),children:[e.jsxs(Y,{children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(M,{className:"text-xl mb-2",children:s.title}),s.company&&e.jsx(Q,{className:"text-base font-medium text-foreground mb-1",children:s.company})]}),a&&e.jsx(c,{variant:"destructive",children:"Deadline Passed"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[s.location&&e.jsxs(c,{variant:"outline",className:"gap-1",children:[e.jsx(I,{className:"h-3 w-3"}),s.location]}),s.duration&&e.jsxs(c,{variant:"outline",className:"gap-1",children:[e.jsx(g,{className:"h-3 w-3"}),s.duration]}),i&&!a&&e.jsxs(c,{variant:"secondary",className:"gap-1",children:[e.jsx(g,{className:"h-3 w-3"}),"Deadline: ",i]})]})]}),e.jsxs(w,{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:s.description}),s.requirements&&s.requirements.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-foreground mb-2",children:"Requirements:"}),e.jsx("ul",{className:"space-y-1",children:s.requirements.map((o,d)=>e.jsxs("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[e.jsx(b,{className:"h-4 w-4 text-premium mt-0.5 flex-shrink-0"}),e.jsx("span",{children:o})]},d))})]}),s.benefits&&s.benefits.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-foreground mb-2",children:"Benefits:"}),e.jsx("ul",{className:"space-y-1",children:s.benefits.map((o,d)=>e.jsxs("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[e.jsx(b,{className:"h-4 w-4 text-premium mt-0.5 flex-shrink-0"}),e.jsx("span",{children:o})]},d))})]}),s.application_url&&e.jsxs(v,{variant:"default",className:"w-full sm:w-auto bg-premium hover:bg-premium/90",onClick:()=>window.open(s.application_url,"_blank"),disabled:a,children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),a?"Application Closed":"Apply Now"]})]})]},s.id)})}),l.length>0&&e.jsx(x,{className:"mt-8 bg-premium/5 border-premium/20",children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(N,{className:"h-5 w-5 text-premium mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-foreground mb-1",children:"Exclusive Premium Opportunities"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"These work experience opportunities are exclusively available to premium members. They are carefully selected to provide valuable experience and help you build your career."})]})]})})})]})})}export{le as default};
