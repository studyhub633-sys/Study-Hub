import{u as T,b as F,r as t,d as j,j as e,L as N,B as g,E as I,a as M}from"./index-7wMNJNZJ.js";import{h as R,A as d,C as U}from"./AppLayout-Cb4f3Rcb.js";import{B as l}from"./badge-CT5QE6KZ.js";import{C as u,a as W,b as Q,c as Y,d as b}from"./card-BDQx_yt9.js";import{I as G}from"./input-CURGwIC-.js";import{U as v}from"./users-BPQvDXIc.js";import{S as H}from"./search-D5Hb3sC3.js";import{B as z}from"./briefcase-NAdPM7iO.js";import{M as J}from"./map-pin-1KTh6O-H.js";import{C as w}from"./calendar-D5Qbqv8w.js";import{C as y}from"./circle-check-C8Ohiiaq.js";import"./AnimatedLogoIcon-DY32PEux.js";import"./sheet-D4eoD1m7.js";import"./sun-CnDoiXzg.js";function ce(){const{supabase:m,user:i}=T(),x=F(),[C,k]=t.useState(!1),[P,S]=t.useState(!0),[n,L]=t.useState([]),[D,h]=t.useState(!0),[r,E]=t.useState("");t.useEffect(()=>{i&&(_(),B())},[i]);const _=async()=>{if(!(!i||!m))try{const s=await R(m);k(s),s||(j.error("This is a premium feature. Please upgrade to access."),x("/premium-dashboard"))}catch{}finally{S(!1)}},B=async()=>{if(i)try{h(!0);const{data:s,error:a}=await m.from("premium_work_experience").select("*").eq("is_premium",!0).eq("is_active",!0).order("created_at",{ascending:!1});if(a)throw a;L(s||[])}catch{j.error("Failed to load work experience opportunities.")}finally{h(!1)}},O=()=>n.filter(s=>!r||s.title.toLowerCase().includes(r.toLowerCase())||s.company?.toLowerCase().includes(r.toLowerCase())||s.description.toLowerCase().includes(r.toLowerCase())),q=s=>s?new Date(s)<new Date:!1,A=s=>s?new Date(s).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"}):null;if(P)return e.jsx(d,{children:e.jsx("div",{className:"max-w-6xl mx-auto flex items-center justify-center h-[60vh]",children:e.jsx(N,{className:"h-8 w-8 animate-spin text-muted-foreground"})})});if(!C)return e.jsx(d,{children:e.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col items-center justify-center h-[60vh] gap-4",children:[e.jsx(U,{className:"h-16 w-16 text-premium"}),e.jsx("h2",{className:"text-2xl font-bold",children:"Premium Feature"}),e.jsx("p",{className:"text-muted-foreground",children:"This feature is available for premium members only."}),e.jsx(g,{onClick:()=>x("/premium-dashboard"),children:"Upgrade to Premium"})]})});const f=O();return e.jsx(d,{children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx("div",{className:"mb-8 animate-fade-in",children:e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-3 rounded-xl bg-premium/10",children:e.jsx(v,{className:"h-6 w-6 text-premium"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Revisely.ai Work Experience"}),e.jsx("p",{className:"text-muted-foreground",children:"Exclusive work experience opportunities for premium members"})]})]})}),e.jsx("div",{className:"glass-card p-4 mb-6 animate-slide-up",children:e.jsxs("div",{className:"relative",children:[e.jsx(H,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(G,{placeholder:"Search opportunities by title, company, or description...",value:r,onChange:s=>E(s.target.value),className:"pl-9"})]})}),D?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(N,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):f.length===0?e.jsxs(u,{className:"p-12 text-center",children:[e.jsx(z,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:n.length===0?"No Work Experience Opportunities Available Yet":"No Opportunities Match Your Search"}),e.jsx("p",{className:"text-muted-foreground",children:n.length===0?"Check back soon for exclusive work experience opportunities!":"Try adjusting your search criteria."})]}):e.jsx("div",{className:"space-y-4",children:f.map(s=>{const a=q(s.application_deadline),p=A(s.application_deadline);return e.jsxs(u,{className:M("hover-lift transition-all",a&&"opacity-60"),children:[e.jsxs(W,{children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(Q,{className:"text-xl mb-2",children:s.title}),s.company&&e.jsx(Y,{className:"text-base font-medium text-foreground mb-1",children:s.company})]}),a&&e.jsx(l,{variant:"destructive",children:"Deadline Passed"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[s.location&&e.jsxs(l,{variant:"outline",className:"gap-1",children:[e.jsx(J,{className:"h-3 w-3"}),s.location]}),s.duration&&e.jsxs(l,{variant:"outline",className:"gap-1",children:[e.jsx(w,{className:"h-3 w-3"}),s.duration]}),p&&!a&&e.jsxs(l,{variant:"secondary",className:"gap-1",children:[e.jsx(w,{className:"h-3 w-3"}),"Deadline: ",p]})]})]}),e.jsxs(b,{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:s.description}),s.requirements&&s.requirements.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-foreground mb-2",children:"Requirements:"}),e.jsx("ul",{className:"space-y-1",children:s.requirements.map((c,o)=>e.jsxs("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[e.jsx(y,{className:"h-4 w-4 text-premium mt-0.5 flex-shrink-0"}),e.jsx("span",{children:c})]},o))})]}),s.benefits&&s.benefits.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-foreground mb-2",children:"Benefits:"}),e.jsx("ul",{className:"space-y-1",children:s.benefits.map((c,o)=>e.jsxs("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[e.jsx(y,{className:"h-4 w-4 text-premium mt-0.5 flex-shrink-0"}),e.jsx("span",{children:c})]},o))})]}),s.application_url&&e.jsxs(g,{variant:"default",className:"w-full sm:w-auto bg-premium hover:bg-premium/90",onClick:()=>window.open(s.application_url,"_blank"),disabled:a,children:[e.jsx(I,{className:"h-4 w-4 mr-2"}),a?"Application Closed":"Apply Now"]})]})]},s.id)})}),n.length>0&&e.jsx(u,{className:"mt-8 bg-premium/5 border-premium/20",children:e.jsx(b,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(v,{className:"h-5 w-5 text-premium mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-foreground mb-1",children:"Exclusive Premium Opportunities"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"These work experience opportunities are exclusively available to premium members. They are carefully selected to provide valuable experience and help you build your career."})]})]})})})]})})}export{ce as default};
