async function a(s){try{const{data:{user:e}}=await s.auth.getUser();if(!e)return!1;const{data:r}=await s.from("profiles").select("is_premium").eq("id",e.id).single();return(r==null?void 0:r.is_premium)||!1}catch{return!1}}async function n(s,e){try{const{data:r}=await s.from("profiles").select("is_admin").eq("id",e).maybeSingle();return(r==null?void 0:r.is_admin)||!1}catch{return!1}}async function c(s){try{const{data:{session:e}}=await s.auth.getSession();if(!(e!=null&&e.access_token))return{success:!1,error:"No active session"};const t=await(await fetch("/api/auth/grant-beta-premium",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.access_token}`}})).json();return t.success?{success:!0}:{success:!1,error:t.details||t.error||"Unknown error"}}catch(e){return{success:!1,error:e.message||"Network error"}}}export{c as g,a as h,n as i};
