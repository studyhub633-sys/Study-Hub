import{j as e,F as re,a1 as Y,a9 as V,a8 as W,I as H,ab as ie,ac as oe,s as $,z as ne,L as U,G,ad as le,Y as ce,v as K,T as de}from"./ui-vendor-BkbvuH_y.js";import{c as N,u as C,a as E}from"./index-DN2StWe2.js";import{L as Q,r as d,u as ue}from"./react-vendor-CW_qxVlV.js";import{B as A}from"./button-EqlKTezP.js";import{D as me,a as pe,b as he,c as xe,d as ge,f as fe}from"./dialog-DEEVtVen.js";import{I as z}from"./input-BZEgG1eO.js";import{L as k}from"./label-Bxm2S76w.js";import{S as je,a as ye,b as be,c as ve,d as F}from"./select-BfIDHEDX.js";import{P as Ne}from"./progress-CsqQkRqT.js";import{h as we}from"./premium-eVfGSoKP.js";import{A as Ce}from"./AppLayout-CN79_BfK.js";import"./supabase-vendor-DI52Tw1b.js";import"./query-vendor-B5gxQqnu.js";import"./index-BdQq_4o_.js";import"./index-Ca2jQLVk.js";import"./sheet-YK_0sUrL.js";const Se={primary:{iconBg:"bg-primary/10",iconColor:"text-primary",hoverBorder:"hover:border-primary/30"},secondary:{iconBg:"bg-secondary/10",iconColor:"text-secondary",hoverBorder:"hover:border-secondary/30"},accent:{iconBg:"bg-accent/20",iconColor:"text-accent-foreground",hoverBorder:"hover:border-accent/30"},premium:{iconBg:"bg-premium/10",iconColor:"text-premium",hoverBorder:"hover:border-premium/30"}};function De({icon:r,title:s,description:c,count:p=0,countLabel:f,path:i,color:o,isPremium:t=!1,progress:l}){const n=Se[o],m=i.startsWith("http"),x=e.jsxs("div",{className:N("module-card relative overflow-hidden transition-all duration-300",n.hoverBorder,"hover:shadow-lg"),children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:N("p-3 rounded-xl transition-transform duration-300 group-hover:scale-110",n.iconBg),children:e.jsx(r,{className:N("h-6 w-6",n.iconColor)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-semibold text-foreground group-hover:text-primary transition-colors truncate",children:s}),t&&e.jsx("span",{className:"premium-badge shrink-0",children:"PRO"})]}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:c})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-border/50 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-2xl font-bold text-foreground",children:p}),e.jsx("span",{className:"text-sm text-muted-foreground ml-2",children:f})]}),l!==void 0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-2 w-16 bg-muted rounded-full overflow-hidden",children:e.jsx("div",{className:N("h-full rounded-full transition-all duration-500",`bg-${o}`),style:{width:`${l}%`,backgroundColor:o==="primary"?"hsl(var(--primary))":o==="secondary"?"hsl(var(--secondary))":o==="accent"?"hsl(var(--accent))":"hsl(var(--premium))"}})}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[l,"%"]})]})]})]});return m?e.jsx("a",{href:i,className:"block group",children:x}):e.jsx(Q,{to:i,className:"block group",children:x})}function _(r){const c=Math.floor((new Date().getTime()-r.getTime())/1e3);return c<60?"Just now":c<3600?`${Math.floor(c/60)} minutes ago`:c<86400?`${Math.floor(c/3600)} hours ago`:c<604800?`${Math.floor(c/86400)} days ago`:r.toLocaleDateString()}function ke(){const{supabase:r,user:s}=C(),[c,p]=d.useState([]),[f,i]=d.useState(!0);return d.useEffect(()=>{if(!s)return;(async()=>{try{const t=[],{data:l}=await r.from("notes").select("id, title, updated_at, subject").eq("user_id",s.id).order("updated_at",{ascending:!1}).limit(5);l&&l.forEach(a=>{t.push({icon:Y,title:a.subject?`${a.subject}: ${a.title}`:a.title,time:_(new Date(a.updated_at)),date:new Date(a.updated_at),type:"note",color:"text-accent-foreground",bgColor:"bg-accent/20"})});const{data:n}=await r.from("flashcards").select("id, front, updated_at, subject").eq("user_id",s.id).order("updated_at",{ascending:!1}).limit(5);n&&n.forEach(a=>{t.push({icon:V,title:a.subject?`${a.subject} Flashcard: ${a.front.substring(0,30)}${a.front.length>30?"...":""}`:`Flashcard: ${a.front.substring(0,30)}${a.front.length>30?"...":""}`,time:_(new Date(a.updated_at)),date:new Date(a.updated_at),type:"flashcard",color:"text-primary",bgColor:"bg-primary/10"})});const{data:m}=await r.from("past_papers").select("id, title, updated_at, subject").eq("user_id",s.id).order("updated_at",{ascending:!1}).limit(5);m&&m.forEach(a=>{t.push({icon:W,title:a.subject?`${a.subject} Past Paper: ${a.title}`:a.title,time:_(new Date(a.updated_at)),date:new Date(a.updated_at),type:"paper",color:"text-secondary",bgColor:"bg-secondary/10"})});const{data:x}=await r.from("extracurriculars").select("id, name, updated_at").eq("user_id",s.id).order("updated_at",{ascending:!1}).limit(5);x&&x.forEach(a=>{t.push({icon:H,title:`Logged: ${a.name}`,time:_(new Date(a.updated_at)),date:new Date(a.updated_at),type:"extracurricular",color:"text-premium",bgColor:"bg-premium/10"})}),t.sort((a,j)=>j.date.getTime()-a.date.getTime());const w=t.slice(0,4).map(({date:a,...j})=>j);p(w)}catch{}finally{i(!1)}})()},[s,r]),e.jsxs("div",{className:"glass-card p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-foreground",children:"Recent Activity"}),e.jsx("button",{onClick:()=>{const{toast:o}=require("@/hooks/use-toast");o({title:"Coming Soon",description:"The full activity history page is under development. For now, you can view your recent work here."})},className:"text-sm text-primary hover:underline hover:opacity-80 transition-opacity",children:"View all"})]}),e.jsx("div",{className:"space-y-4",children:f?e.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading activities..."}):c.length===0?e.jsx("p",{className:"text-sm text-muted-foreground",children:"No recent activity. Start creating notes, flashcards, or past papers!"}):c.map((o,t)=>e.jsxs("div",{className:"flex items-start gap-3 animate-slide-up",style:{animationDelay:`${t*.1}s`,opacity:0},children:[e.jsx("div",{className:N("p-2 rounded-lg flex-shrink-0",o.bgColor),children:e.jsx(o.icon,{className:N("h-4 w-4",o.color)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-foreground",children:o.title}),e.jsxs("div",{className:"flex items-center gap-1.5 mt-1",children:[e.jsx(re,{className:"h-3 w-3 text-muted-foreground"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:o.time})]})]})]},t))})]})}function _e(){const{supabase:r,user:s}=C(),[c,p]=d.useState([]),[f,i]=d.useState(!0);return d.useEffect(()=>{if(!s)return;(async()=>{try{const t=[],{count:l}=await r.from("notes").select("*",{count:"exact",head:!0}).eq("user_id",s.id),{count:n}=await r.from("flashcards").select("*",{count:"exact",head:!0}).eq("user_id",s.id),{count:m}=await r.from("past_papers").select("*",{count:"exact",head:!0}).eq("user_id",s.id);l===0?t.push({title:"Create your first note",description:"Start organising your studies by creating exam notes.",action:"Get Started",path:"/notes"}):l&&l>0&&t.push({title:"Continue your notes",description:`You have ${l} note${l>1?"s":""}. Keep adding more!`,action:"View Notes",path:"/notes"}),n===0?t.push({title:"Create flashcards",description:"Build your flashcard deck to improve your memory retention.",action:"Create Cards",path:"/flashcards"}):n&&n>0&&t.push({title:"Review your flashcards",description:`You have ${n} flashcard${n>1?"s":""}. Practice them regularly!`,action:"Practice Now",path:"/flashcards"}),m===0?t.push({title:"Try a past paper",description:"Practice with past papers to prepare for your exams.",action:"Add Papers",path:"/past-papers"}):m&&m>0&&t.push({title:"Complete a past paper",description:`You have ${m} past paper${m>1?"s":""}. Challenge yourself!`,action:"Start Quiz",path:"/past-papers"}),p(t.slice(0,3))}catch{}finally{i(!1)}})()},[s,r]),e.jsxs("div",{className:"glass-card p-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-accent/20 to-transparent rounded-full blur-2xl"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-2 rounded-lg bg-accent/20",children:e.jsx(ie,{className:"h-5 w-5 text-accent-foreground"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-foreground",children:"Suggested for You"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Based on your activity"})]})]}),e.jsx("div",{className:"space-y-3",children:f?e.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading suggestions..."}):c.length===0?e.jsx("p",{className:"text-sm text-muted-foreground py-4",children:"No suggestions available. Start creating content to get personalized recommendations!"}):c.map((o,t)=>e.jsx(Q,{to:o.path,className:"block p-4 rounded-xl bg-muted/50 hover:bg-muted transition-all duration-200 cursor-pointer group animate-slide-up",style:{animationDelay:`${t*.1}s`,opacity:0},children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-foreground mb-1",children:o.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:o.description})]}),e.jsxs(A,{size:"sm",variant:"ghost",className:"flex-shrink-0 text-primary group-hover:bg-primary group-hover:text-primary-foreground transition-colors",children:[o.action,e.jsx(oe,{className:"h-4 w-4 ml-1"})]})]})},t))}),e.jsx("div",{className:"mt-4 p-4 rounded-xl border border-premium/30 bg-premium/5",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("div",{className:"p-2 rounded-lg flex-shrink-0",style:{background:"var(--gradient-premium)"},children:e.jsx($,{className:"h-5 w-5 text-premium-foreground"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-foreground",children:"Unlock AI-powered suggestions"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Get personalized study recommendations"})]})]}),e.jsx(A,{size:"sm",className:"w-full sm:w-auto bg-premium hover:bg-premium/90 text-premium-foreground shrink-0",children:"Upgrade"})]})})]})]})}const $e={high:"bg-destructive/10 text-destructive border-destructive/20",medium:"bg-accent/20 text-accent-foreground border-accent/30",low:"bg-secondary/10 text-secondary border-secondary/20"};function Ae(){const{supabase:r,user:s}=C(),[c,p]=d.useState([]),[f,i]=d.useState(!0),[o,t]=d.useState(!1),[l,n]=d.useState(!1),[m,x]=d.useState(""),[w,a]=d.useState(""),[j,y]=d.useState("medium"),[b,S]=d.useState(""),D=async()=>{if(s)try{const{data:u,error:h}=await r.from("tasks").select("*").eq("user_id",s.id).eq("completed",!1).order("due_date",{ascending:!0}).limit(5);if(h)throw h;p(u||[])}catch{}finally{i(!1)}};d.useEffect(()=>{D()},[s,r]);const L=async u=>{if(u.preventDefault(),!!s){if(!m){E.error("Please enter a task title");return}t(!0);try{const{error:h}=await r.from("tasks").insert([{user_id:s.id,title:m,subject:w,priority:j,due_date:b||new Date().toISOString()}]);if(h)throw h;E.success("Task added successfully"),n(!1),T(),D()}catch{E.error("Failed to add task. Make sure the 'tasks' table exists.")}finally{t(!1)}}},T=()=>{x(""),a(""),y("medium"),S("")},P=u=>new Date(u).toLocaleDateString("en-US",{month:"short",day:"numeric"});return e.jsxs("div",{className:"glass-card p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-foreground",children:"Upcoming Tasks"}),e.jsxs(me,{open:l,onOpenChange:n,children:[e.jsx(pe,{asChild:!0,children:e.jsxs(A,{variant:"ghost",size:"sm",className:"text-primary gap-1.5",children:[e.jsx(ne,{className:"h-4 w-4"}),"Add Task"]})}),e.jsxs(he,{className:"sm:max-w-[425px]",children:[e.jsx(xe,{children:e.jsx(ge,{children:"Add New Task"})}),e.jsxs("form",{onSubmit:L,className:"space-y-4 pt-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(k,{htmlFor:"title",children:"Task Title"}),e.jsx(z,{id:"title",placeholder:"e.g., Complete Biology Revision",value:m,onChange:u=>x(u.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(k,{htmlFor:"subject",children:"Subject"}),e.jsx(z,{id:"subject",placeholder:"e.g., Biology",value:w,onChange:u=>a(u.target.value)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(k,{htmlFor:"priority",children:"Priority"}),e.jsxs(je,{value:j,onValueChange:y,children:[e.jsx(ye,{id:"priority",children:e.jsx(be,{placeholder:"Select priority"})}),e.jsxs(ve,{children:[e.jsx(F,{value:"low",children:"Low"}),e.jsx(F,{value:"medium",children:"Medium"}),e.jsx(F,{value:"high",children:"High"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(k,{htmlFor:"due_date",children:"Due Date"}),e.jsx(z,{id:"due_date",type:"date",value:b,onChange:u=>S(u.target.value)})]})]}),e.jsx(fe,{className:"pt-4",children:e.jsxs(A,{type:"submit",disabled:o,children:[o&&e.jsx(U,{className:"mr-2 h-4 w-4 animate-spin"}),"Add Task"]})})]})]})]})]}),e.jsx("div",{className:"space-y-3",children:f?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(U,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):c.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(G,{className:"h-12 w-12 text-muted-foreground/50 mx-auto mb-3"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"No upcoming tasks"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Tasks will appear here when you add them"})]}):c.map((u,h)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50 hover:bg-muted transition-colors cursor-pointer group animate-slide-up",style:{animationDelay:`${h*.1}s`,opacity:0},children:[e.jsx("div",{className:N("p-2 rounded-lg border",$e[u.priority]),children:u.priority==="high"?e.jsx(le,{className:"h-4 w-4"}):e.jsx(G,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:u.title}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[u.subject&&`${u.subject} â€¢ `,P(u.due_date)]})]}),e.jsx(ce,{className:"h-4 w-4 text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity"})]},u.id))})]})}function Le(){var j;const{supabase:r,user:s}=C(),c=ue(),[p,f]=d.useState(null),[i,o]=d.useState({notesCount:0,flashcardsCount:0,papersCount:0,streak:0}),[t,l]=d.useState(!0),[n,m]=d.useState(null),x=new Date().getHours(),w=x<12?"Good morning":x<18?"Good afternoon":"Good evening";d.useEffect(()=>{if(!s)return;(async()=>{try{const{data:b}=await r.from("profiles").select("full_name, email").eq("id",s.id).single();b&&f(b);const[S,D,L,T,P,u]=await Promise.all([r.from("notes").select("*",{count:"exact",head:!0}).eq("user_id",s.id),r.from("flashcards").select("*",{count:"exact",head:!0}).eq("user_id",s.id),r.from("past_papers").select("*",{count:"exact",head:!0}).eq("user_id",s.id),r.from("study_sessions").select("date").eq("user_id",s.id),r.from("notes").select("updated_at").eq("user_id",s.id),r.from("flashcards").select("updated_at").eq("user_id",s.id)]),h=g=>`${g.getFullYear()}-${String(g.getMonth()+1).padStart(2,"0")}-${String(g.getDate()).padStart(2,"0")}`,v=new Set;(T.data||[]).forEach(g=>v.add(h(new Date(g.date)))),(P.data||[]).forEach(g=>v.add(h(new Date(g.updated_at)))),(u.data||[]).forEach(g=>v.add(h(new Date(g.updated_at))));const J=(()=>{if(v.size===0)return 0;const g=h(new Date),R=h(new Date(Date.now()-864e5));let q;if(v.has(g))q=g;else if(v.has(R))q=R;else return 0;let M=0,B=q;for(;v.has(B);){M++;const[ee,te,se]=B.split("-").map(Number),ae=new Date(ee,te-1,se-1);B=h(ae)}return M})();o({notesCount:S.count||0,flashcardsCount:D.count||0,papersCount:L.count||0,streak:J});const X=new Date(Date.now()-24*60*60*1e3).toISOString(),{count:Z}=await r.from("ai_usage_tracking").select("*",{count:"exact",head:!0}).eq("user_id",s.id).gt("created_at",X),I=await we(r);m({count:Z||0,limit:I?500:10,isPremium:I})}catch{}finally{l(!1)}})()},[s,r]);const a=(p==null?void 0:p.full_name)||((j=p==null?void 0:p.email)==null?void 0:j.split("@")[0])||"there";return e.jsxs("div",{className:"relative overflow-hidden rounded-2xl p-6 md:p-8",style:{background:"var(--gradient-primary)"},children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white/5 rounded-full blur-2xl translate-y-1/2 -translate-x-1/2"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-start justify-between flex-wrap gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-primary-foreground/80",children:[e.jsx($,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:w})]}),e.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-primary-foreground",children:["Welcome back, ",a,"!"]}),e.jsx("p",{className:"text-primary-foreground/80 max-w-md",children:t?"Loading your progress...":i.notesCount+i.flashcardsCount+i.papersCount===0?"Get started by creating your first note, flashcard, or past paper!":"You're making great progress. Keep up the momentum!"}),n&&e.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[e.jsxs("button",{onClick:()=>c("/ai-tutor"),className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-white/20 hover:bg-white/30 text-white transition-colors text-sm font-medium backdrop-blur-md",children:[e.jsx(K,{className:"h-4 w-4"}),"Chat with AI Tutor",e.jsx("span",{className:"text-xs opacity-80 ml-1",children:n.isPremium?"(Lifetime Access)":`(${n.limit-n.count} left)`})]}),!n.isPremium&&e.jsxs("button",{onClick:()=>c("/premium-dashboard"),className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-premium hover:bg-premium/90 text-premium-foreground transition-all shadow-lg shadow-premium/20 text-sm font-bold border border-premium-foreground/20 animate-pulse-subtle",children:[e.jsx($,{className:"h-4 w-4"}),"Unlock Lifetime Access (Beta)"]})]})]}),i.notesCount+i.flashcardsCount+i.papersCount>0&&e.jsxs("div",{className:"glass-card bg-white/10 backdrop-blur-sm border-white/20 p-4 rounded-xl min-w-[160px]",children:[e.jsxs("div",{className:"flex items-center gap-2 text-primary-foreground/80 text-sm mb-2",children:[e.jsx(de,{className:"h-4 w-4"}),e.jsx("span",{children:"Total Items"})]}),e.jsx("div",{className:"text-3xl font-bold text-primary-foreground mb-2",children:i.notesCount+i.flashcardsCount+i.papersCount}),e.jsx(Ne,{value:Math.min(100,(i.notesCount+i.flashcardsCount+i.papersCount)/100*100),className:"h-2 bg-white/20"})]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-6",children:[{label:"Notes",value:i.notesCount.toString(),change:i.notesCount===0?"None yet":"Created"},{label:"Flashcards",value:i.flashcardsCount.toString(),change:i.flashcardsCount===0?"None yet":"Created"},{label:"Past Papers",value:i.papersCount.toString(),change:i.papersCount===0?"None yet":"Added"},{label:"Study Streak",value:i.streak>0?`${i.streak} days`:"0 days",change:i.streak>0?"ðŸ”¥ Keep going!":"Start studying!"}].map((y,b)=>e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-3 animate-scale-in",style:{animationDelay:`${b*.1}s`,opacity:0},children:[e.jsx("p",{className:"text-primary-foreground/70 text-xs mb-1",children:y.label}),e.jsx("p",{className:"text-primary-foreground font-bold text-lg",children:y.value}),e.jsx("p",{className:"text-primary-foreground/60 text-xs mt-0.5",children:y.change})]},y.label))})]})]})}const O=[{icon:Y,title:"Exam Notes",description:"Organised notes by subject and topic with highlights",countLabel:"notes",path:"/notes",color:"primary",tableName:"notes"},{icon:V,title:"Flashcards",description:"Interactive cards with quiz mode and progress tracking",countLabel:"cards",path:"/flashcards",color:"secondary",tableName:"flashcards"},{icon:W,title:"Past Papers",description:"Practice with marked answers and timed quizzes",countLabel:"papers",path:"/past-papers",color:"accent",tableName:"past_papers"},{icon:K,title:"Knowledge Organisers",description:"Visual summaries with collapsible sections",countLabel:"organizers",path:"/knowledge",color:"primary",tableName:"knowledge_organizers"},{icon:H,title:"Extracurriculars",description:"Track activities, hours, and achievements",countLabel:"activities",path:"/extracurricular",color:"premium",tableName:"extracurriculars"},{icon:$,title:"Unlimited AI Generated Questions",description:"AI-generated questions, tutor support, and practice (10/day for free users)",count:500,countLabel:"questions",path:"/ai-tutor",color:"premium",isPremium:!1}];function He(){const{supabase:r,user:s}=C(),[c,p]=d.useState({}),[f,i]=d.useState(!0);d.useEffect(()=>{if(!s)return;(async()=>{try{const l={};for(const n of O)if(n.tableName&&!n.isPremium){const{count:m,error:x}=await r.from(n.tableName).select("*",{count:"exact",head:!0}).eq("user_id",s.id);x||(l[n.tableName]=m||0)}p(l)}catch{}finally{i(!1)}})()},[s,r]);const o=O.map(t=>{if(t.isPremium)return t;const l=t.tableName&&c[t.tableName]||0;return{...t,count:l,progress:void 0}});return e.jsx(Ce,{children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[e.jsx("section",{className:"animate-fade-in",children:e.jsx(Le,{})}),e.jsxs("section",{children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Quick Access"})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map((t,l)=>e.jsx("div",{className:"animate-slide-up",style:{animationDelay:`${l*.1}s`,opacity:0},children:e.jsx(De,{...t})},t.title))})]}),e.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"animate-slide-up",style:{animationDelay:"0.2s",opacity:0},children:e.jsx(ke,{})}),e.jsx("div",{className:"animate-slide-up",style:{animationDelay:"0.3s",opacity:0},children:e.jsx(Ae,{})})]}),e.jsx("section",{className:"animate-slide-up",style:{animationDelay:"0.4s",opacity:0},children:e.jsx(_e,{})})]})})}export{He as default};
