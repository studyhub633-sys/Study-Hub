import{j as e,F as b,aq as L,E as S,L as C}from"./ui-vendor-C99L-hD9.js";import{B as i,A as E}from"./button-CTbG2CuD.js";import{A,a as k}from"./alert-CElRxoA3.js";import{C as F,a as P,b as I,c as B,d as D}from"./card-CZtYvRKS.js";import{I as p}from"./input-Cw2xi0UF.js";import{L as f}from"./label-BjmZLFhB.js";import{u as q}from"./index-Bze4zWta.js";import{r as s,u as z,L as o}from"./react-vendor-CW_qxVlV.js";import"./supabase-vendor-BFJX04bJ.js";import"./query-vendor-CVP6rs-5.js";function U(){const[l,g]=s.useState(""),[c,j]=s.useState(""),[r,v]=s.useState(!1),[d,m]=s.useState(""),[t,u]=s.useState(!1),{signIn:w,user:x,loading:h}=q(),n=z();s.useEffect(()=>{!h&&x&&n("/")},[x,h,n]);const y=async a=>{a.preventDefault(),m(""),u(!0);try{await w(l,c),n("/")}catch(N){m(N.message||"Failed to sign in. Please check your credentials.")}finally{u(!1)}};return e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-b from-background to-muted/20 p-4",children:[e.jsx("div",{className:"w-full max-w-md mb-4",children:e.jsx(o,{to:"/landing",children:e.jsxs(i,{variant:"ghost",className:"gap-2 text-muted-foreground hover:text-foreground",children:[e.jsx(b,{className:"h-4 w-4"}),"Back to Landing Page"]})})}),e.jsxs(F,{className:"w-full max-w-md",children:[e.jsxs(P,{className:"space-y-1 text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx(E,{})}),e.jsx(I,{className:"text-2xl font-bold",children:"Welcome Back"}),e.jsx(B,{children:"Sign in to your account to continue your studies"})]}),e.jsxs(D,{children:[e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[d&&e.jsx(A,{variant:"destructive",children:e.jsx(k,{children:d})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"email",children:"Email"}),e.jsx(p,{id:"email",type:"email",placeholder:"you@example.com",value:l,onChange:a=>g(a.target.value),required:!0,disabled:t})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(f,{htmlFor:"password",children:"Password"}),e.jsx(o,{to:"/forgot-password",className:"text-sm text-primary hover:underline",children:"Forgot password?"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(p,{id:"password",type:r?"text":"password",placeholder:"Enter your password",value:c,onChange:a=>j(a.target.value),required:!0,disabled:t,className:"pr-10"}),e.jsx(i,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>v(!r),children:r?e.jsx(L,{className:"h-4 w-4 text-muted-foreground"}):e.jsx(S,{className:"h-4 w-4 text-muted-foreground"})})]})]}),e.jsx(i,{type:"submit",className:"w-full",disabled:t,children:t?e.jsxs(e.Fragment,{children:[e.jsx(C,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"})]}),e.jsxs("div",{className:"mt-6 text-center text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Don't have an account? "}),e.jsx(o,{to:"/signup",className:"text-primary hover:underline font-medium",children:"Sign up"})]})]})]})]})}export{U as default};
