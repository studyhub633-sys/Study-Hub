import{j as e,al as p,ar as g,L as N}from"./ui-vendor-DvDVRjyp.js";import{A as b}from"./AnimatedLogoIcon-D6d7HWVb.js";import{A as y,a as v}from"./alert-B48mObgu.js";import{u as w,j as L,B as l}from"./index-DEqmCALs.js";import{C,a as S,b as k,c as A,d as E}from"./card-C99jCs8O.js";import{I as P}from"./input-CG8Ib3hH.js";import{L as T}from"./label-lvNOnDGI.js";import{r as a,L as u}from"./react-vendor-Do86TxWo.js";import"./supabase-vendor-C2nLxrxH.js";import"./query-vendor-Bk-KKE7Z.js";function K(){const[t,h]=a.useState(""),[n,o]=a.useState(""),[r,c]=a.useState(!1),[m,d]=a.useState(!1),{resetPassword:x}=w(),{t:s}=L(),j=async i=>{i.preventDefault(),o(""),c(!0);try{await x(t),d(!0)}catch(f){o(f.message||"Failed to send reset email. Please try again.")}finally{c(!1)}};return e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-b from-background to-muted/20 p-4",children:[e.jsx("div",{className:"w-full max-w-md mb-4",children:e.jsx(u,{to:"/login",children:e.jsxs(l,{variant:"ghost",className:"gap-2 text-muted-foreground hover:text-foreground",children:[e.jsx(p,{className:"h-4 w-4"}),s("auth.returnToLogin")]})})}),e.jsxs(C,{className:"w-full max-w-md",children:[e.jsxs(S,{className:"space-y-1 text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx(b,{})}),e.jsx(k,{className:"text-2xl font-bold",children:s("auth.resetPassword")}),e.jsx(A,{children:s(m?"auth.checkEmail":"auth.resetPasswordSubtitle")})]}),e.jsx(E,{children:m?e.jsxs("div",{className:"text-center py-4 space-y-4",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx(g,{className:"h-12 w-12 text-green-500 animate-in zoom-in duration-300"})}),e.jsx("p",{className:"text-muted-foreground",children:s("auth.emailSentTo",{email:t})}),e.jsxs("p",{className:"text-sm",children:[s("auth.checkSpam"),e.jsx("button",{onClick:()=>d(!1),className:"text-primary hover:underline",children:s("auth.tryAgain")})]}),e.jsx(u,{to:"/login",className:"block mt-4",children:e.jsx(l,{variant:"outline",className:"w-full",children:s("auth.returnToLogin")})})]}):e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[n&&e.jsx(y,{variant:"destructive",children:e.jsx(v,{children:n})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(T,{htmlFor:"email",children:s("common.email")}),e.jsx(P,{id:"email",type:"email",placeholder:"you@example.com",value:t,onChange:i=>h(i.target.value),required:!0,disabled:r})]}),e.jsx(l,{type:"submit",className:"w-full",disabled:r,children:r?e.jsxs(e.Fragment,{children:[e.jsx(N,{className:"mr-2 h-4 w-4 animate-spin"}),s("auth.sendingLink")]}):s("auth.sendResetLink")})]})})]})]})}export{K as default};
